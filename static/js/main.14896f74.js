/*! For license information please see main.14896f74.js.LICENSE.txt */
(()=>{var e={396:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),s={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case T:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Ce=null;function Te(e){if(e=wi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function ke(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function xe(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ce)&&(Ne(),xe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Re=!1}function je(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Me=null,Ue=!1,Fe=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,s,o,a,l){Le=!1,Me=null,je.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,St,Ct,Tt,kt=!1,xt=[],It=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){kt=!1,null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Ot.forEach(Ft),Pt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<xt.length){zt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var $t=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=wt,s=$t.transition;$t.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,$t.transition=s}}function Wt(e,t,n,r){var i=wt,s=$t.transition;$t.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,$t.transition=s}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ot.set(s,Lt(Ot.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=vi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),dn=M({},un,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),yn=sn(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(M({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return Cn}var kn=M({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=sn(kn),In=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(On),Rn=[9,13,27,32],Dn=c&&"CompositionEvent"in window,jn=null;c&&"documentMode"in document&&(jn=document.documentMode);var Ln=c&&"TextEvent"in window&&!jn,Mn=c&&(!Dn||jn&&8<jn&&11>=jn),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Ur(e,0)}function Qn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,_e(e)),Oe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Cr={};function Tr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Sr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=Tr("animationend"),xr=Tr("animationiteration"),Ir=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Dr=Or[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(kr,"onAnimationEnd"),Pr(xr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var c=Me;Le=!1,Me=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,u),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=s,i=_e(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case xr:case Ir:l=yn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&c.push(Hr(p,m,f)))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:bi(l),f=null==u?a:bi(u),(a=new c(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,vi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==l&&Gr(o,a,l,c,!1),null!==u&&null!==d&&Gr(o,d,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(qn(a))if(Jn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(v=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Wr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=zn(n))&&(w.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Pe(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Pe(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],Si=-1;function Ci(e){return{current:e}}function Ti(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function ki(e,t){Si++,Ei[Si]=e.current,e.current=t}var xi={},Ii=Ci(xi),Ni=Ci(!1),Ai=xi;function Oi(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ni),Ti(Ii)}function Di(e,t,n){if(Ii.current!==xi)throw Error(s(168));ki(Ii,t),ki(Ni,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ai=Ii.current,ki(Ii,e),ki(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ji(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(Ii),ki(Ii,e)):Ti(Ni),ki(Ni,n)}var Ui=null,Fi=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var $i=[],qi=0,Hi=null,Wi=0,Ki=[],Gi=0,Qi=null,Yi=1,Ji="";function Xi(e,t){$i[qi++]=Wi,$i[qi++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else Yi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=$i[--qi],$i[qi]=null,Wi=$i[--qi],$i[qi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=ju(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=Uu(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=ju(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===a.length)return n(i,d),is&&Xi(i,m),u;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===c?u=d:c.sibling=d,c=d);return is&&Xi(i,m),u}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Xi(i,m),u}function g(i,a,l,u){var c=j(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===d?c=w:d.sibling=w,d=w,m=y}if(v.done)return n(i,m),is&&Xi(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,u))&&(a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return is&&Xi(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Xi(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&vs(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=gs(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((s=ju(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Du(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uu(o,r.mode,l)).return=r,r=s}return a(r);case P:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(j(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Mu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var bs=ws(!0),_s=ws(!1),Es=Ci(null),Ss=null,Cs=null,Ts=null;function ks(){Ts=Cs=Ss=null}function xs(e){var t=Es.current;Ti(Es),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Ss=e,Ts=Cs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Cs){if(null===Ss)throw Error(s(308));Cs=e,Ss.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var Os=null;function Ps(e){null===Os?Os=[e]:Os.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var js=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;js=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,c=u=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:js=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function $s(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Hs=Ci(qs),Ws=Ci(qs),Ks=Ci(qs);function Gs(e){if(e===qs)throw Error(s(174));return e}function Qs(e,t){switch(ki(Ks,t),ki(Ws,e),ki(Hs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Hs),ki(Hs,t)}function Ys(){Ti(Hs),Ti(Ws),Ti(Ks)}function Js(e){Gs(Ks.current);var t=Gs(Hs.current),n=le(t,e.type);t!==n&&(ki(Ws,e),ki(Hs,n))}function Xs(e){Ws.current===e&&(Ti(Hs),Ti(Ws))}var Zs=Ci(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Xo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function wo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var d=c.lane;if((so&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,a=r):u=u.next=h,oo.lanes|=d,Ll|=d}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Co(e,t){var n=oo,r=wo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Lo(xo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Oo(9,ko.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&so)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&No(e)}function xo(e,t,n){return n((function(){Io(t)&&No(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Ds(e,1);null!==t&&nu(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return wo().memoizedState}function Ro(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=wo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Oo(t,n,s,r))}oo.flags|=e,i.memoizedState=Oo(1|t,n,s,r)}function jo(e,t){return Ro(8390656,8,e,t)}function Lo(e,t){return Do(2048,8,e,t)}function Mo(e,t){return Do(4,2,e,t)}function Uo(e,t){return Do(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Fo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ho(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{wt=n,io.transition=r}}function Wo(){return wo().memoizedState}function Ko(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Yo(t,n);else if(null!==(n=Rs(e,t,n,r))){nu(n,e,r,eu()),Jo(n,t,r)}}function Go(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Yo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Rs(e,t,i,r))&&(nu(n,e,r,i=eu()),Jo(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xo={readContext:As,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:As,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:zo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Ho.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&so)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jo(xo.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Nl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:As,useCallback:Bo,useContext:As,useEffect:Lo,useImperativeHandle:Vo,useInsertionEffect:Mo,useLayoutEffect:Uo,useMemo:$o,useReducer:_o,useRef:Po,useState:function(){return _o(bo)},useDebugValue:zo,useDeferredValue:function(e){return qo(wo(),ao.memoizedState,e)},useTransition:function(){return[_o(bo)[0],wo().memoizedState]},useMutableSource:So,useSyncExternalStore:Co,useId:Wo,unstable_isNewReconciler:!1},ta={readContext:As,useCallback:Bo,useContext:As,useEffect:Lo,useImperativeHandle:Vo,useInsertionEffect:Mo,useLayoutEffect:Uo,useMemo:$o,useReducer:Eo,useRef:Po,useState:function(){return Eo(bo)},useDebugValue:zo,useDeferredValue:function(e){var t=wo();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[Eo(bo)[0],wo().memoizedState]},useMutableSource:So,useSyncExternalStore:Co,useId:Wo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nu(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nu(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,r))&&(nu(t,e,r,n),Vs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=xi,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Pi(t)?Ai:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):xi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Pi(t)?Ai:Ii.current,i.context=Oi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),da(0,t)},n}function pa(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?_s(t,null,n,r):bs(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=go(e,t,n,r,s,i),n=yo(),null===e||wa?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Ru(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return ka(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Rl,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Rl,Pl),Pl|=r;return ba(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var s=Pi(n)?Ai:Ii.current;return s=Oi(t,s),Ns(t,i),n=go(e,t,n,r,s,i),r=yo(),null===e||wa?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function xa(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)$a(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=As(u):u=Oi(t,u=Pi(n)?Ai:Ii.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),js=!1;var h=t.memoizedState;o.state=h,Bs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ni.current||js?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=js||sa(t,n,a,r,h,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ms(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Oi(t,l=Pi(n)?Ai:Ii.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,o,r,l),js=!1,h=t.memoizedState,o.state=h,Bs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Ni.current||js?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(u=js||sa(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),qa(e,t,s);r=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qs(e,t.containerInfo)}function Aa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var Oa,Pa,Ra,Da,ja={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lu(l,i,0,null),e=ju(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=ja,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lu({mode:"visible",children:r.children},i,0,null),(o=ju(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=ja,o);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),nu(r,e,i,-1))}return mu(),Fa(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ru(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ru(r,a):(a=ju(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=ja,i}return e=(a=e.child).sibling,i=Ru(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Wa(t),null;case 3:return r=t.stateNode,Ys(),Ti(Ni),Ti(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Pa(e,t),Wa(t),null;case 5:Xs(t);var i=Gs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wa(t),null}if(e=Gs(Hs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Fr(jr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Fr(jr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ve(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&w(e,o,c,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ks.current),Gs(Hs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wa(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Ys(),Pa(e,t),null===e&&Br(t.stateNode.containerInfo),Wa(t),null;case 10:return xs(t.type._context),Wa(t),null;case 19:if(Ti(Zs),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ha(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ha(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Bl&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Wa(t),null}else 2*Je()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ga(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Ti(Ni),Ti(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Ys(),null;case 10:return xs(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(Hs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Ya=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=cl,i=dl;cl=null,hl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cu(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hl(e,t,n),Ya=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));fl(o,a,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Cu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Cu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Cu(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Cu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),we(l,a);var c=we(l,o);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,c)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Cu(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Cu(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Cu(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(c=Ya)||d,ml(t,e),Ya=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cu(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Xa=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Cu(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Cu(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Cu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xa=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Qa;var u=Ya;if(Qa=o,(Ya=l)&&!u)for(Xa=i;null!==Xa;)l=(o=Xa).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,Xa=l):El(i);for(;null!==s;)Xa=s,wl(s,t,n),s=s.sibling;Xa=i,Qa=a,Ya=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xa=s):bl(e)}}function bl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&$s(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$s(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&il(t)}catch(f){Cu(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function _l(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function El(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cu(t,i,l)}}var s=t.return;try{il(t)}catch(l){Cu(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Cu(t,o,l)}}}catch(l){Cu(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Sl,Cl=Math.ceil,Tl=b.ReactCurrentDispatcher,kl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Il=0,Nl=null,Al=null,Ol=0,Pl=0,Rl=Ci(0),Dl=0,jl=null,Ll=0,Ml=0,Ul=0,Fl=null,Vl=null,zl=0,Bl=1/0,$l=null,ql=!1,Hl=null,Wl=null,Kl=!1,Gl=null,Ql=0,Yl=0,Jl=null,Xl=-1,Zl=0;function eu(){return 0!==(6&Il)?Je():-1!==Xl?Xl:Xl=Je()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(s(185));yt(e,n,r),0!==(2&Il)&&e===Nl||(e===Nl&&(0===(2&Il)&&(Ml|=n),4===Dl&&au(e,Ol)),ru(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Bl=Je()+500,Fi&&Bi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Nl?Ol:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(lu.bind(null,e)):zi(lu.bind(null,e)),oi((function(){0===(6&Il)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Il;Il|=2;var o=pu();for(Nl===e&&Ol===t||($l=null,Bl=Je()+500,hu(e,t));;)try{vu();break}catch(l){fu(e,l)}ks(),Tl.current=o,Il=i,null!==Al?t=0:(Nl=null,Ol=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=jl,hu(e,0),au(e,r),ru(e,Je()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=pt(e))&&(r=o,t=su(e,o))),1===t))throw n=jl,hu(e,0),au(e,r),ru(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_u(e,Vl,$l);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_u.bind(null,e,Vl,$l),t);break}_u(e,Vl,$l);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(_u.bind(null,e,Vl,$l),r);break}_u(e,Vl,$l);break;default:throw Error(s(329))}}}return ru(e,Je()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Vl,Vl=n,null!==t&&ou(t)),e}function ou(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function au(e,t){for(t&=~Ul,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Il))throw Error(s(327));Eu();var t=ht(e,0);if(0===(1&t))return ru(e,Je()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=jl,hu(e,0),au(e,t),ru(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Vl,$l),ru(e,Je()),null}function uu(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Bl=Je()+500,Fi&&Bi())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Il)&&Eu();var t=Il;Il|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Il=t))&&Bi()}}function du(){Pl=Rl.current,Ti(Rl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ys(),Ti(Ni),Ti(Ii),no();break;case 5:Xs(r);break;case 4:Ys();break;case 13:case 19:Ti(Zs);break;case 10:xs(r.type._context);break;case 22:case 23:du()}n=n.return}if(Nl=e,Al=e=Ru(e.current,null),Ol=Pl=t,Dl=0,jl=null,Ul=Ml=Ll=0,Vl=Fl=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Os=null}return e}function fu(e,t){for(;;){var n=Al;try{if(ks(),ro.current=Xo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,kl.current=null,null===n||null===n.return){Dl=1,jl=t,Al=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ma(o,c,t),mu();break e}u=Error(s(426))}else if(is&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),ps(ua(u,l));break e}}o=u=ua(u,l),4!==Dl&&(Dl=2),null===Fl?Fl=[o]:Fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zs(o,fa(0,u,t));break e;case 1:l=u;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Wl||!Wl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,zs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pu(){var e=Tl.current;return Tl.current=Xo,null===e?Xo:e}function mu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Ml)||au(Nl,Ol)}function gu(e,t){var n=Il;Il|=2;var r=pu();for(Nl===e&&Ol===t||($l=null,hu(e,t));;)try{yu();break}catch(i){fu(e,i)}if(ks(),Il=n,Tl.current=r,null!==Al)throw Error(s(261));return Nl=null,Ol=0,Dl}function yu(){for(;null!==Al;)wu(Al)}function vu(){for(;null!==Al&&!Qe();)wu(Al)}function wu(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bu(e):Al=t,kl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Pl)))return void(Al=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function _u(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{Eu()}while(null!==Gl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(Al=Nl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Nu(tt,(function(){return Eu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xl.transition,xl.transition=null;var a=wt;wt=1;var l=Il;Il|=4,kl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(u=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++d===r&&(u=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Cu(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Il=l,wt=a,xl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Ql=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&Eu(),o=e.pendingLanes,0!==(1&o)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Bi()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function Eu(){if(null!==Gl){var e=bt(Ql),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Xa=e.current;null!==Xa;){var o=Xa,a=o.child;if(0!==(16&Xa.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xa=c;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var f=(d=Xa).sibling,p=d.return;if(sl(d),d===c){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(o=Xa).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Xa=v;break e}Xa=o.return}}var w=e.current;for(Xa=w;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=w;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Cu(l,l.return,E)}if(l===a){Xa=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xa=_;break e}Xa=l.return}}if(Il=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Su(e,t,n){e=Fs(e,t=fa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Fs(t,e=pa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Ol&n)===n&&(4===Dl||3===Dl&&(130023424&Ol)===Ol&&500>Je()-zl?hu(e,0):Ul|=n),ru(e,t)}function ku(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ds(e,t))&&(yt(e,t,n),ru(e,n))}function xu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),ku(e,n)}function Nu(e,t){return Ke(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Au(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Pu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return ju(n.children,i,o,t);case C:a=8,i|=8;break;case T:return(e=Ou(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Ou(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Ou(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Lu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case x:a=9;break e;case I:a=11;break e;case O:a=14;break e;case P:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ou(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ju(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,s,o,a,l){return e=new Fu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ou(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function zu(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return ji(e,n,t)}return t}function Bu(e,t,n,r,i,s,o,a,l){return(e=Vu(n,r,!0,e,0,s,0,a,l)).context=zu(null),n=e.current,(s=Us(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function $u(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(i,t,o))&&(nu(e,i,o,s),Vs(e,i,o)),o}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:Js(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(ki(Zs,1&Zs.current),null!==(e=qa(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return qa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var i=Oi(t,Ii.current);Ns(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ms(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Aa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Aa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Ma(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(Es,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Us(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=As(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ea(e,t,r,i=na(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),$a(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ns(t,n),oa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ca(e,t,n)}throw Error(s(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=qu(o);a.call(e)}}$u(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qu(o);s.call(e)}}var o=Bu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qu(l);a.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),cu((function(){$u(t,l,n,r)})),l}(n,t,e,i,r);return qu(o)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$u(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){$u(null,e,null,null)})),t[pi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Je()),0===(6&Il)&&(Bl=Je()+500,Bi()))}break;case 13:cu((function(){var t=Ds(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},Et=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Ds(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},Ct=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));K(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uu,Ne=cu;var ec={usingClientEntryPoint:!1,Events:[wi,bi,_i,ke,xe,uu]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(s(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},484:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function s(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,a=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?a="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==a){var l=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=s;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>o}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,s.__suppressDeprecationWarning=!0},765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(43),o=p(s),a=p(n(950)),l=p(n(173)),u=p(n(439)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(619)),d=n(821),h=p(d),f=n(484);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",v=d.canUseDOM&&void 0!==a.default.createPortal,w=function(e){return document.createElement(e)},b=function(){return v?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function _(e){return e()}var E=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=i=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.removePortal=function(){!v&&a.default.unmountComponentAtNode(i.node);var e=_(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=b()(i,o.default.createElement(u.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},m(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(v||(this.node=w("div")),this.node.className=this.props.portalClassName,_(this.props.parentSelector).appendChild(this.node),!v&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:_(e.parentSelector),nextParent:_(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,i=r.isOpen,s=r.portalClassName;e.portalClassName!==s&&(this.node.className=s);var o=n.prevParent,a=n.nextParent;a!==o&&(o.removeChild(this.node),a.appendChild(this.node)),(e.isOpen||i)&&!v&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&v?(!this.node&&v&&(this.node=w("div")),b()(o.default.createElement(u.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}(s.Component);E.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(h.default),l.default.instanceOf(d.SafeHTMLCollection),l.default.instanceOf(d.SafeNodeList),l.default.arrayOf(l.default.instanceOf(h.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},E.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return o.default.createElement("div",e,t)},contentElement:function(e,t){return o.default.createElement("div",e,t)}},E.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(E),t.default=E},439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(43),a=g(n(173)),l=m(n(774)),u=g(n(206)),c=m(n(619)),d=m(n(841)),h=n(821),f=g(h),p=g(n(959));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(62);var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=0,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,s=e.bodyOpenClassName,o=e.parentSelector,a=o&&o().ownerDocument||document;s&&d.remove(a.body,s),i&&d.remove(a.getElementsByTagName("html")[0],i),r&&v>0&&0===(v-=1)&&c.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:y[e],afterOpen:y[e]+"--after-open",beforeClose:y[e]+"--before-close"},s=r.base;return n.state.afterOpen&&(s=s+" "+r.afterOpen),n.state.beforeClose&&(s=s+" "+r.beforeClose),"string"===typeof t&&t?s+" "+t:s},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName,s=e.parentSelector,o=s&&s().ownerDocument||document;i&&d.add(o.body,i),r&&d.add(o.getElementsByTagName("html")[0],r),n&&(v+=1,c.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,s=e.defaultStyles,o=e.children,a=n?{}:s.content,l=i?{}:s.overlay;if(this.shouldBeClosed())return null;var u={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},c=r({id:t,ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(c,o);return this.props.overlayElement(u,d)}}]),t}(o.Component);w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(f.default),a.default.instanceOf(h.SafeHTMLCollection),a.default.instanceOf(h.SafeNodeList),a.default.arrayOf(a.default.instanceOf(f.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=w,e.exports=t.default},619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a&&(a.removeAttribute?a.removeAttribute("aria-hidden"):null!=a.length?a.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(a).forEach((function(e){return e.removeAttribute("aria-hidden")})));a=null},t.log=function(){0},t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"===typeof t&&o.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t=n}return a=t||a},t.validateElement=u,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,s=u(e)[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(o){n=!0,r=o}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,s=u(e)[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(o){n=!0,r=o}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){a=null};var r,i=n(440),s=(r=i)&&r.__esModule?r:{default:r},o=n(821);var a=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function u(e){var t=e||a;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,s.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},62:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[o,a],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}o=a=null,l=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(l.length);for(var e=[o,a],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,i=n(959),s=(r=i)&&r.__esModule?r:{default:r};var o=void 0,a=void 0,l=[];function u(){0!==l.length&&l[l.length-1].focusContent()}s.default.subscribe((function(e,t){o||a||((o=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),o.style.position="absolute",o.style.opacity="0",o.setAttribute("tabindex","0"),o.addEventListener("focus",u),(a=o.cloneNode()).addEventListener("focus",u)),(l=t).length>0?(document.body.firstChild!==o&&document.body.insertBefore(o,document.body.firstChild),document.body.lastChild!==a&&document.body.appendChild(a)):(o.parentElement&&o.parentElement.removeChild(o),a.parentElement&&a.parentElement.removeChild(a))}))},841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in n)i(e,n[t]);var s=document.body;for(var o in r)i(s,r[o]);n={},r={}},t.log=function(){0};var n={},r={};function i(e,t){e.classList.remove(t)}t.add=function(e,t){return i=e.classList,s="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(s,e),i.add(e)}));var i,s},t.remove=function(e,t){return i=e.classList,s="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(s,e),0===s[e]&&i.remove(e)}));var i,s}},774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){o=[]},t.log=function(){0},t.handleBlur=u,t.handleFocus=c,t.markForFocusLater=function(){o.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==o.length&&(t=o.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){o.length>0&&o.pop()},t.setupScopedFocus=function(e){a=e,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",c))};var r,i=n(682),s=(r=i)&&r.__esModule?r:{default:r};var o=[],a=null,l=!1;function u(){l=!0}function c(){if(l){if(l=!1,!a)return;setTimeout((function(){a.contains(document.activeElement)||((0,s.default)(a)[0]||a).focus()}),0)}}},959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){r=new n};var n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},r=new n;t.default=r},821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n(396);var s=((r=i)&&r.__esModule?r:{default:r}).default,o=s.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=s.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=s.canUseDOM?window.NodeList:{},t.canUseDOM=s.canUseDOM;t.default=o},206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,s.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,a=n[0],l=n[n.length-1],u=o();if(e===u){if(!i)return;r=l}l!==u||i||(r=a);a===u&&i&&(r=l);if(r)return t.preventDefault(),void r.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var d=n.indexOf(u);d>-1&&(d+=i?-1:1);if("undefined"===typeof(r=n[d]))return t.preventDefault(),void(r=i?l:a).focus();t.preventDefault(),r.focus()};var r,i=n(682),s=(r=i)&&r.__esModule?r:{default:r};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?o(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]);return n.filter(a)};var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function s(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var i=window.getComputedStyle(e),s=i.getPropertyValue("display");return t?s!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,i):s===n}catch(o){return console.warn("Failed to inspect element style"),!1}}function o(e,t){var n=e.nodeName.toLowerCase();return(i.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),s(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(765),s=(r=i)&&r.__esModule?r:{default:r};t.default=s.default,e.exports=t.default},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!C.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var u=0;u<e.length;u++){var c=s+I(a=e[u],u);l+=N(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,c=s+I(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function j(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=j,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,R(E);else{var t=r(c);null!==t&&D(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var s=f;try{for(b(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(u)&&i(u),b(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,T=null,k=-1,x=5,I=-1;function N(){return!(t.unstable_now()-I<x)}function A(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?S():(C=!1,T=null)}}else C=!1}if("function"===typeof w)S=function(){w(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,S=function(){P.postMessage(null)}}else S=function(){y(A,0)};function R(e){T=e,C||(C=!0,S())}function D(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(k),k=-1):g=!0,D(_,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},895:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,o=r.useRef,a=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l((function(){function e(e){if(!a){if(a=!0,s=e,e=r(e),void 0!==c&&h.hasValue){var t=h.value;if(c(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==c&&c(t,n)?t:(s=e,o=n)}var s,o,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,c]);var f=s(e,d[0],d[1]);return a((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},237:(e,t,n)=>{"use strict";e.exports=n(895)},440:e=>{"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(43),t=n.t(e,2),r=n(391),i=n(237),s=e,o=Symbol.for("react-redux-context"),a="undefined"!==typeof globalThis?globalThis:{};function l(){if(!s.createContext)return{};const e=a[o]??(a[o]=new Map);let t=e.get(s.createContext);return t||(t=s.createContext(null),e.set(s.createContext,t)),t}var u=l(),c=()=>{throw new Error("uSES not initialized!")};function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return function(){return s.useContext(e)}}var h=d(),f=c,p=(e,t)=>e===t;function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const t=e===u?h:d(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=p,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:o,subscription:a,getServerState:l,stabilityCheck:u,identityFunctionCheck:c}=t(),d=(s.useRef(!0),s.useCallback({[e.name]:t=>e(t)}[e.name],[e,u,i.stabilityCheck])),h=f(a.addNestedSub,o.getState,l||o.getState,d,r);return s.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var g=m();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function y(e){e()}var v={notify(){},get:()=>[]};function w(e,t){let n,r=v,i=0,s=!1;function o(){u.onStateChange&&u.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){y((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=v)}const u={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,a())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return u}var b=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),_="undefined"!==typeof navigator&&"ReactNative"===navigator.product,E=b||_?s.useLayoutEffect:s.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var S=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:o="once",identityFunctionCheck:a="once"}=e;const l=s.useMemo((()=>{const e=w(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:a}}),[t,i,o,a]),c=s.useMemo((()=>t.getState()),[t]);E((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const d=n||u;return s.createElement(d.Provider,{value:l},r)};function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const t=e===u?h:d(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var T=C();function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const t=e===u?T:C(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var x,I=k();function N(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}x=i.useSyncExternalStoreWithSelector,f=x,(e=>{e})(e.useSyncExternalStore);var A=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),O=()=>Math.random().toString(36).substring(7).split("").join("."),P={INIT:`@@redux/INIT${O()}`,REPLACE:`@@redux/REPLACE${O()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${O()}`};function R(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function D(e,t,n){if("function"!==typeof e)throw new Error(N(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(N(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(N(1));return n(D)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach(((e,t)=>{o.set(t,e)})))}function c(){if(l)throw new Error(N(3));return i}function d(e){if("function"!==typeof e)throw new Error(N(4));if(l)throw new Error(N(5));let t=!0;u();const n=a++;return o.set(n,e),function(){if(t){if(l)throw new Error(N(6));t=!1,u(),o.delete(n),s=null}}}function h(e){if(!R(e))throw new Error(N(7));if("undefined"===typeof e.type)throw new Error(N(8));if("string"!==typeof e.type)throw new Error(N(17));if(l)throw new Error(N(9));try{l=!0,i=r(i,e)}finally{l=!1}return(s=o).forEach((e=>{e()})),e}h({type:P.INIT});return{dispatch:h,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(N(10));r=e,h({type:P.REPLACE})},[A]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(N(11));function n(){const e=t;e.next&&e.next(c())}n();return{unsubscribe:e(n)}},[A](){return this}}}}}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function L(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var M=L();const U={user:null,isLoading:!1,error:null,purchasedGames:[]},F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":case"SIGNUP_SUCCESS":case"SET_USER":return{...e,user:t.payload.user,purchasedGames:t.payload.purchasedGames||[],isLoading:!1,error:null};case"LOGIN_FAILURE":case"SIGNUP_FAILURE":case"UPDATE_USER_FAILURE":case"LOGOUT_FAILURE":case"PURCHASE_GAME_FAILURE":return{...e,isLoading:!1,error:t.payload};case"LOGOUT_SUCCESS":return{...e,user:null,purchasedGames:[],error:null};case"UPDATE_USER_SUCCESS":return{...e,user:{...e.user,...t.payload},error:null};case"PURCHASE_GAME_SUCCESS":return{...e,purchasedGames:[...e.purchasedGames,t.payload.gameName]};default:return e}},V="FETCH_TOURNAMENTS_REQUEST",z="FETCH_TOURNAMENTS_SUCCESS",B="FETCH_TOURNAMENTS_FAILURE",$={tournaments:[],isLoading:!1,error:null},q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return{...e,isLoading:!0,error:null};case z:return{...e,isLoading:!1,tournaments:t.payload};case B:return{...e,isLoading:!1,error:t.payload};case"ADD_TOURNAMENT_REQUEST":return{...e,isLoading:!0,error:null};case"ADD_TOURNAMENT_SUCCESS":return{...e,isLoading:!1,tournaments:[...e.tournaments,t.payload]};case"ADD_TOURNAMENT_FAILURE":return{...e,isLoading:!1,error:t.payload};case"UPDATE_TOURNAMENT_REQUEST":return{...e,isLoading:!0,error:null};case"UPDATE_TOURNAMENT_SUCCESS":return{...e,isLoading:!1,tournaments:e.tournaments.map((e=>e.id===t.payload.tournamentId?{...e,...t.payload.updateFields}:e))};case"UPDATE_TOURNAMENT_FAILURE":return{...e,isLoading:!1,error:t.payload};case"DELETE_TOURNAMENT_REQUEST":return{...e,isLoading:!0,error:null};case"DELETE_TOURNAMENT_SUCCESS":return{...e,isLoading:!1,tournaments:e.tournaments.filter((e=>e.id!==t.payload))};case"DELETE_TOURNAMENT_FAILURE":return{...e,isLoading:!1,error:t.payload};default:return e}},H=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},W={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(H(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new K;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class K extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G=function(e){return function(e){const t=H(e);return W.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Q=function(e){try{return W.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const Y=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,J=()=>{try{return Y()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Containders.io",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Q(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},X=e=>{var t,n;return null===(n=null===(t=J())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Z=e=>{const t=X(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ee=()=>{var e;return null===(e=J())||void 0===e?void 0:e.config},te=e=>{var t;return null===(t=J())||void 0===t?void 0:t[`_${e}`]};class ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function re(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[G(JSON.stringify({alg:"none",type:"JWT"})),G(JSON.stringify(s)),""].join(".")}function ie(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function se(){return!function(){var e;const t=null===(e=J())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"===typeof indexedDB}catch(e){return!1}}function ae(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class le extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(ce,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new le(n,s,t)}}const ce=/\{\$([^}]+)}/g;function de(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(he(n)&&he(s)){if(!de(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function he(e){return null!==e&&"object"===typeof e}function fe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pe(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function me(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ge{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ye),void 0===r.error&&(r.error=ye),void 0===r.complete&&(r.complete=ye);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ye(){}function ve(e){return e&&e._delegate?e._delegate:e}class we{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const be="[DEFAULT]";class _e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ne;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:be})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===be?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be;return this.component?this.component.multipleInstances?e:be:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Se=[];var Ce;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ce||(Ce={}));const Te={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},ke=Ce.INFO,xe={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Ie=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=xe[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class Ne{constructor(e){this.name=e,this._logLevel=ke,this._logHandler=Ie,this._userLogHandler=null,Se.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Te[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}const Ae=(e,t)=>t.some((t=>e instanceof t));let Oe,Pe;const Re=new WeakMap,De=new WeakMap,je=new WeakMap,Le=new WeakMap,Me=new WeakMap;let Ue={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return De.get(e);if("objectStoreNames"===t)return e.objectStoreNames||je.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ze(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Fe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Be(this),n),ze(Re.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ze(e.apply(Be(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Be(this),t,...r);return je.set(s,t.sort?t.sort():[t]),ze(s)}}function Ve(e){return"function"===typeof e?Fe(e):(e instanceof IDBTransaction&&function(e){if(De.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));De.set(e,t)}(e),Ae(e,Oe||(Oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ue):e)}function ze(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ze(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Re.set(t,e)})).catch((()=>{})),Me.set(t,e),t}(e);if(Le.has(e))return Le.get(e);const t=Ve(e);return t!==e&&(Le.set(e,t),Me.set(t,e)),t}const Be=e=>Me.get(e);function $e(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=ze(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(ze(o.result),e.oldVersion,e.newVersion,ze(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function qe(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),ze(n).then((()=>{}))}const He=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],Ke=new Map;function Ge(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ke.get(t))return Ke.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=We.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!He.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Ke.set(t,s),s}Ue=(e=>({...e,get:(t,n,r)=>Ge(t,n)||e.get(t,n,r),has:(t,n)=>!!Ge(t,n)||e.has(t,n)}))(Ue);class Qe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ye="@firebase/app",Je="0.10.8",Xe=new Ne("@firebase/app"),Ze="@firebase/app-compat",et="@firebase/analytics-compat",tt="@firebase/analytics",nt="@firebase/app-check-compat",rt="@firebase/app-check",it="@firebase/auth",st="@firebase/auth-compat",ot="@firebase/database",at="@firebase/database-compat",lt="@firebase/functions",ut="@firebase/functions-compat",ct="@firebase/installations",dt="@firebase/installations-compat",ht="@firebase/messaging",ft="@firebase/messaging-compat",pt="@firebase/performance",mt="@firebase/performance-compat",gt="@firebase/remote-config",yt="@firebase/remote-config-compat",vt="@firebase/storage",wt="@firebase/storage-compat",bt="@firebase/firestore",_t="@firebase/vertexai-preview",Et="@firebase/firestore-compat",St="firebase",Ct="[DEFAULT]",Tt={[Ye]:"fire-core",[Ze]:"fire-core-compat",[tt]:"fire-analytics",[et]:"fire-analytics-compat",[rt]:"fire-app-check",[nt]:"fire-app-check-compat",[it]:"fire-auth",[st]:"fire-auth-compat",[ot]:"fire-rtdb",[at]:"fire-rtdb-compat",[lt]:"fire-fn",[ut]:"fire-fn-compat",[ct]:"fire-iid",[dt]:"fire-iid-compat",[ht]:"fire-fcm",[ft]:"fire-fcm-compat",[pt]:"fire-perf",[mt]:"fire-perf-compat",[gt]:"fire-rc",[yt]:"fire-rc-compat",[vt]:"fire-gcs",[wt]:"fire-gcs-compat",[bt]:"fire-fst",[Et]:"fire-fst-compat",[_t]:"fire-vertex","fire-js":"fire-js",[St]:"fire-js-all"},kt=new Map,xt=new Map,It=new Map;function Nt(e,t){try{e.container.addComponent(t)}catch(n){Xe.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function At(e){const t=e.name;if(It.has(t))return Xe.debug(`There were multiple attempts to register component ${t}.`),!1;It.set(t,e);for(const n of kt.values())Nt(n,e);for(const n of xt.values())Nt(n,e);return!0}function Ot(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pt(e){return void 0!==e.settings}const Rt=new ue("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new we("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}const jt="10.12.5";function Lt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ct,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Rt.create("bad-app-name",{appName:String(i)});if(n||(n=ee()),!n)throw Rt.create("no-options");const s=kt.get(i);if(s){if(de(n,s.options)&&de(r,s.config))return s;throw Rt.create("duplicate-app",{appName:i})}const o=new Ee(i);for(const l of It.values())o.addComponent(l);const a=new Dt(n,r,o);return kt.set(i,a),a}function Mt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;const t=kt.get(e);if(!t&&e===Ct&&ee())return Lt();if(!t)throw Rt.create("no-app",{appName:e});return t}function Ut(e,t,n){var r;let i=null!==(r=Tt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Xe.warn(e.join(" "))}At(new we(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Ft="firebase-heartbeat-database",Vt=1,zt="firebase-heartbeat-store";let Bt=null;function $t(){return Bt||(Bt=$e(Ft,Vt,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(zt)}catch(n){console.warn(n)}}}).catch((e=>{throw Rt.create("idb-open",{originalErrorMessage:e.message})}))),Bt}async function qt(e,t){try{const n=(await $t()).transaction(zt,"readwrite"),r=n.objectStore(zt);await r.put(t,Ht(e)),await n.done}catch(n){if(n instanceof le)Xe.warn(n.message);else{const e=Rt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Xe.warn(e.message)}}}function Ht(e){return`${e.name}!${e.options.appId}`}class Wt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Gt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kt();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Kt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Qt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=G(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Kt(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!oe()&&ae().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await $t()).transaction(zt),n=await t.objectStore(zt).get(Ht(e));return await t.done,n}catch(t){if(t instanceof le)Xe.warn(t.message);else{const e=Rt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Xe.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Qt(e){return G(JSON.stringify({version:2,heartbeats:e})).length}var Yt;Yt="",At(new we("platform-logger",(e=>new Qe(e)),"PRIVATE")),At(new we("heartbeat",(e=>new Wt(e)),"PRIVATE")),Ut(Ye,Je,Yt),Ut(Ye,Je,"esm2017"),Ut("fire-js","");var Jt,Xt,Zt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},en={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);d(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Xt=en.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},Jt=en.Integer=r}).apply("undefined"!==typeof Zt?Zt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var tn,nn,rn,sn,on,an,ln,un,cn,dn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},hn={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof dn&&dn];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function C(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);x=()=>{e.then(O)}};var O=()=>{for(var e;e=C();){try{e.h.call(e.g)}catch(n){S(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function P(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function j(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&j.aa.h.call(this)}}d(j,R);var L={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=$(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function J(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new j(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;_(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ue=[];function ce(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function we(){R.call(this,"c")}d(ve,R),d(we,R);var be={},_e=null;function Ee(){return _e=_e||new ne}function Se(e){R.call(this,be.La,e)}function Ce(e){const t=Ee();re(t,new Se(t))}function Te(e,t){R.call(this,be.STAT_EVENT,e),this.stat=t}function ke(e){const t=Ee();re(t,new Te(t,e))}function xe(e,t){R.call(this,be.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",d(Se,R),be.STAT_EVENT="statevent",d(Te,R),be.Ma="timingevent",d(xe,R),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Oe,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Oe=new De;var Me={},Ue={};function Fe(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=Tn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ce(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(u(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||bn(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wn(n),Yt(n)}gn(n),ke(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(u(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else En(n,11)}else if((e.K||n.g==e)&&wn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=Cn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(He(a),$e(a)),r.g=o}else pn(r);0<n.i.length&&Xt(n)}else"stop"!=u[0]&&"close"!=u[0]||En(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?En(n,7):Qt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Ce()}catch(c){}}je.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ce(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var s=r.length,o=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,ke(12),Ke(this),We(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Ue){4==h&&(this.s=4,ke(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,ke(15),Ae(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),yn(d),d.M=!0,ke(11))}}else Ae(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),We(this)}else Ae(this.i,this.l,a,null),Ge(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?bn(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Ke(this),We(this)}}}catch(h){}},je.prototype.cancel=function(){this.J=!0,Ke(this)},je.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ce(),ke(17)),Ke(this),this.s=2,We(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Tt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new _t(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function dt(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,wt=/[#\?@]/g,bt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){Et(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ct(e,t){return Et(e),t=kt(e,t),e.g.has(t)}function Tt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function It(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function jt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Et(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)Ct(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,Ct(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(At,pe),At.prototype.g=function(){return new Ot(this.l,this.j)},At.prototype.i=(mt={},function(){return mt}),d(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Dt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ut=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),$t(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ut.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){qt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(mn){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Jt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),en(e,n),(t=new je(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=Tn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}Sn(e)}function Yt(e){e.g&&(yn(e),e.g.cancel(),e.g=null)}function Jt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),wn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;x||A(),I||(x(),I=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new je(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=fn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function fn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Nt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function pn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;x||A(),I||(x(),I=!0),N.add(t,e),e.v=0}}function gn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(u(e.Fa,e),_n(e,e.v)),e.v++,!0)}function yn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function vn(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function wn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function bn(e,t){var n=null;if(e.g==t){wn(e),yn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new xe(r,n)),Xt(e)}else pn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(u(e.Ga,e,t),_n(e,e.B)),e.B++,!0))}(e,t)||2==r&&gn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:En(e,5);break;case 4:En(e,10);break;case 3:En(e,6);break;default:En(e,2)}}function _n(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function En(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=c(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(xt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),xt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)})).catch((()=>{clearTimeout(r),xt(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),Sn(e),Jt(e)}function Sn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function Cn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),en(e,r),r}function Tn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new At({eb:n})):new Mt(e.pa)).Ha(e.J),t}function kn(){}function xn(){}function In(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new On(this)}function Nn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function An(){we.call(this),this.status=1}function On(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Cn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new je(this,this.j,e);let s=this.o;if(this.S&&(s?(s=w(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=fn(this,i,t),ct(n=ot(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(jt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,vn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Yt(this),vn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),gn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=kn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},xn.prototype.g=function(e,t){return new In(e,t)},d(In,ne),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Qt(this.g)},In.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},In.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,In.aa.N.call(this)},d(Nn,ve),d(An,we),d(On,kn),On.prototype.ua=function(){re(this.g,"a")},On.prototype.ta=function(e){re(this.g,new Nn(e))},On.prototype.sa=function(e){re(this.g,new An)},On.prototype.ra=function(){re(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,cn=hn.createWebChannelTransport=function(){return new xn},un=hn.getStatEventTarget=function(){return Ee()},ln=hn.Event=be,an=hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,on=hn.ErrorCode=Pe,Re.COMPLETE="complete",sn=hn.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,rn=hn.WebChannel=ge,nn=hn.FetchXmlHttpFactory=At,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,tn=hn.XhrIo=Mt}).apply("undefined"!==typeof dn?dn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const fn="@firebase/firestore";class pn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let mn="10.12.5";const gn=new Ne("@firebase/firestore");function yn(){return gn.logLevel}function vn(e){if(gn.logLevel<=Ce.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_n);gn.debug(`Firestore (${mn}): ${e}`,...i)}}function wn(e){if(gn.logLevel<=Ce.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_n);gn.error(`Firestore (${mn}): ${e}`,...i)}}function bn(e){if(gn.logLevel<=Ce.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_n);gn.warn(`Firestore (${mn}): ${e}`,...i)}}function _n(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function En(){const e=`FIRESTORE (${mn}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw wn(e),new Error(e)}function Sn(e,t){e||En()}function Cn(e,t){return e}const Tn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kn extends le{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class In{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(pn.UNAUTHENTICATED)))}shutdown(){}}class An{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class On{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new xn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xn,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{vn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(vn("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xn)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(vn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Sn("string"==typeof t.accessToken),new In(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sn(null===e||"string"==typeof e),new pn(e)}}class Pn{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Rn{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Pn(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&vn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,vn("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{vn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):vn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Sn("string"==typeof e.token),this.R=e.token,new Dn(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ln(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Mn{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ln(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Un(e,t){return e<t?-1:e>t?1:0}function Fn(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Vn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kn(Tn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kn(Tn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kn(Tn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kn(Tn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Vn(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Un(this.nanoseconds,e.nanoseconds):Un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zn(e)}static min(){return new zn(new Vn(0,0))}static max(){return new zn(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bn{constructor(e,t,n){void 0===t?t=0:t>e.length&&En(),void 0===n?n=e.length-t:n>e.length-t&&En(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Bn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bn?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $n extends Bn{construct(e,t,n){return new $n(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new kn(Tn.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new $n(e)}static emptyPath(){return new $n([])}}const qn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Bn{construct(e,t,n){return new Hn(e,t,n)}static isValidIdentifier(e){return qn.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new kn(Tn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new kn(Tn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new kn(Tn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new kn(Tn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(t)}static emptyPath(){return new Hn([])}}class Wn{constructor(e){this.path=e}static fromPath(e){return new Wn($n.fromString(e))}static fromName(e){return new Wn($n.fromString(e).popFirst(5))}static empty(){return new Wn($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wn(new $n(e.slice()))}}class Kn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Kn.UNKNOWN_ID=-1;function Gn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=zn.fromTimestamp(1e9===r?new Vn(n+1,0):new Vn(n,r));return new Yn(i,Wn.empty(),t)}function Qn(e){return new Yn(e.readTime,e.key,-1)}class Yn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Yn(zn.min(),Wn.empty(),-1)}static max(){return new Yn(zn.max(),Wn.empty(),-1)}}function Jn(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Wn.comparator(e.documentKey,t.documentKey),0!==n?n:Un(e.largestBatchId,t.largestBatchId))}const Xn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function er(e){if(e.code!==Tn.FAILED_PRECONDITION||e.message!==Xn)throw e;vn("LocalStore","Unexpectedly lost primary lease")}class tr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&En(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tr(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof tr?t:tr.resolve(t)}catch(e){return tr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):tr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):tr.reject(t)}static resolve(e){return new tr(((t,n)=>{t(e)}))}static reject(e){return new tr(((t,n)=>{n(e)}))}static waitFor(e){return new tr(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=tr.resolve(!1);for(const n of e)t=t.next((e=>e?tr.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new tr(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new tr(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function nr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rr(e){return"IndexedDbTransactionError"===e.name}class ir{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function sr(e){return null==e}function or(e){return 0===e&&1/e==-1/0}function ar(e){return"number"==typeof e&&Number.isInteger(e)&&!or(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}ir.oe=-1;const lr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ur=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cr=ur,dr=[...cr,"indexConfiguration","indexState","indexEntries"];function hr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function pr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class mr{constructor(e,t){this.comparator=e,this.root=t||yr.EMPTY}insert(e,t){return new mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gr(this.root,e,this.comparator,!1)}getReverseIterator(){return new gr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gr(this.root,e,this.comparator,!0)}}class gr{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:yr.RED,this.left=null!=r?r:yr.EMPTY,this.right=null!=i?i:yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new yr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yr.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw En();if(this.right.isRed())throw En();const e=this.left.check();if(e!==this.right.check())throw En();return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1,yr.EMPTY=new class{constructor(){this.size=0}get key(){throw En()}get value(){throw En()}get color(){throw En()}get left(){throw En()}get right(){throw En()}copy(e,t,n,r,i){return this}insert(e,t,n){return new yr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wr(this.data.getIterator())}getIteratorFrom(e){return new wr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof vr))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new vr(this.comparator);return t.data=e,t}}class wr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class br{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new br([])}unionWith(e){let t=new vr(Hn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fn(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class _r extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new _r("Invalid base64 string: "+e):e}}(e);return new Er(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const Sr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(e){if(Sn(!!e),"string"==typeof e){let t=0;const n=Sr.exec(e);if(Sn(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Tr(e.seconds),nanos:Tr(e.nanos)}}function Tr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kr(e){return"string"==typeof e?Er.fromBase64String(e):Er.fromUint8Array(e)}function xr(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ir(e){const t=e.mapValue.fields.__previous_value__;return xr(t)?Ir(t):t}function Nr(e){const t=Cr(e.mapValue.fields.__local_write_time__.timestampValue);return new Vn(t.seconds,t.nanos)}class Ar{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Or{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Or("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Or&&e.projectId===this.projectId&&e.database===this.database}}const Pr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xr(e)?4:Kr(e)?9007199254740991:10:En()}function Dr(e,t){if(e===t)return!0;const n=Rr(e);if(n!==Rr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Nr(e).isEqual(Nr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Cr(e.timestampValue),r=Cr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kr(e.bytesValue).isEqual(kr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Tr(e.geoPointValue.latitude)===Tr(t.geoPointValue.latitude)&&Tr(e.geoPointValue.longitude)===Tr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Tr(e.integerValue)===Tr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Tr(e.doubleValue),r=Tr(t.doubleValue);return n===r?or(n)===or(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fn(e.arrayValue.values||[],t.arrayValue.values||[],Dr);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hr(n)!==hr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dr(n[i],r[i])))return!1;return!0}(e,t);default:return En()}}function jr(e,t){return void 0!==(e.values||[]).find((e=>Dr(e,t)))}function Lr(e,t){if(e===t)return 0;const n=Rr(e),r=Rr(t);if(n!==r)return Un(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Un(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Tr(e.integerValue||e.doubleValue),r=Tr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Mr(e.timestampValue,t.timestampValue);case 4:return Mr(Nr(e),Nr(t));case 5:return Un(e.stringValue,t.stringValue);case 6:return function(e,t){const n=kr(e),r=kr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Un(n[i],r[i]);if(0!==e)return e}return Un(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Un(Tr(e.latitude),Tr(t.latitude));return 0!==n?n:Un(Tr(e.longitude),Tr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Lr(n[i],r[i]);if(e)return e}return Un(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Pr.mapValue&&t===Pr.mapValue)return 0;if(e===Pr.mapValue)return 1;if(t===Pr.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Un(r[o],s[o]);if(0!==e)return e;const t=Lr(n[r[o]],i[s[o]]);if(0!==t)return t}return Un(r.length,s.length)}(e.mapValue,t.mapValue);default:throw En()}}function Mr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Un(e,t);const n=Cr(e),r=Cr(t),i=Un(n.seconds,r.seconds);return 0!==i?i:Un(n.nanos,r.nanos)}function Ur(e){return Fr(e)}function Fr(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Cr(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return kr(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Wn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Fr(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Fr(e.fields[i])}`;return n+"}"}(e.mapValue):En()}function Vr(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function zr(e){return!!e&&"integerValue"in e}function Br(e){return!!e&&"arrayValue"in e}function $r(e){return!!e&&"nullValue"in e}function qr(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hr(e){return!!e&&"mapValue"in e}function Wr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return fr(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Wr(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Kr(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Hr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wr(t)}setAll(e){let t=Hn.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Wr(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Hr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Hr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){fr(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Gr(Wr(this.value))}}function Qr(e){const t=[];return fr(e.fields,((e,n)=>{const r=new Hn([e]);if(Hr(n)){const e=Qr(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new br(t)}class Yr{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Yr(e,0,zn.min(),zn.min(),zn.min(),Gr.empty(),0)}static newFoundDocument(e,t,n,r){return new Yr(e,1,t,zn.min(),n,r,0)}static newNoDocument(e,t){return new Yr(e,2,t,zn.min(),zn.min(),Gr.empty(),0)}static newUnknownDocument(e,t){return new Yr(e,3,t,zn.min(),zn.min(),Gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(zn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jr{constructor(e,t){this.position=e,this.inclusive=t}}function Xr(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Wn.comparator(Wn.fromName(o.referenceValue),n.key):Lr(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Zr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dr(e.position[n],t.position[n]))return!1;return!0}class ei{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ti(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ni{}class ri extends ni{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new di(e,t,n):"array-contains"===t?new mi(e,n):"in"===t?new gi(e,n):"not-in"===t?new yi(e,n):"array-contains-any"===t?new vi(e,n):new ri(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new hi(e,n):new fi(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Lr(t,this.value)):null!==t&&Rr(this.value)===Rr(t)&&this.matchesComparison(Lr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return En()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends ni{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ii(e,t)}matches(e){return si(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function si(e){return"and"===e.op}function oi(e){return ai(e)&&si(e)}function ai(e){for(const t of e.filters)if(t instanceof ii)return!1;return!0}function li(e){if(e instanceof ri)return e.field.canonicalString()+e.op.toString()+Ur(e.value);if(oi(e))return e.filters.map((e=>li(e))).join(",");{const t=e.filters.map((e=>li(e))).join(",");return`${e.op}(${t})`}}function ui(e,t){return e instanceof ri?function(e,t){return t instanceof ri&&e.op===t.op&&e.field.isEqual(t.field)&&Dr(e.value,t.value)}(e,t):e instanceof ii?function(e,t){return t instanceof ii&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&ui(n,t.filters[r])),!0)}(e,t):void En()}function ci(e){return e instanceof ri?function(e){return`${e.field.canonicalString()} ${e.op} ${Ur(e.value)}`}(e):e instanceof ii?function(e){return e.op.toString()+" {"+e.getFilters().map(ci).join(" ,")+"}"}(e):"Filter"}class di extends ri{constructor(e,t,n){super(e,t,n),this.key=Wn.fromName(n.referenceValue)}matches(e){const t=Wn.comparator(e.key,this.key);return this.matchesComparison(t)}}class hi extends ri{constructor(e,t){super(e,"in",t),this.keys=pi("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class fi extends ri{constructor(e,t){super(e,"not-in",t),this.keys=pi("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function pi(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Wn.fromName(e.referenceValue)))}class mi extends ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Br(t)&&jr(t.arrayValue,this.value)}}class gi extends ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jr(this.value.arrayValue,t)}}class yi extends ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(jr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jr(this.value.arrayValue,t)}}class vi extends ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Br(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>jr(this.value.arrayValue,e)))}}class wi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function bi(e){return new wi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function _i(e){const t=Cn(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>li(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),sr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ur(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ur(e))).join(",")),t.ue=e}return t.ue}function Ei(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ti(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ui(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zr(e.startAt,t.startAt)&&Zr(e.endAt,t.endAt)}function Si(e){return Wn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ci{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ti(e,t,n,r,i,s,o,a){return new Ci(e,t,n,r,i,s,o,a)}function ki(e){return new Ci(e)}function xi(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ii(e){return null!==e.collectionGroup}function Ni(e){const t=Cn(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new vr(Hn.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ei(r,n))})),e.has(Hn.keyField().canonicalString())||t.ce.push(new ei(Hn.keyField(),n))}return t.ce}function Ai(e){const t=Cn(e);return t.le||(t.le=Oi(t,Ni(e))),t.le}function Oi(e,t){if("F"===e.limitType)return bi(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ei(e.field,t)}));const n=e.endAt?new Jr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Jr(e.startAt.position,e.startAt.inclusive):null;return bi(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Pi(e,t){const n=e.filters.concat([t]);return new Ci(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ri(e,t,n){return new Ci(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Di(e,t){return Ei(Ai(e),Ai(t))&&e.limitType===t.limitType}function ji(e){return`${_i(Ai(e))}|lt:${e.limitType}`}function Li(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>ci(e))).join(", ")}]`),sr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ur(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ur(e))).join(",")),`Target(${t})`}(Ai(e))}; limitType=${e.limitType})`}function Mi(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ni(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xr(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ni(e),t))&&!(e.endAt&&!function(e,t,n){const r=Xr(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ni(e),t))}(e,t)}function Ui(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fi(e){return(t,n)=>{let r=!1;for(const i of Ni(e)){const e=Vi(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Vi(e,t,n){const r=e.field.isKeyField()?Wn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Lr(r,i):En()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return En()}}class zi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fr(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return pr(this.inner)}size(){return this.innerSize}}const Bi=new mr(Wn.comparator);function $i(){return Bi}const qi=new mr(Wn.comparator);function Hi(){let e=qi;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Wi(e){let t=qi;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ki(){return Qi()}function Gi(){return Qi()}function Qi(){return new zi((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Yi=new mr(Wn.comparator),Ji=new vr(Wn.comparator);function Xi(){let e=Ji;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Zi=new vr(Un);function es(){return Zi}function ts(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:or(t)?"-0":t}}function ns(e){return{integerValue:""+e}}function rs(e,t){return ar(t)?ns(t):ts(e,t)}class is{constructor(){this._=void 0}}function ss(e,t,n){return e instanceof ls?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&xr(t)&&(t=Ir(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof us?cs(e,t):e instanceof ds?hs(e,t):function(e,t){const n=as(e,t),r=ps(n)+ps(e.Pe);return zr(n)&&zr(e.Pe)?ns(r):ts(e.serializer,r)}(e,t)}function os(e,t,n){return e instanceof us?cs(e,t):e instanceof ds?hs(e,t):n}function as(e,t){return e instanceof fs?function(e){return zr(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ls extends is{}class us extends is{constructor(e){super(),this.elements=e}}function cs(e,t){const n=ms(t);for(const r of e.elements)n.some((e=>Dr(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ds extends is{constructor(e){super(),this.elements=e}}function hs(e,t){let n=ms(t);for(const r of e.elements)n=n.filter((e=>!Dr(e,r)));return{arrayValue:{values:n}}}class fs extends is{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ps(e){return Tr(e.integerValue||e.doubleValue)}function ms(e){return Br(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class gs{constructor(e,t){this.field=e,this.transform=t}}class ys{constructor(e,t){this.version=e,this.transformResults=t}}class vs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ws(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class bs{}function _s(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Os(e.key,vs.none()):new ks(e.key,e.data,vs.none());{const n=e.data,r=Gr.empty();let i=new vr(Hn.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new xs(e.key,r,new br(i.toArray()),vs.none())}}function Es(e,t,n){e instanceof ks?function(e,t,n){const r=e.value.clone(),i=Ns(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xs?function(e,t,n){if(!ws(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ns(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Is(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ss(e,t,n,r){return e instanceof ks?function(e,t,n,r){if(!ws(e.precondition,t))return n;const i=e.value.clone(),s=As(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xs?function(e,t,n,r){if(!ws(e.precondition,t))return n;const i=As(e.fieldTransforms,r,t),s=t.data;return s.setAll(Is(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ws(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Cs(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=as(r.transform,e||null);null!=i&&(null===n&&(n=Gr.empty()),n.set(r.field,i))}return n||null}function Ts(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fn(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof us&&t instanceof us||e instanceof ds&&t instanceof ds?Fn(e.elements,t.elements,Dr):e instanceof fs&&t instanceof fs?Dr(e.Pe,t.Pe):e instanceof ls&&t instanceof ls}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ks extends bs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xs extends bs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Is(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ns(e,t,n){const r=new Map;Sn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,os(o,a,n[i]))}return r}function As(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ss(e,s,t))}return r}class Os extends bs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ps extends bs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rs{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Es(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ss(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ss(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Gi();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=_s(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(zn.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xi())}isEqual(e){return this.batchId===e.batchId&&Fn(this.mutations,e.mutations,((e,t)=>Ts(e,t)))&&Fn(this.baseMutations,e.baseMutations,((e,t)=>Ts(e,t)))}}class Ds{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Sn(e.mutations.length===n.length);let r=Yi;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ds(e,t,n,r)}}class js{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ls{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ms,Us;function Fs(e){switch(e){default:return En();case Tn.CANCELLED:case Tn.UNKNOWN:case Tn.DEADLINE_EXCEEDED:case Tn.RESOURCE_EXHAUSTED:case Tn.INTERNAL:case Tn.UNAVAILABLE:case Tn.UNAUTHENTICATED:return!1;case Tn.INVALID_ARGUMENT:case Tn.NOT_FOUND:case Tn.ALREADY_EXISTS:case Tn.PERMISSION_DENIED:case Tn.FAILED_PRECONDITION:case Tn.ABORTED:case Tn.OUT_OF_RANGE:case Tn.UNIMPLEMENTED:case Tn.DATA_LOSS:return!0}}function Vs(e){if(void 0===e)return wn("GRPC error has no .code"),Tn.UNKNOWN;switch(e){case Ms.OK:return Tn.OK;case Ms.CANCELLED:return Tn.CANCELLED;case Ms.UNKNOWN:return Tn.UNKNOWN;case Ms.DEADLINE_EXCEEDED:return Tn.DEADLINE_EXCEEDED;case Ms.RESOURCE_EXHAUSTED:return Tn.RESOURCE_EXHAUSTED;case Ms.INTERNAL:return Tn.INTERNAL;case Ms.UNAVAILABLE:return Tn.UNAVAILABLE;case Ms.UNAUTHENTICATED:return Tn.UNAUTHENTICATED;case Ms.INVALID_ARGUMENT:return Tn.INVALID_ARGUMENT;case Ms.NOT_FOUND:return Tn.NOT_FOUND;case Ms.ALREADY_EXISTS:return Tn.ALREADY_EXISTS;case Ms.PERMISSION_DENIED:return Tn.PERMISSION_DENIED;case Ms.FAILED_PRECONDITION:return Tn.FAILED_PRECONDITION;case Ms.ABORTED:return Tn.ABORTED;case Ms.OUT_OF_RANGE:return Tn.OUT_OF_RANGE;case Ms.UNIMPLEMENTED:return Tn.UNIMPLEMENTED;case Ms.DATA_LOSS:return Tn.DATA_LOSS;default:return En()}}(Us=Ms||(Ms={}))[Us.OK=0]="OK",Us[Us.CANCELLED=1]="CANCELLED",Us[Us.UNKNOWN=2]="UNKNOWN",Us[Us.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Us[Us.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Us[Us.NOT_FOUND=5]="NOT_FOUND",Us[Us.ALREADY_EXISTS=6]="ALREADY_EXISTS",Us[Us.PERMISSION_DENIED=7]="PERMISSION_DENIED",Us[Us.UNAUTHENTICATED=16]="UNAUTHENTICATED",Us[Us.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Us[Us.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Us[Us.ABORTED=10]="ABORTED",Us[Us.OUT_OF_RANGE=11]="OUT_OF_RANGE",Us[Us.UNIMPLEMENTED=12]="UNIMPLEMENTED",Us[Us.INTERNAL=13]="INTERNAL",Us[Us.UNAVAILABLE=14]="UNAVAILABLE",Us[Us.DATA_LOSS=15]="DATA_LOSS";let zs=null;function Bs(){return new TextEncoder}const $s=new Jt([4294967295,4294967295],0);function qs(e){const t=Bs().encode(e),n=new Xt;return n.update(t),new Uint8Array(n.digest())}function Hs(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Jt([n,r],0),new Jt([i,s],0)]}class Ws{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ks(`Invalid padding: ${t}`);if(n<0)throw new Ks(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Ks(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Ks(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Jt.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Jt.fromNumber(n)));return 1===r.compare($s)&&(r=new Jt([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=qs(e),[n,r]=Hs(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ws(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=qs(e),[n,r]=Hs(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gs{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Qs.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Gs(zn.min(),r,new mr(Un),$i(),Xi())}}class Qs{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Qs(n,t,Xi(),Xi(),Xi())}}class Ys{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Js{constructor(e,t){this.targetId=e,this.me=t}}class Xs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Er.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Zs{constructor(){this.fe=0,this.ge=no(),this.pe=Er.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Xi(),t=Xi(),n=Xi();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:En()}})),new Qs(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=no()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Sn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eo{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=to(),this.Qe=new mr(Un)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:En()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Si(i))if(0===n){const e=new Wn(i.path);this.Ue(t,e,Yr.newNoDocument(e,zn.min()))}else Sn(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==zs||zs.et(function(e,t,n,r,i){var s,o,a,l,u,c;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==h?void 0:h.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=kr(n).toUint8Array()}catch(e){if(e instanceof _r)return bn("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Ws(s,r,i)}catch(e){return bn(e instanceof Ks?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Si(i.target)){const t=new Wn(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Yr.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=Xi();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Gs(e,t,this.Qe,this.ke,n);return this.ke=$i(),this.qe=to(),this.Qe=new mr(Un),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Zs,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new vr(Un),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||vn("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Zs),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function to(){return new mr(Wn.comparator)}function no(){return new mr(Wn.comparator)}const ro={asc:"ASCENDING",desc:"DESCENDING"},io={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},so={and:"AND",or:"OR"};class oo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ao(e,t){return e.useProto3Json||sr(t)?t:{value:t}}function lo(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function co(e,t){return lo(e,t.toTimestamp())}function ho(e){return Sn(!!e),zn.fromTimestamp(function(e){const t=Cr(e);return new Vn(t.seconds,t.nanos)}(e))}function fo(e,t){return po(e,t).canonicalString()}function po(e,t){const n=function(e){return new $n(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function mo(e){const t=$n.fromString(e);return Sn(jo(t)),t}function go(e,t){return fo(e.databaseId,t.path)}function yo(e,t){const n=mo(t);if(n.get(1)!==e.databaseId.projectId)throw new kn(Tn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kn(Tn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wn(_o(n))}function vo(e,t){return fo(e.databaseId,t)}function wo(e){const t=mo(e);return 4===t.length?$n.emptyPath():_o(t)}function bo(e){return new $n(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _o(e){return Sn(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Eo(e,t,n){return{name:go(e,t),fields:n.value.mapValue.fields}}function So(e,t){let n;if(t instanceof ks)n={update:Eo(e,t.key,t.value)};else if(t instanceof Os)n={delete:go(e,t.key)};else if(t instanceof xs)n={update:Eo(e,t.key,t.data),updateMask:Do(t.fieldMask)};else{if(!(t instanceof Ps))return En();n={verify:go(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ls)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof us)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ds)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fs)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw En()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:co(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:En()}(e,t.precondition)),n}function Co(e,t){return{documents:[vo(e,t.path)]}}function To(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vo(e,i);const s=function(e){if(0!==e.length)return Ro(ii.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Oo(e.field),direction:Io(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ao(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function ko(e){let t=wo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Sn(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=xo(e);return t instanceof ii&&oi(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new ei(Po(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,sr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Jr(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Jr(n,t)}(n.endAt)),Ti(t,i,o,s,a,"F",l,u)}function xo(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Po(e.unaryFilter.field);return ri.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Po(e.unaryFilter.field);return ri.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Po(e.unaryFilter.field);return ri.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Po(e.unaryFilter.field);return ri.create(i,"!=",{nullValue:"NULL_VALUE"});default:return En()}}(e):void 0!==e.fieldFilter?function(e){return ri.create(Po(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return En()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ii.create(e.compositeFilter.filters.map((e=>xo(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return En()}}(e.compositeFilter.op))}(e):En()}function Io(e){return ro[e]}function No(e){return io[e]}function Ao(e){return so[e]}function Oo(e){return{fieldPath:e.canonicalString()}}function Po(e){return Hn.fromServerFormat(e.fieldPath)}function Ro(e){return e instanceof ri?function(e){if("=="===e.op){if(qr(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NAN"}};if($r(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qr(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NAN"}};if($r(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(e.field),op:No(e.op),value:e.value}}}(e):e instanceof ii?function(e){const t=e.getFilters().map((e=>Ro(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ao(e.op),filters:t}}}(e):En()}function Do(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function jo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Lo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zn.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zn.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Er.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mo{constructor(e){this.ct=e}}function Uo(e){const t=ko({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ri(t,t.limit,"L"):t}class Fo{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Tr(e.integerValue));else if("doubleValue"in e){const n=Tr(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),or(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Cr(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(kr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Kr(e)?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):En()}Vt(e,t){this.dt(t,25),this.bt(e,t)}bt(e,t){t.Rt(e)}wt(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}St(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Wn.fromName(e).path.forEach((e=>{this.dt(t,60),this.bt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}Fo.Dt=new Fo;class Vo{constructor(){this.an=new zo}addToCollectionParentIndex(e,t){return this.an.add(t),tr.resolve()}getCollectionParents(e,t){return tr.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return tr.resolve()}deleteFieldIndex(e,t){return tr.resolve()}deleteAllFieldIndexes(e){return tr.resolve()}createTargetIndexes(e,t){return tr.resolve()}getDocumentsMatchingTarget(e,t){return tr.resolve(null)}getIndexType(e,t){return tr.resolve(0)}getFieldIndexes(e,t){return tr.resolve([])}getNextCollectionGroupToUpdate(e){return tr.resolve(null)}getMinOffset(e,t){return tr.resolve(Yn.min())}getMinOffsetFromCollectionGroup(e,t){return tr.resolve(Yn.min())}updateCollectionGroup(e,t,n){return tr.resolve()}updateIndexEntries(e,t){return tr.resolve()}}class zo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vr($n.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new vr($n.comparator)).toArray()}}new Uint8Array(0);class Bo{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Bo(e,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bo.DEFAULT_COLLECTION_PERCENTILE=10,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bo.DEFAULT=new Bo(41943040,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bo.DISABLED=new Bo(-1,0,0);class $o{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new $o(0)}static Bn(){return new $o(-1)}}class qo{constructor(){this.changes=new zi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?tr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ho{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Wo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ss(n.mutation,e,br.empty(),Vn.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Xi()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xi();const r=Ki();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Hi();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ki();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Xi())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=$i();const s=Qi(),o=Qi();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof xs)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Ss(o.mutation,t,o.mutation.getFieldMask(),Vn.now())):s.set(t.key,br.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Ho(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Qi();let r=new mr(((e,t)=>e-t)),i=Xi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||br.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Xi()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Gi();l.forEach((e=>{if(!i.has(e)){const r=_s(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return tr.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Wn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ii(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):tr.resolve(Ki());let o=-1,a=i;return s.next((t=>tr.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?tr.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Xi()))).next((e=>({batchId:o,changes:Wi(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wn(t)).next((e=>{let t=Hi();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Hi();return this.indexManager.getCollectionParents(e,i).next((o=>tr.forEach(o,(o=>{const a=function(e,t){return new Ci(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Yr.newInvalidDocument(r)))}));let n=Hi();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Ss(s.mutation,r,br.empty(),Vn.now()),Mi(t,r)&&(n=n.insert(e,r))})),n}))}}class Ko{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return tr.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ho(e.createTime)}}(t)),tr.resolve()}getNamedQuery(e,t){return tr.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:Uo(e.bundledQuery),readTime:ho(e.readTime)}}(t)),tr.resolve()}}class Go{constructor(){this.overlays=new mr(Wn.comparator),this.Pr=new Map}getOverlay(e,t){return tr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ki();return tr.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),tr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Pr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Pr.delete(n)),tr.resolve()}getOverlaysForCollection(e,t,n){const r=Ki(),i=t.length+1,s=new Wn(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return tr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new mr(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ki(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Ki(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return tr.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new js(t,n));let i=this.Pr.get(t);void 0===i&&(i=Xi(),this.Pr.set(t,i)),this.Pr.set(t,i.add(n.key))}}class Qo{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(e){return tr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tr.resolve()}}class Yo{constructor(){this.Ir=new vr(Jo.Tr),this.Er=new vr(Jo.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const n=new Jo(e,t);this.Ir=this.Ir.add(n),this.Er=this.Er.add(n)}Ar(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Rr(new Jo(e,t))}Vr(e,t){e.forEach((e=>this.removeReference(e,t)))}mr(e){const t=new Wn(new $n([])),n=new Jo(t,e),r=new Jo(t,e+1),i=[];return this.Er.forEachInRange([n,r],(e=>{this.Rr(e),i.push(e.key)})),i}gr(){this.Ir.forEach((e=>this.Rr(e)))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const t=new Wn(new $n([])),n=new Jo(t,e),r=new Jo(t,e+1);let i=Xi();return this.Er.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Jo(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Jo{constructor(e,t){this.key=e,this.yr=t}static Tr(e,t){return Wn.comparator(e.key,t.key)||Un(e.yr,t.yr)}static dr(e,t){return Un(e.yr,t.yr)||Wn.comparator(e.key,t.key)}}class Xo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new vr(Jo.Tr)}checkEmpty(e){return tr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Rs(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Sr=this.Sr.add(new Jo(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return tr.resolve(s)}lookupMutationBatch(e,t){return tr.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Dr(n),i=r<0?0:r;return tr.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return tr.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return tr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Jo(t,0),r=new Jo(t,Number.POSITIVE_INFINITY),i=[];return this.Sr.forEachInRange([n,r],(e=>{const t=this.br(e.yr);i.push(t)})),tr.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new vr(Un);return t.forEach((e=>{const t=new Jo(e,0),r=new Jo(e,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([t,r],(e=>{n=n.add(e.yr)}))})),tr.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Wn.isDocumentKey(i)||(i=i.child(""));const s=new Jo(new Wn(i),0);let o=new vr(Un);return this.Sr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.yr)),!0)}),s),tr.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.br(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Sn(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Sr;return tr.forEach(t.mutations,(r=>{const i=new Jo(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Sr=n}))}xn(e){}containsKey(e,t){const n=new Jo(t,0),r=this.Sr.firstAfterOrEqual(n);return tr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,tr.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zo{constructor(e){this.Fr=e,this.docs=new mr(Wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return tr.resolve(n?n.document.mutableCopy():Yr.newInvalidDocument(t))}getEntries(e,t){let n=$i();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Yr.newInvalidDocument(e))})),tr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=$i();const s=t.path,o=new Wn(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Jn(Qn(o),n)<=0||(r.has(o.key)||Mi(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return tr.resolve(i)}getAllFromCollectionGroup(e,t,n,r){En()}Mr(e,t){return tr.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ea(this)}getSize(e){return tr.resolve(this.size)}}class ea extends qo{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ur.addEntry(e,r)):this.ur.removeEntry(n)})),tr.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}class ta{constructor(e){this.persistence=e,this.Or=new zi((e=>_i(e)),Ei),this.lastRemoteSnapshotVersion=zn.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new Yo,this.targetCount=0,this.Br=$o.Ln()}forEachTarget(e,t){return this.Or.forEach(((e,n)=>t(n))),tr.resolve()}getLastRemoteSnapshotVersion(e){return tr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tr.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),tr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),tr.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new $o(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,tr.resolve()}updateTargetData(e,t){return this.Qn(t),tr.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Lr.mr(t.targetId),this.targetCount-=1,tr.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Or.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Or.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),tr.waitFor(i).next((()=>r))}getTargetCount(e){return tr.resolve(this.targetCount)}getTargetData(e,t){const n=this.Or.get(t)||null;return tr.resolve(n)}addMatchingKeys(e,t,n){return this.Lr.Ar(t,n),tr.resolve()}removeMatchingKeys(e,t,n){this.Lr.Vr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),tr.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Lr.mr(t),tr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Lr.pr(t);return tr.resolve(n)}containsKey(e,t){return tr.resolve(this.Lr.containsKey(t))}}class na{constructor(e,t){this.kr={},this.overlays={},this.qr=new ir(0),this.Qr=!1,this.Qr=!0,this.Kr=new Qo,this.referenceDelegate=e(this),this.$r=new ta(this),this.indexManager=new Vo,this.remoteDocumentCache=function(e){return new Zo(e)}((e=>this.referenceDelegate.Ur(e))),this.serializer=new Mo(t),this.Wr=new Ko(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Go,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.kr[e.toKey()];return n||(n=new Xo(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,t,n){vn("MemoryPersistence","Starting transaction:",e);const r=new ra(this.qr.next());return this.referenceDelegate.Gr(),n(r).next((e=>this.referenceDelegate.zr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}jr(e,t){return tr.or(Object.values(this.kr).map((n=>()=>n.containsKey(e,t))))}}class ra extends Zn{constructor(e){super(),this.currentSequenceNumber=e}}class ia{constructor(e){this.persistence=e,this.Hr=new Yo,this.Jr=null}static Yr(e){return new ia(e)}get Zr(){if(this.Jr)return this.Jr;throw En()}addReference(e,t,n){return this.Hr.addReference(n,t),this.Zr.delete(n.toString()),tr.resolve()}removeReference(e,t,n){return this.Hr.removeReference(n,t),this.Zr.add(n.toString()),tr.resolve()}markPotentiallyOrphaned(e,t){return this.Zr.add(t.toString()),tr.resolve()}removeTarget(e,t){this.Hr.mr(t.targetId).forEach((e=>this.Zr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Zr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Gr(){this.Jr=new Set}zr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tr.forEach(this.Zr,(n=>{const r=Wn.fromPath(n);return this.Xr(e,r).next((e=>{e||t.removeEntry(r,zn.min())}))})).next((()=>(this.Jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Xr(e,t).next((e=>{e?this.Zr.delete(t.toString()):this.Zr.add(t.toString())}))}Ur(e){return 0}Xr(e,t){return tr.or([()=>tr.resolve(this.Hr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.jr(e,t)])}}class sa{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ki=n,this.$i=r}static Ui(e,t){let n=Xi(),r=Xi();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new sa(e,t.fromCache,n,r)}}class oa{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aa{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=se()?8:nr(ie())>0?6:4}initialize(e,t){this.Hi=e,this.indexManager=t,this.Wi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Yi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new oa;return this.Zi(e,t,n).next((r=>{if(i.result=r,this.Gi)return this.Xi(e,t,n,r.size)}))})).next((()=>i.result))}Xi(e,t,n,r){return n.documentReadCount<this.zi?(yn()<=Ce.DEBUG&&vn("QueryEngine","SDK will not create cache indexes for query:",Li(t),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),tr.resolve()):(yn()<=Ce.DEBUG&&vn("QueryEngine","Query:",Li(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ji*r?(yn()<=Ce.DEBUG&&vn("QueryEngine","The SDK decides to create cache indexes for query:",Li(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(t))):tr.resolve())}Ji(e,t){if(xi(t))return tr.resolve(null);let n=Ai(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ri(t,null,"F"),n=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Xi(...r);return this.Hi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.es(t,r);return this.ts(t,s,i,n.readTime)?this.Ji(e,Ri(t,null,"F")):this.ns(e,s,t,n)}))))})))))}Yi(e,t,n,r){return xi(t)||r.isEqual(zn.min())?tr.resolve(null):this.Hi.getDocuments(e,n).next((i=>{const s=this.es(t,i);return this.ts(t,s,n,r)?tr.resolve(null):(yn()<=Ce.DEBUG&&vn("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Li(t)),this.ns(e,s,t,Gn(r,-1)).next((e=>e)))}))}es(e,t){let n=new vr(Fi(e));return t.forEach(((t,r)=>{Mi(e,r)&&(n=n.add(r))})),n}ts(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Zi(e,t,n){return yn()<=Ce.DEBUG&&vn("QueryEngine","Using full collection scan to execute query:",Li(t)),this.Hi.getDocumentsMatchingQuery(e,t,Yn.min(),n)}ns(e,t,n,r){return this.Hi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class la{constructor(e,t,n,r){this.persistence=e,this.rs=t,this.serializer=r,this.ss=new mr(Un),this.os=new zi((e=>_i(e)),Ei),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(n)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wo(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ss)))}}function ua(e,t,n,r){return new la(e,t,n,r)}async function ca(e,t){const n=Cn(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.cs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Xi();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({ls:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function da(e){const t=Cn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.$r.getLastRemoteSnapshotVersion(e)))}function ha(e,t,n){let r=Xi(),i=Xi();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=$i();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(zn.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):vn("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{hs:r,Ps:i}}))}function fa(e,t){const n=Cn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function pa(e,t){const n=Cn(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.$r.getTargetData(e,t).next((i=>i?(r=i,tr.resolve(r)):n.$r.allocateTargetId(e).next((i=>(r=new Lo(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.$r.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ss=n.ss.insert(e.targetId,e),n.os.set(t,e.targetId)),e}))}async function ma(e,t,n){const r=Cn(e),i=r.ss.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!rr(e))throw e;vn("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ss=r.ss.remove(t),r.os.delete(i.target)}function ga(e,t,n){const r=Cn(e);let i=zn.min(),s=Xi();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Cn(e),i=r.os.get(n);return void 0!==i?tr.resolve(r.ss.get(i)):r.$r.getTargetData(t,n)}(r,e,Ai(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.rs.getDocumentsMatchingQuery(e,t,n?i:zn.min(),n?s:Xi()))).next((e=>(ya(r,Ui(t),e),{documents:e,Is:s})))))}function ya(e,t,n){let r=e._s.get(t)||zn.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e._s.set(t,r)}class va{constructor(){this.activeTargetIds=es()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wa{constructor(){this.io=new va,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,t,n){this.so[e]=t}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new va,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ba{oo(e){}shutdown(){}}class _a{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){vn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){vn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ea=null;function Sa(){return null===Ea?Ea=268435456+Math.round(2147483648*Math.random()):Ea++,"0x"+Ea.toString(16)}const Ca={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ta{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}const ka="WebChannelConnection";class xa extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.bo=t+"://"+e.host,this.Do=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get vo(){return!1}Fo(e,t,n,r,i){const s=Sa(),o=this.Mo(e,t.toUriEncodedString());vn("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(a,r,i),this.Oo(e,o,a,n).then((t=>(vn("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw bn("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}No(e,t,n,r,i,s){return this.Fo(e,t,n,r,i)}xo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+mn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Mo(e,t){const n=Ca[e];return`${this.bo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,t,n,r){const i=Sa();return new Promise(((s,o)=>{const a=new tn;a.setWithCredentials(!0),a.listenOnce(sn.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case on.NO_ERROR:const t=a.getResponseJson();vn(ka,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case on.TIMEOUT:vn(ka,`RPC '${e}' ${i} timed out`),o(new kn(Tn.DEADLINE_EXCEEDED,"Request time out"));break;case on.HTTP_ERROR:const n=a.getStatus();if(vn(ka,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Tn).indexOf(t)>=0?t:Tn.UNKNOWN}(t.status);o(new kn(e,t.message))}else o(new kn(Tn.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new kn(Tn.UNAVAILABLE,"Connection failed."));break;default:En()}}finally{vn(ka,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);vn(ka,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Lo(e,t,n){const r=Sa(),i=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cn(),o=un(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new nn({})),this.xo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");vn(ka,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let d=!1,h=!1;const f=new Ta({Po:t=>{h?vn(ka,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(vn(ka,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),vn(ka,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Io:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,rn.EventType.OPEN,(()=>{h||(vn(ka,`RPC '${e}' stream ${r} transport opened.`),f.po())})),p(c,rn.EventType.CLOSE,(()=>{h||(h=!0,vn(ka,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(c,rn.EventType.ERROR,(t=>{h||(h=!0,bn(ka,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new kn(Tn.UNAVAILABLE,"The operation could not be completed")))})),p(c,rn.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Sn(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){vn(ka,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Ms[e];if(void 0!==t)return Vs(t)}(t),i=o.message;void 0===n&&(n=Tn.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.wo(new kn(n,i)),c.close()}else vn(ka,`RPC '${e}' stream ${r} received:`,i),f.So(i)}})),p(o,ln.STAT_EVENT,(t=>{t.stat===an.PROXY?vn(ka,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===an.NOPROXY&&vn(ka,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.yo()}),0),f}}function Ia(){return"undefined"!=typeof document?document:null}function Na(e){return new oo(e,!0)}class Aa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ai=e,this.timerId=t,this.Bo=n,this.ko=r,this.qo=i,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const t=Math.floor(this.Qo+this.Go()),n=Math.max(0,Date.now()-this.$o),r=Math.max(0,t-n);r>0&&vn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Qo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,(()=>(this.$o=Date.now(),e()))),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){null!==this.Ko&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){null!==this.Ko&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}class Oa{constructor(e,t,n,r,i,s,o,a){this.ai=e,this.jo=n,this.Ho=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new Aa(e,t)}t_(){return 1===this.state||5===this.state||this.n_()}n_(){return 2===this.state||3===this.state}start(){this.Xo=0,4!==this.state?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&null===this.Yo&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,(()=>this.o_())))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,t){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,4!==e?this.e_.reset():t&&t.code===Tn.RESOURCE_EXHAUSTED?(wn(t.toString()),wn("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):t&&t.code===Tn.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(t)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),t=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Jo===t&&this.h_(n,r)}),(t=>{e((()=>{const e=new kn(Tn.UNKNOWN,"Fetching auth token failed: "+t.message);return this.P_(e)}))}))}h_(e,t){const n=this.l_(this.Jo);this.stream=this.I_(e,t),this.stream.To((()=>{n((()=>this.listener.To()))})),this.stream.Ao((()=>{n((()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,(()=>(this.n_()&&(this.state=3),Promise.resolve()))),this.listener.Ao())))})),this.stream.Vo((e=>{n((()=>this.P_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.Xo?this.T_(e):this.onNext(e)))}))}r_(){this.state=5,this.e_.Wo((async()=>{this.state=0,this.start()}))}P_(e){return vn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return t=>{this.ai.enqueueAndForget((()=>this.Jo===e?t():(vn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pa extends Oa{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}I_(e,t){return this.connection.Lo("Listen",e,t)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:En()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Sn(void 0===t||"string"==typeof t),Er.fromBase64String(t||"")):(Sn(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Er.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Tn.UNKNOWN:Vs(e.code);return new kn(t,e.message||"")}(o);n=new Xs(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=yo(e,r.document.name),s=ho(r.document.updateTime),o=r.document.createTime?ho(r.document.createTime):zn.min(),a=new Gr({mapValue:{fields:r.document.fields}}),l=Yr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ys(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=yo(e,r.document),s=r.readTime?ho(r.readTime):zn.min(),o=Yr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ys([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=yo(e,r.document),s=r.removedTargetIds||[];n=new Ys([],s,i,null)}else{if(!("filter"in t))return En();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ls(r,i),o=e.targetId;n=new Js(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return zn.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?zn.min():t.readTime?ho(t.readTime):zn.min()}(e);return this.listener.E_(t,n)}d_(e){const t={};t.database=bo(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Si(r)?{documents:Co(e,r)}:{query:To(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=uo(e,t.resumeToken);const r=ao(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(zn.min())>0){n.readTime=lo(e,t.snapshotVersion.toTimestamp());const r=ao(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return En()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.__(t)}A_(e){const t={};t.database=bo(this.serializer),t.removeTarget=e,this.__(t)}}class Ra extends Oa{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,t){return this.connection.Lo("Write",e,t)}T_(e){return Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,Sn(!e.writeResults||0===e.writeResults.length),this.listener.m_()}onNext(e){Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const t=function(e,t){return e&&e.length>0?(Sn(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ho(e.updateTime):ho(t);return n.isEqual(zn.min())&&(n=ho(t)),new ys(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ho(e.commitTime);return this.listener.f_(n,t)}g_(){const e={};e.database=bo(this.serializer),this.__(e)}V_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>So(this.serializer,e)))};this.__(t)}}class Da extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new kn(Tn.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,t,n,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Fo(e,po(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Tn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kn(Tn.UNKNOWN,e.toString())}))}No(e,t,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.No(e,po(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Tn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kn(Tn.UNKNOWN,e.toString())}))}terminate(){this.p_=!0,this.connection.terminate()}}class ja{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){0===this.w_&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}F_(e){"Online"===this.state?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,"Online"===e&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(wn(t),this.b_=!1):vn("OnlineStateTracker",t)}M_(){null!==this.S_&&(this.S_.cancel(),this.S_=null)}}class La{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=i,this.B_.oo((e=>{n.enqueueAndForget((async()=>{Ha(this)&&(vn("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Cn(e);t.N_.add(4),await Ua(t),t.k_.set("Unknown"),t.N_.delete(4),await Ma(t)}(this))}))})),this.k_=new ja(n,r)}}async function Ma(e){if(Ha(e))for(const t of e.L_)await t(!0)}async function Ua(e){for(const t of e.L_)await t(!1)}function Fa(e,t){const n=Cn(e);n.O_.has(t.targetId)||(n.O_.set(t.targetId,t),qa(n)?$a(n):cl(n).n_()&&za(n,t))}function Va(e,t){const n=Cn(e),r=cl(n);n.O_.delete(t),r.n_()&&Ba(n,t),0===n.O_.size&&(r.n_()?r.s_():Ha(n)&&n.k_.set("Unknown"))}function za(e,t){if(e.q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}cl(e).d_(t)}function Ba(e,t){e.q_.xe(t),cl(e).A_(t)}function $a(e){e.q_=new eo({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.O_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),cl(e).start(),e.k_.D_()}function qa(e){return Ha(e)&&!cl(e).t_()&&e.O_.size>0}function Ha(e){return 0===Cn(e).N_.size}function Wa(e){e.q_=void 0}async function Ka(e){e.k_.set("Online")}async function Ga(e){e.O_.forEach(((t,n)=>{za(e,t)}))}async function Qa(e,t){Wa(e),qa(e)?(e.k_.F_(t),$a(e)):e.k_.set("Unknown")}async function Ya(e,t,n){if(e.k_.set("Online"),t instanceof Xs&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.O_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.O_.delete(r),e.q_.removeTarget(r))}(e,t)}catch(n){vn("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ja(e,n)}else if(t instanceof Ys?e.q_.Ke(t):t instanceof Js?e.q_.He(t):e.q_.We(t),!n.isEqual(zn.min()))try{const t=await da(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.O_.get(r);i&&e.O_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.O_.get(t);if(!r)return;e.O_.set(t,r.withResumeToken(Er.EMPTY_BYTE_STRING,r.snapshotVersion)),Ba(e,t);const i=new Lo(r.target,t,n,r.sequenceNumber);za(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){vn("RemoteStore","Failed to raise snapshot:",t),await Ja(e,t)}}async function Ja(e,t,n){if(!rr(t))throw t;e.N_.add(1),await Ua(e),e.k_.set("Offline"),n||(n=()=>da(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{vn("RemoteStore","Retrying IndexedDB access"),await n(),e.N_.delete(1),await Ma(e)}))}function Xa(e,t){return t().catch((n=>Ja(e,n,t)))}async function Za(e){const t=Cn(e),n=dl(t);let r=t.x_.length>0?t.x_[t.x_.length-1].batchId:-1;for(;el(t);)try{const e=await fa(t.localStore,r);if(null===e){0===t.x_.length&&n.s_();break}r=e.batchId,tl(t,e)}catch(e){await Ja(t,e)}nl(t)&&rl(t)}function el(e){return Ha(e)&&e.x_.length<10}function tl(e,t){e.x_.push(t);const n=dl(e);n.n_()&&n.R_&&n.V_(t.mutations)}function nl(e){return Ha(e)&&!dl(e).t_()&&e.x_.length>0}function rl(e){dl(e).start()}async function il(e){dl(e).g_()}async function sl(e){const t=dl(e);for(const n of e.x_)t.V_(n.mutations)}async function ol(e,t,n){const r=e.x_.shift(),i=Ds.from(r,t,n);await Xa(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Za(e)}async function al(e,t){t&&dl(e).R_&&await async function(e,t){if(function(e){return Fs(e)&&e!==Tn.ABORTED}(t.code)){const n=e.x_.shift();dl(e).i_(),await Xa(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Za(e)}}(e,t),nl(e)&&rl(e)}async function ll(e,t){const n=Cn(e);n.asyncQueue.verifyOperationInProgress(),vn("RemoteStore","RemoteStore received new credentials");const r=Ha(n);n.N_.add(3),await Ua(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.N_.delete(3),await Ma(n)}async function ul(e,t){const n=Cn(e);t?(n.N_.delete(2),await Ma(n)):t||(n.N_.add(2),await Ua(n),n.k_.set("Unknown"))}function cl(e){return e.Q_||(e.Q_=function(e,t,n){const r=Cn(e);return r.y_(),new Pa(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{To:Ka.bind(null,e),Ao:Ga.bind(null,e),Vo:Qa.bind(null,e),E_:Ya.bind(null,e)}),e.L_.push((async t=>{t?(e.Q_.i_(),qa(e)?$a(e):e.k_.set("Unknown")):(await e.Q_.stop(),Wa(e))}))),e.Q_}function dl(e){return e.K_||(e.K_=function(e,t,n){const r=Cn(e);return r.y_(),new Ra(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{To:()=>Promise.resolve(),Ao:il.bind(null,e),Vo:al.bind(null,e),m_:sl.bind(null,e),f_:ol.bind(null,e)}),e.L_.push((async t=>{t?(e.K_.i_(),await Za(e)):(await e.K_.stop(),e.x_.length>0&&(vn("RemoteStore",`Stopping write stream with ${e.x_.length} pending writes`),e.x_=[]))}))),e.K_}class hl{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new hl(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kn(Tn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fl(e,t){if(wn("AsyncQueue",`${t}: ${e}`),rr(e))return new kn(Tn.UNAVAILABLE,`${t}: ${e}`);throw e}class pl{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Wn.comparator(t.key,n.key):(e,t)=>Wn.comparator(e.key,t.key),this.keyedMap=Hi(),this.sortedSet=new mr(this.comparator)}static emptySet(e){return new pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pl))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new pl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ml{constructor(){this.U_=new mr(Wn.comparator)}track(e){const t=e.doc.key,n=this.U_.get(t);n?0!==e.type&&3===n.type?this.U_=this.U_.insert(t,e):3===e.type&&1!==n.type?this.U_=this.U_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.U_=this.U_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.U_=this.U_.remove(t):1===e.type&&2===n.type?this.U_=this.U_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):En():this.U_=this.U_.insert(t,e)}W_(){const e=[];return this.U_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class gl{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new gl(e,t,pl.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Di(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class yl{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some((e=>e.H_()))}}class vl{constructor(){this.queries=wl(),this.onlineState="Unknown",this.J_=new Set}terminate(){!function(e,t){const n=Cn(e),r=n.queries;n.queries=wl(),r.forEach(((e,n)=>{for(const r of n.z_)r.onError(t)}))}(this,new kn(Tn.ABORTED,"Firestore shutting down"))}}function wl(){return new zi((e=>ji(e)),Di)}async function bl(e,t){const n=Cn(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.j_()&&t.H_()&&(r=2):(s=new yl,r=t.H_()?0:1);try{switch(r){case 0:s.G_=await n.onListen(i,!0);break;case 1:s.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=fl(e,`Initialization of query '${Li(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.z_.push(t),t.Y_(n.onlineState),s.G_&&t.Z_(s.G_)&&Cl(n)}async function _l(e,t){const n=Cn(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.z_.indexOf(t);e>=0&&(s.z_.splice(e,1),0===s.z_.length?i=t.H_()?0:1:!s.j_()&&t.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function El(e,t){const n=Cn(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.z_)e.Z_(i)&&(r=!0);t.G_=i}}r&&Cl(n)}function Sl(e,t,n){const r=Cn(e),i=r.queries.get(t);if(i)for(const s of i.z_)s.onError(n);r.queries.delete(t)}function Cl(e){e.J_.forEach((e=>{e.next()}))}var Tl,kl;(kl=Tl||(Tl={})).X_="default",kl.Cache="cache";class xl{constructor(e,t,n){this.query=e,this.ea=t,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}Z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ta?this.ra(e)&&(this.ea.next(e),t=!0):this.ia(e,this.onlineState)&&(this.sa(e),t=!0),this.na=e,t}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let t=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),t=!0),t}ia(e,t){if(!e.fromCache)return!0;if(!this.H_())return!0;const n="Offline"!==t;return(!this.options.oa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ra(e){if(e.docChanges.length>0)return!0;const t=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}sa(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==Tl.Cache}}class Il{constructor(e){this.key=e}}class Nl{constructor(e){this.key=e}}class Al{constructor(e,t){this.query=e,this.Ia=t,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=Xi(),this.mutatedKeys=Xi(),this.da=Fi(e),this.Aa=new pl(this.da)}get Ra(){return this.Ia}Va(e,t){const n=t?t.ma:new ml,r=t?t.Aa:this.Aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Mi(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.fa(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.da(c,a)>0||l&&this.da(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Aa:s,ma:n,ts:o,mutatedKeys:i}}fa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const s=e.ma.W_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return En()}};return n(e)-n(t)}(e.type,t.type)||this.da(e.doc,t.doc))),this.ga(n),r=null!=r&&r;const o=t&&!r?this.pa():[],a=0===this.Ea.size&&this.current&&!r?1:0,l=a!==this.Ta;return this.Ta=a,0!==s.length||l?{snapshot:new gl(this.query,e.Aa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ya:o}:{ya:o}}Y_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new ml,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach((e=>this.Ia=this.Ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ia=this.Ia.delete(e))),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=Xi(),this.Aa.forEach((e=>{this.wa(e.key)&&(this.Ea=this.Ea.add(e.key))}));const t=[];return e.forEach((e=>{this.Ea.has(e)||t.push(new Nl(e))})),this.Ea.forEach((n=>{e.has(n)||t.push(new Il(n))})),t}Sa(e){this.Ia=e.Is,this.Ea=Xi();const t=this.Va(e.documents);return this.applyChanges(t,!0)}ba(){return gl.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,0===this.Ta,this.hasCachedResults)}}class Ol{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Pl{constructor(e){this.key=e,this.Da=!1}}class Rl{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.va=new zi((e=>ji(e)),Di),this.Fa=new Map,this.Ma=new Set,this.xa=new mr(Wn.comparator),this.Oa=new Map,this.Na=new Yo,this.La={},this.Ba=new Map,this.ka=$o.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return!0===this.qa}}async function Dl(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=tu(e);let i;const s=r.va.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ba()):i=await Ll(r,t,n,!0),i}async function jl(e,t){const n=tu(e);await Ll(n,t,!0,!1)}async function Ll(e,t,n,r){const i=await pa(e.localStore,Ai(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Ml(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Fa(e.remoteStore,i),a}async function Ml(e,t,n,r,i){e.Qa=(t,n,r)=>async function(e,t,n,r){let i=t.view.Va(n);i.ts&&(i=await ga(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Va(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Ql(e,t.targetId,a.ya),a.snapshot}(e,t,n,r);const s=await ga(e.localStore,t,!0),o=new Al(t,s.Is),a=o.Va(s.documents),l=Qs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);Ql(e,n,u.ya);const c=new Ol(t,n,o);return e.va.set(t,c),e.Fa.has(n)?e.Fa.get(n).push(t):e.Fa.set(n,[t]),u.snapshot}async function Ul(e,t,n){const r=Cn(e),i=r.va.get(t),s=r.Fa.get(i.targetId);if(s.length>1)return r.Fa.set(i.targetId,s.filter((e=>!Di(e,t)))),void r.va.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ma(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Va(r.remoteStore,i.targetId),Kl(r,i.targetId)})).catch(er)):(Kl(r,i.targetId),await ma(r.localStore,i.targetId,!0))}async function Fl(e,t){const n=Cn(e),r=n.va.get(t),i=n.Fa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Va(n.remoteStore,r.targetId))}async function Vl(e,t){const n=Cn(e);try{const e=await function(e,t){const n=Cn(e),r=t.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.$r.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.$r.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Er.EMPTY_BYTE_STRING,zn.min()).withLastLimboFreeSnapshotVersion(zn.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.$r.updateTargetData(e,u))}));let a=$i(),l=Xi();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ha(e,s,t.documentUpdates).next((e=>{a=e.hs,l=e.Ps}))),!r.isEqual(zn.min())){const t=n.$r.getLastRemoteSnapshotVersion(e).next((t=>n.$r.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return tr.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ss=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Oa.get(t);r&&(Sn(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Da=!0:e.modifiedDocuments.size>0?Sn(r.Da):e.removedDocuments.size>0&&(Sn(r.Da),r.Da=!1))})),await Xl(n,e,t)}catch(e){await er(e)}}function zl(e,t,n){const r=Cn(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.va.forEach(((n,r)=>{const i=r.view.Y_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Cn(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.z_)i.Y_(t)&&(r=!0)})),r&&Cl(n)}(r.eventManager,t),e.length&&r.Ca.E_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Bl(e,t,n){const r=Cn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Oa.get(t),s=i&&i.key;if(s){let e=new mr(Wn.comparator);e=e.insert(s,Yr.newNoDocument(s,zn.min()));const n=Xi().add(s),i=new Gs(zn.min(),new Map,new mr(Un),e,n);await Vl(r,i),r.xa=r.xa.remove(s),r.Oa.delete(t),Jl(r)}else await ma(r.localStore,t,!1).then((()=>Kl(r,t,n))).catch(er)}async function $l(e,t){const n=Cn(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Cn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.us.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=tr.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Sn(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xi();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Wl(n,r,null),Hl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xl(n,e)}catch(e){await er(e)}}async function ql(e,t,n){const r=Cn(e);try{const e=await function(e,t){const n=Cn(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Sn(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Wl(r,t,n),Hl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Xl(r,e)}catch(n){await er(n)}}function Hl(e,t){(e.Ba.get(t)||[]).forEach((e=>{e.resolve()})),e.Ba.delete(t)}function Wl(e,t,n){const r=Cn(e);let i=r.La[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.La[r.currentUser.toKey()]=i}}function Kl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fa.get(t))e.va.delete(r),n&&e.Ca.Ka(r,n);e.Fa.delete(t),e.isPrimaryClient&&e.Na.mr(t).forEach((t=>{e.Na.containsKey(t)||Gl(e,t)}))}function Gl(e,t){e.Ma.delete(t.path.canonicalString());const n=e.xa.get(t);null!==n&&(Va(e.remoteStore,n),e.xa=e.xa.remove(t),e.Oa.delete(n),Jl(e))}function Ql(e,t,n){for(const r of n)r instanceof Il?(e.Na.addReference(r.key,t),Yl(e,r)):r instanceof Nl?(vn("SyncEngine","Document no longer in limbo: "+r.key),e.Na.removeReference(r.key,t),e.Na.containsKey(r.key)||Gl(e,r.key)):En()}function Yl(e,t){const n=t.key,r=n.path.canonicalString();e.xa.get(n)||e.Ma.has(r)||(vn("SyncEngine","New document in limbo: "+n),e.Ma.add(r),Jl(e))}function Jl(e){for(;e.Ma.size>0&&e.xa.size<e.maxConcurrentLimboResolutions;){const t=e.Ma.values().next().value;e.Ma.delete(t);const n=new Wn($n.fromString(t)),r=e.ka.next();e.Oa.set(r,new Pl(n)),e.xa=e.xa.insert(n,r),Fa(e.remoteStore,new Lo(Ai(ki(n.path)),r,"TargetPurposeLimboResolution",ir.oe))}}async function Xl(e,t,n){const r=Cn(e),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach(((e,a)=>{o.push(r.Qa(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=sa.Ui(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.E_(i),await async function(e,t){const n=Cn(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>tr.forEach(t,(t=>tr.forEach(t.Ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>tr.forEach(t.$i,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!rr(e))throw e;vn("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ss.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ss=n.ss.insert(e,i)}}}(r.localStore,s))}async function Zl(e,t){const n=Cn(e);if(!n.currentUser.isEqual(t)){vn("SyncEngine","User change. New user:",t.toKey());const e=await ca(n.localStore,t);n.currentUser=t,function(e,t){e.Ba.forEach((e=>{e.forEach((e=>{e.reject(new kn(Tn.CANCELLED,t))}))})),e.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Xl(n,e.ls)}}function eu(e,t){const n=Cn(e),r=n.Oa.get(t);if(r&&r.Da)return Xi().add(r.key);{let e=Xi();const r=n.Fa.get(t);if(!r)return e;for(const t of r){const r=n.va.get(t);e=e.unionWith(r.view.Ra)}return e}}function tu(e){const t=Cn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Bl.bind(null,t),t.Ca.E_=El.bind(null,t.eventManager),t.Ca.Ka=Sl.bind(null,t.eventManager),t}function nu(e){const t=Cn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$l.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ql.bind(null,t),t}class ru{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Na(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ua(this.persistence,new aa,e.initialUser,this.serializer)}createPersistence(e){return new na(ia.Yr,this.serializer)}createSharedClientState(e){return new wa}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class iu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>zl(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zl.bind(null,this.syncEngine),await ul(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new vl}createDatastore(e){const t=Na(e.databaseInfo.databaseId),n=function(e){return new xa(e)}(e.databaseInfo);return function(e,t,n,r){return new Da(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new La(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>zl(this.syncEngine,e,0)),_a.D()?new _a:new ba)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Rl(e,t,n,r,i,s);return o&&(a.qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Cn(e);vn("RemoteStore","RemoteStore shutting down."),t.N_.add(5),await Ua(t),t.B_.shutdown(),t.k_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}class su{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):wn("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class ou{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new kn(Tn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Cn(e),r={documents:t.map((e=>go(n.serializer,e)))},i=await n.No("BatchGetDocuments",n.serializer.databaseId,$n.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Sn(!!t.found),t.found.name,t.found.updateTime;const n=yo(e,t.found.name),r=ho(t.found.updateTime),i=t.found.createTime?ho(t.found.createTime):zn.min(),s=new Gr({mapValue:{fields:t.found.fields}});return Yr.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Sn(!!t.missing),Sn(!!t.readTime);const n=yo(e,t.missing),r=ho(t.readTime);return Yr.newNoDocument(n,r)}(e,t):En()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());Sn(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Os(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Wn.fromPath(t);this.mutations.push(new Ps(n,this.precondition(n)))})),await async function(e,t){const n=Cn(e),r={writes:t.map((e=>So(n.serializer,e)))};await n.Fo("Commit",n.serializer.databaseId,$n.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw En();t=zn.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new kn(Tn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(zn.min())?vs.exists(!1):vs.updateTime(t):vs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zn.min()))throw new kn(Tn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vs.updateTime(t)}return vs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class au{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.tu=n.maxAttempts,this.e_=new Aa(this.asyncQueue,"transaction_retry")}nu(){this.tu-=1,this.ru()}ru(){this.e_.Wo((async()=>{const e=new ou(this.datastore),t=this.iu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.su(e)}))))})).catch((e=>{this.su(e)}))}))}iu(e){try{const t=this.updateFunction(e);return!sr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}su(e){this.tu>0&&this.ou(e)?(this.tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ru(),Promise.resolve())))):this.deferred.reject(e)}ou(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Fs(t)}return!1}}class lu{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=pn.UNAUTHENTICATED,this.clientId=Mn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{vn("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(vn("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kn(Tn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=fl(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function uu(e,t){e.asyncQueue.verifyOperationInProgress(),vn("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ca(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function cu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hu(e);vn("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ll(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ll(t.remoteStore,n))),e._onlineComponents=t}function du(e){return"FirebaseError"===e.name?e.code===Tn.FAILED_PRECONDITION||e.code===Tn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function hu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){vn("FirestoreClient","Using user provided OfflineComponentProvider");try{await uu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!du(n))throw n;bn("Error using user provided cache. Falling back to memory cache: "+n),await uu(e,new ru)}}else vn("FirestoreClient","Using default OfflineComponentProvider"),await uu(e,new ru);return e._offlineComponents}async function fu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(vn("FirestoreClient","Using user provided OnlineComponentProvider"),await cu(e,e._uninitializedComponentsProvider._online)):(vn("FirestoreClient","Using default OnlineComponentProvider"),await cu(e,new iu))),e._onlineComponents}function pu(e){return fu(e).then((e=>e.syncEngine))}function mu(e){return fu(e).then((e=>e.datastore))}async function gu(e){const t=await fu(e),n=t.eventManager;return n.onListen=Dl.bind(null,t.syncEngine),n.onUnlisten=Ul.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=jl.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Fl.bind(null,t.syncEngine),n}function yu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xn;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new su({next:s=>{t.enqueueAndForget((()=>_l(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new kn(Tn.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new kn(Tn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new xl(ki(n.path),s,{includeMetadataChanges:!0,oa:!0});return bl(e,o)}(await gu(e),e.asyncQueue,t,n,r))),r.promise}function vu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xn;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new su({next:n=>{t.enqueueAndForget((()=>_l(e,o))),n.fromCache&&"server"===r.source?i.reject(new kn(Tn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new xl(n,s,{includeMetadataChanges:!0,oa:!0});return bl(e,o)}(await gu(e),e.asyncQueue,t,n,r))),r.promise}function wu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const bu=new Map;function _u(e,t,n){if(!n)throw new kn(Tn.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Eu(e){if(!Wn.isDocumentKey(e))throw new kn(Tn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Su(e){if(Wn.isDocumentKey(e))throw new kn(Tn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Cu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":En()}function Tu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kn(Tn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cu(e);throw new kn(Tn.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class ku{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new kn(Tn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kn(Tn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new kn(Tn.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new kn(Tn.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new kn(Tn.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new kn(Tn.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ku({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kn(Tn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kn(Tn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ku(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Nn;switch(e.type){case"firstParty":return new Rn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new kn(Tn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bu.get(e);t&&(vn("ComponentProvider","Removing Datastore"),bu.delete(e),t.terminate())}(this),Promise.resolve()}}class Iu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Iu(this.firestore,e,this._query)}}class Nu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nu(this.firestore,e,this._key)}}class Au extends Iu{constructor(e,t,n){super(e,t,ki(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nu(this.firestore,null,new Wn(e))}withConverter(e){return new Au(this.firestore,e,this._path)}}function Ou(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ve(e),_u("collection","path",t),e instanceof xu){const n=$n.fromString(t,...r);return Su(n),new Au(e,null,n)}{if(!(e instanceof Nu||e instanceof Au))throw new kn(Tn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($n.fromString(t,...r));return Su(n),new Au(e.firestore,null,n)}}function Pu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ve(e),1===arguments.length&&(t=Mn.newId()),_u("doc","path",t),e instanceof xu){const n=$n.fromString(t,...r);return Eu(n),new Nu(e,null,new Wn(n))}{if(!(e instanceof Nu||e instanceof Au))throw new kn(Tn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($n.fromString(t,...r));return Eu(n),new Nu(e.firestore,e instanceof Au?e.converter:null,new Wn(n))}}class Ru{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new Aa(this,"async_queue_retry"),this.Tu=()=>{const e=Ia();e&&vn("AsyncQueue","Visibility state changed to "+e.visibilityState),this.e_.zo()};const e=Ia();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const t=Ia();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise((()=>{}));const t=new xn;return this.du((()=>this.uu&&this.Pu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.au.push(e),this.Au())))}async Au(){if(0!==this.au.length){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!rr(e))throw e;vn("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo((()=>this.Au()))}}du(e){const t=this._u.then((()=>(this.hu=!0,e().catch((e=>{this.lu=e,this.hu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw wn("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.hu=!1,e))))));return this._u=t,t}enqueueAfterDelay(e,t,n){this.Eu(),this.Iu.indexOf(e)>-1&&(t=0);const r=hl.createAndSchedule(this,e,t,n,(e=>this.Ru(e)));return this.cu.push(r),r}Eu(){this.lu&&En()}verifyOperationInProgress(){}async Vu(){let e;do{e=this._u,await e}while(e!==this._u)}mu(e){for(const t of this.cu)if(t.timerId===e)return!0;return!1}fu(e){return this.Vu().then((()=>{this.cu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.cu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Vu()}))}gu(e){this.Iu.push(e)}Ru(e){const t=this.cu.indexOf(e);this.cu.splice(t,1)}}function Du(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class ju extends xu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ru,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Uu(this),this._firestoreClient.terminate()}}function Lu(e,t){const n="string"==typeof e?e:t||"(default)",r=Ot("object"==typeof e?e:Mt(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Z("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Tu(e,xu))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&bn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=pn.MOCK_USER;else{t=re(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new kn(Tn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new pn(s)}e._authCredentials=new An(new In(t,n))}}(r,...e)}return r}function Mu(e){return e._firestoreClient||Uu(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Uu(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Ar(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,wu(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new lu(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fu(Er.fromBase64String(e))}catch(e){throw new kn(Tn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Fu(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new kn(Tn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zu{constructor(e){this._methodName=e}}class Bu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kn(Tn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kn(Tn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Un(this._lat,e._lat)||Un(this._long,e._long)}}const $u=/^__.*__$/;class qu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ks(e,this.data,t,this.fieldTransforms)}}class Hu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw En()}}class Ku{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new Ku(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.wu({path:n,bu:!1});return r.Du(e),r}Cu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.wu({path:n,bu:!1});return r.pu(),r}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return hc(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(0===e.length)throw this.Fu("Document fields must not be empty");if(Wu(this.yu)&&$u.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class Gu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Na(e)}Ou(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ku({yu:e,methodName:t,xu:n,path:Hn.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qu(e){const t=e._freezeSettings(),n=Na(e._databaseId);return new Gu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Yu(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Ou(s.merge||s.mergeFields?2:0,t,n,i);lc("Data must be an object, but it was:",o,r);const a=oc(r,o);let l,u;if(s.merge)l=new br(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=uc(t,r,n);if(!o.contains(i))throw new kn(Tn.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);fc(e,i)||e.push(i)}l=new br(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new qu(new Gr(a),l,u)}class Ju extends zu{_toFieldTransform(e){if(2!==e.yu)throw 1===e.yu?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ju}}function Xu(e,t,n){return new Ku({yu:3,xu:t.settings.xu,methodName:e._methodName,bu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Zu extends zu{constructor(e,t){super(e),this.Nu=t}_toFieldTransform(e){const t=Xu(this,e,!0),n=this.Nu.map((e=>sc(e,t))),r=new us(n);return new gs(e.path,r)}isEqual(e){return e instanceof Zu&&de(this.Nu,e.Nu)}}class ec extends zu{constructor(e,t){super(e),this.Nu=t}_toFieldTransform(e){const t=Xu(this,e,!0),n=this.Nu.map((e=>sc(e,t))),r=new ds(n);return new gs(e.path,r)}isEqual(e){return e instanceof ec&&de(this.Nu,e.Nu)}}class tc extends zu{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new fs(e.serializer,rs(e.serializer,this.Lu));return new gs(e.path,t)}isEqual(e){return e instanceof tc&&this.Lu===e.Lu}}function nc(e,t,n,r){const i=e.Ou(1,t,n);lc("Data must be an object, but it was:",i,r);const s=[],o=Gr.empty();fr(r,((e,r)=>{const a=dc(t,e,n);r=ve(r);const l=i.Cu(a);if(r instanceof Ju)s.push(a);else{const e=sc(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new br(s);return new Hu(o,a,i.fieldTransforms)}function rc(e,t,n,r,i,s){const o=e.Ou(1,t,n),a=[uc(t,r,n)],l=[i];if(s.length%2!=0)throw new kn(Tn.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(uc(t,s[h])),l.push(s[h+1]);const u=[],c=Gr.empty();for(let h=a.length-1;h>=0;--h)if(!fc(u,a[h])){const e=a[h];let t=l[h];t=ve(t);const n=o.Cu(e);if(t instanceof Ju)u.push(e);else{const r=sc(t,n);null!=r&&(u.push(e),c.set(e,r))}}const d=new br(u);return new Hu(c,d,o.fieldTransforms)}function ic(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return sc(n,e.Ou(r?4:3,t))}function sc(e,t){if(ac(e=ve(e)))return lc("Unsupported field value:",t,e),oc(e,t);if(e instanceof zu)return function(e,t){if(!Wu(t.yu))throw t.Fu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.bu&&4!==t.yu)throw t.Fu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=sc(i,t.vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ve(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Vn.fromDate(e);return{timestampValue:lo(t.serializer,n)}}if(e instanceof Vn){const n=new Vn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lo(t.serializer,n)}}if(e instanceof Bu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Fu)return{bytesValue:uo(t.serializer,e._byteString)};if(e instanceof Nu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:fo(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fu(`Unsupported field value: ${Cu(e)}`)}(e,t)}function oc(e,t){const n={};return pr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(e,((e,r)=>{const i=sc(r,t.Su(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ac(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vn||e instanceof Bu||e instanceof Fu||e instanceof Nu||e instanceof zu)}function lc(e,t,n){if(!ac(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Cu(n);throw"an object"===r?t.Fu(e+" a custom object"):t.Fu(e+" "+r)}}function uc(e,t,n){if((t=ve(t))instanceof Vu)return t._internalPath;if("string"==typeof t)return dc(e,t);throw hc("Field path arguments must be of type string or ",e,!1,void 0,n)}const cc=new RegExp("[~\\*/\\[\\]]");function dc(e,t,n){if(t.search(cc)>=0)throw hc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Vu(...t.split("."))._internalPath}catch(r){throw hc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function hc(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new kn(Tn.INVALID_ARGUMENT,a+e+l)}function fc(e,t){return e.some((e=>e.isEqual(t)))}class pc{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mc extends pc{data(){return super.data()}}function gc(e,t){return"string"==typeof t?dc(e,t):t instanceof Vu?t._internalPath:t._delegate._internalPath}function yc(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new kn(Tn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vc{}class wc extends vc{}function bc(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof vc&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Ec)).length,n=e.filter((e=>e instanceof _c)).length;if(t>1||t>0&&n>0)throw new kn(Tn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class _c extends wc{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new _c(e,t,n)}_apply(e){const t=this._parse(e);return xc(e._query,t),new Iu(e.firestore,e.converter,Pi(e._query,t))}_parse(e){const t=Qu(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new kn(Tn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){kc(o,s);const t=[];for(const n of o)t.push(Tc(r,e,n));a={arrayValue:{values:t}}}else a=Tc(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||kc(o,s),a=ic(n,t,o,"in"===s||"not-in"===s);return ri.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ec extends vc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ec(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ii.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)xc(n,i),n=Pi(n,i)}(e._query,t),new Iu(e.firestore,e.converter,Pi(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Sc extends wc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Sc(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new kn(Tn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new kn(Tn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ei(t,n)}(e._query,this._field,this._direction);return new Iu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ci(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Cc(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=gc("orderBy",e);return Sc._create(n,t)}function Tc(e,t,n){if("string"==typeof(n=ve(n))){if(""===n)throw new kn(Tn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ii(t)&&-1!==n.indexOf("/"))throw new kn(Tn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child($n.fromString(n));if(!Wn.isDocumentKey(r))throw new kn(Tn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vr(e,new Wn(r))}if(n instanceof Nu)return Vr(e,n._key);throw new kn(Tn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cu(n)}.`)}function kc(e,t){if(!Array.isArray(e)||0===e.length)throw new kn(Tn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xc(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new kn(Tn.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new kn(Tn.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ic{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw En()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return fr(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Bu(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ir(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Nr(e));default:return null}}convertTimestamp(e){const t=Cr(e);return new Vn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=$n.fromString(e);Sn(jo(n));const r=new Or(n.get(1),n.get(3)),i=new Wn(n.popFirst(5));return r.isEqual(t)||wn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Nc(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ac extends Ic{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nu(this.firestore,null,t)}}class Oc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pc extends pc{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(gc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Rc extends Pc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Dc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Oc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Rc(this._firestore,this._userDataWriter,n.key,n,new Oc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new kn(Tn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Rc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Oc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Rc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Oc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:jc(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function jc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return En()}}function Lc(e){e=Tu(e,Nu);const t=Tu(e.firestore,ju);return yu(Mu(t),e._key).then((n=>Hc(t,e,n)))}class Mc extends Ic{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nu(this.firestore,null,t)}}function Uc(e){e=Tu(e,Iu);const t=Tu(e.firestore,ju),n=Mu(t),r=new Mc(t);return yc(e._query),vu(n,e._query).then((n=>new Dc(t,r,e,n)))}function Fc(e,t,n){e=Tu(e,Nu);const r=Tu(e.firestore,ju),i=Nc(e.converter,t,n);return qc(r,[Yu(Qu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vs.none())])}function Vc(e,t,n){e=Tu(e,Nu);const r=Tu(e.firestore,ju),i=Qu(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=ve(t))||t instanceof Vu?rc(i,"updateDoc",e._key,t,n,a):nc(i,"updateDoc",e._key,t),qc(r,[s.toMutation(e._key,vs.exists(!0))])}function zc(e){return qc(Tu(e.firestore,ju),[new Os(e._key,vs.none())])}function Bc(e,t){const n=Tu(e.firestore,ju),r=Pu(e),i=Nc(e.converter,t);return qc(n,[Yu(Qu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vs.exists(!1))]).then((()=>r))}function $c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=ve(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Du(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Du(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,d,h;if(e instanceof Nu)d=Tu(e.firestore,ju),h=ki(e._key.path),c={next:t=>{n[l]&&n[l](Hc(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Tu(e,Iu);d=Tu(t.firestore,ju),h=t._query;const r=new Mc(d);c={next:e=>{n[l]&&n[l](new Dc(d,r,t,e))},error:n[l+1],complete:n[l+2]},yc(e._query)}return function(e,t,n,r){const i=new su(r),s=new xl(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>bl(await gu(e),s))),()=>{i.Ga(),e.asyncQueue.enqueueAndForget((async()=>_l(await gu(e),s)))}}(Mu(d),h,u,c)}function qc(e,t){return function(e,t){const n=new xn;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=nu(e);try{const e=await function(e,t){const n=Cn(e),r=Vn.now(),i=t.reduce(((e,t)=>e.add(t.key)),Xi());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=$i(),l=Xi();return n.us.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Cs(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new xs(e.key,t,Qr(t.value.mapValue),vs.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Wi(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.La[e.currentUser.toKey()];r||(r=new mr(Un)),r=r.insert(t,n),e.La[e.currentUser.toKey()]=r}(r,e.batchId,n),await Xl(r,e.changes),await Za(r.remoteStore)}catch(e){const t=fl(e,"Failed to persist write");n.reject(t)}}(await pu(e),t,n))),n.promise}(Mu(e),t)}function Hc(e,t,n){const r=n.docs.get(t._key),i=new Mc(e);return new Pc(e,i,t._key,r,new Oc(n.hasPendingWrites,n.fromCache),t.converter)}const Wc={maxAttempts:5};function Kc(e,t){if((e=ve(e)).firestore!==t)throw new kn(Tn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Gc extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Qu(e)}get(e){const t=Kc(e,this._firestore),n=new Ac(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return En();const r=e[0];if(r.isFoundDocument())return new pc(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new pc(this._firestore,n,t._key,null,t.converter);throw En()}))}set(e,t,n){const r=Kc(e,this._firestore),i=Nc(r.converter,t,n),s=Yu(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Kc(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=ve(t))||t instanceof Vu?rc(this._dataReader,"Transaction.update",r._key,t,n,o):nc(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Kc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kc(e,this._firestore),n=new Mc(this._firestore);return super.get(e).then((e=>new Pc(this._firestore,n,t._key,e._document,new Oc(!1,!1),t.converter)))}}function Qc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Zu("arrayUnion",t)}function Yc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ec("arrayRemove",t)}function Jc(e){return new tc("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){mn=e}(jt),At(new we("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new ju(new On(e.getProvider("auth-internal")),new jn(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kn(Tn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Or(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ut(fn,"4.6.5",e),Ut(fn,"4.6.5","esm2017")}();Ut("firebase","10.12.5","app");function Xc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Zc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ed=Zc,td=new ue("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nd=new Ne("@firebase/auth");function rd(e){if(nd.logLevel<=Ce.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nd.error(`Auth (${jt}): ${e}`,...n)}}function id(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ud(e,...n)}function sd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ud(e,...n)}function od(e,t,n){const r=Object.assign(Object.assign({},ed()),{[t]:n});return new ue("auth","Firebase",r).create(t,{appName:e.name})}function ad(e){return od(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ld(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&id(e,"argument-error"),od(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ud(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return td.create(e,...n)}function cd(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ud(t,...r)}}function dd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw rd(t),new Error(t)}function hd(e,t){e||dd(t)}function fd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function pd(){return"http:"===md()||"https:"===md()}function md(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function gd(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(pd()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class yd{constructor(e,t){this.shortDelay=e,this.longDelay=t,hd(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return gd()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vd(e,t){hd(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class wd{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void dd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void dd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void dd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bd={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_d=new yd(3e4,6e4);function Ed(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Sd(e,t,n,r){return Cd(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=fe(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),wd.fetch()(kd(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Cd(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},bd),t);try{const t=new Id(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Nd(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Nd(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Nd(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Nd(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw od(e,a,o);id(e,a)}}catch(i){if(i instanceof le)throw i;id(e,"network-request-failed",{message:String(i)})}}async function Td(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Sd(e,t,n,r,i);return"mfaPendingCredential"in s&&id(e,"multi-factor-auth-required",{_serverResponse:s}),s}function kd(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?vd(e.config,i):`${e.config.apiScheme}://${i}`}function xd(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Id{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(sd(this.auth,"network-request-failed"))),_d.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sd(e,t,r);return i.customData._tokenResponse=n,i}function Ad(e){return void 0!==e&&void 0!==e.enterprise}class Od{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xd(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Pd(e,t){return Sd(e,"GET","/v2/recaptchaConfig",Ed(e,t))}async function Rd(e,t){return Sd(e,"POST","/v1/accounts:lookup",t)}function Dd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function jd(e){return 1e3*Number(e)}function Ld(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return rd("JWT malformed, contained fewer than 3 sections"),null;try{const e=Q(n);return e?JSON.parse(e):(rd("Failed to decode base64 JWT payload"),null)}catch(i){return rd("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Md(e){const t=Ld(e);return cd(t,"internal-error"),cd("undefined"!==typeof t.exp,"internal-error"),cd("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ud(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof le&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Fd{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Vd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dd(this.lastLoginAt),this.creationTime=Dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zd(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ud(e,Rd(n,{idToken:r}));cd(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Bd(s.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),c=!!l&&u,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vd(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}function Bd(e){return e.map((e=>{var{providerId:t}=e,n=Xc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class $d{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){cd(e.idToken,"internal-error"),cd("undefined"!==typeof e.idToken,"internal-error"),cd("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Md(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){cd(0!==e.length,"internal-error");const t=Md(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(cd(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Cd(e,{},(async()=>{const n=fe({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=kd(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",wd.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new $d;return n&&(cd("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(cd("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(cd("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $d,this.toJSON())}_performRefresh(){return dd("not implemented")}}function qd(e,t){cd("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Hd{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Xc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ud(this,this.stsTokenManager.getToken(this.auth,e));return cd(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ve(e),r=await n.getIdToken(t),i=Ld(r);cd(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dd(jd(i.auth_time)),issuedAtTime:Dd(jd(i.iat)),expirationTime:Dd(jd(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ve(e);await zd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(cd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){cd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await zd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pt(this.auth.app))return Promise.reject(ad(this.auth));const e=await this.getIdToken();return await Ud(this,async function(e,t){return Sd(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;cd(v&&E,e,"internal-error");const S=$d.fromJSON(this.name,E);cd("string"===typeof v,e,"internal-error"),qd(c,e.name),qd(d,e.name),cd("boolean"===typeof w,e,"internal-error"),cd("boolean"===typeof b,e,"internal-error"),qd(h,e.name),qd(f,e.name),qd(p,e.name),qd(m,e.name),qd(g,e.name),qd(y,e.name);const C=new Hd({uid:v,auth:e,email:d,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(C.providerData=_.map((e=>Object.assign({},e)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new $d;r.updateFromServerResponse(t);const i=new Hd({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await zd(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];cd(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Bd(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new $d;o.updateFromIdToken(n);const a=new Hd({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Vd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const Wd=new Map;function Kd(e){hd(e instanceof Function,"Expected a class definition");let t=Wd.get(e);return t?(hd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Wd.set(e,t),t)}class Gd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Gd.type="NONE";const Qd=Gd;function Yd(e,t,n){return`firebase:${e}:${t}:${n}`}class Jd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Yd(this.userKey,r.apiKey,i),this.fullPersistenceKey=Yd("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Jd(Kd(Qd),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Kd(Qd);const s=Yd(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=Hd._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Jd(i,e,n)):new Jd(i,e,n)}}function Xd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zd(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ih(t))return"Blackberry";if(sh(t))return"Webos";if(eh(t))return"Safari";if((t.includes("chrome/")||th(t))&&!t.includes("edge/"))return"Chrome";if(rh(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Zd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/firefox\//i.test(e)}function eh(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function th(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/crios\//i.test(e)}function nh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/iemobile/i.test(e)}function rh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/android/i.test(e)}function ih(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/blackberry/i.test(e)}function sh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/webos/i.test(e)}function oh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ah(){return function(){const e=ie();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function lh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie();return oh(e)||rh(e)||sh(e)||ih(e)||/windows phone/i.test(e)||nh(e)}function uh(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Xd(ie());break;case"Worker":t=`${Xd(ie())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${jt}/${r}`}class ch{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class dh{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class hh{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ph(this),this.idTokenSubscription=new ph(this),this.beforeStateQueue=new ch(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=td,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kd(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Jd.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Rd(this,{idToken:e}),n=await Hd._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return cd(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pt(this.app))return Promise.reject(ad(this));const t=e?ve(e):null;return t&&cd(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&cd(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Pt(this.app)?Promise.reject(ad(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pt(this.app)?Promise.reject(ad(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Kd(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Sd(e,"GET","/v2/passwordPolicy",Ed(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new dh(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ue("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Sd(e,"POST","/v2/accounts:revokeToken",Ed(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kd(e)||this._popupRedirectResolver;cd(t,this,"argument-error"),this.redirectPersistenceManager=await Jd.create(this,[Kd(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(cd(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return cd(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(nd.logLevel<=Ce.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nd.warn(`Auth (${jt}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function fh(e){return ve(e)}class ph{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ge(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return cd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gh(e){return mh.loadJS(e)}function yh(e){return`__${e}${Math.floor(1e6*Math.random())}`}class vh{constructor(e){this.type="recaptcha-enterprise",this.auth=fh(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ad(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Pd(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Od(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ad(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=mh.recaptchaEnterpriseScript;0!==t.length&&(t+=i),gh(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function wh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new vh(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function bh(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await wh(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await wh(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function _h(e,t,n){const r=fh(e);cd(r._canInitEmulator,r,"emulator-config-failed"),cd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Eh(t),{host:o,port:a}=function(e){const t=Eh(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Sh(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Sh(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Eh(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sh(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ch{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dd("not implemented")}_getIdTokenResponse(e){return dd("not implemented")}_linkToIdToken(e,t){return dd("not implemented")}_getReauthenticationResolver(e){return dd("not implemented")}}async function Th(e,t){return Sd(e,"POST","/v1/accounts:signUp",t)}async function kh(e,t){return Td(e,"POST","/v1/accounts:signInWithPassword",Ed(e,t))}class xh extends Ch{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new xh(e,t,"password")}static _fromEmailAndCode(e,t){return new xh(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return bh(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",kh);case"emailLink":return async function(e,t){return Td(e,"POST","/v1/accounts:signInWithEmailLink",Ed(e,t))}(e,{email:this._email,oobCode:this._password});default:id(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return bh(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Th);case"emailLink":return async function(e,t){return Td(e,"POST","/v1/accounts:signInWithEmailLink",Ed(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:id(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ih(e,t){return Td(e,"POST","/v1/accounts:signInWithIdp",Ed(e,t))}class Nh extends Ch{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Nh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):id("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Xc(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Nh(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ih(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ih(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ih(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fe(t)}return e}}const Ah={USER_NOT_FOUND:"user-not-found"};class Oh extends Ch{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Oh({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Oh({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Td(e,"POST","/v1/accounts:signInWithPhoneNumber",Ed(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Td(e,"POST","/v1/accounts:signInWithPhoneNumber",Ed(e,t));if(n.temporaryProof)throw Nd(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Td(e,"POST","/v1/accounts:signInWithPhoneNumber",Ed(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ah)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Oh({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ph{constructor(e){var t,n,r,i,s,o;const a=pe(me(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);cd(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=pe(me(e)).link,n=t?pe(me(t)).deep_link_id:null,r=pe(me(e)).deep_link_id;return(r?pe(me(r)).link:null)||r||n||t||e}(e);try{return new Ph(t)}catch(n){return null}}}class Rh{constructor(){this.providerId=Rh.PROVIDER_ID}static credential(e,t){return xh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ph.parseLink(t);return cd(n,"argument-error"),xh._fromEmailAndCode(e,n.code,n.tenantId)}}Rh.PROVIDER_ID="password",Rh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Rh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Dh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jh extends Dh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lh extends jh{constructor(){super("facebook.com")}static credential(e){return Nh._fromParams({providerId:Lh.PROVIDER_ID,signInMethod:Lh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lh.credentialFromTaggedObject(e)}static credentialFromError(e){return Lh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Lh.credential(t.oauthAccessToken)}catch(n){return null}}}Lh.FACEBOOK_SIGN_IN_METHOD="facebook.com",Lh.PROVIDER_ID="facebook.com";class Mh extends jh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Nh._fromParams({providerId:Mh.PROVIDER_ID,signInMethod:Mh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mh.credentialFromTaggedObject(e)}static credentialFromError(e){return Mh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Mh.credential(n,r)}catch(i){return null}}}Mh.GOOGLE_SIGN_IN_METHOD="google.com",Mh.PROVIDER_ID="google.com";class Uh extends jh{constructor(){super("github.com")}static credential(e){return Nh._fromParams({providerId:Uh.PROVIDER_ID,signInMethod:Uh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uh.credentialFromTaggedObject(e)}static credentialFromError(e){return Uh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Uh.credential(t.oauthAccessToken)}catch(n){return null}}}Uh.GITHUB_SIGN_IN_METHOD="github.com",Uh.PROVIDER_ID="github.com";class Fh extends jh{constructor(){super("twitter.com")}static credential(e,t){return Nh._fromParams({providerId:Fh.PROVIDER_ID,signInMethod:Fh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fh.credentialFromTaggedObject(e)}static credentialFromError(e){return Fh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Fh.credential(n,r)}catch(i){return null}}}async function Vh(e,t){return Td(e,"POST","/v1/accounts:signUp",Ed(e,t))}Fh.TWITTER_SIGN_IN_METHOD="twitter.com",Fh.PROVIDER_ID="twitter.com";class zh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Hd._fromIdTokenResponse(e,n,r),s=Bh(n);return new zh({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Bh(n);return new zh({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Bh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class $h extends le{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new $h(e,t,n,r)}}function qh(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw $h._fromErrorAndOperation(e,n,t,r);throw n}))}async function Hh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ud(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zh._forOperation(e,"link",r)}async function Wh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Pt(r.app))return Promise.reject(ad(r));const i="reauthenticate";try{const s=await Ud(e,qh(r,i,t,e),n);cd(s.idToken,r,"internal-error");const o=Ld(s.idToken);cd(o,r,"internal-error");const{sub:a}=o;return cd(e.uid===a,r,"user-mismatch"),zh._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&id(r,"user-mismatch"),s}}async function Kh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Pt(e.app))return Promise.reject(ad(e));const r="signIn",i=await qh(e,r,t),s=await zh._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Gh(e,t){return Kh(fh(e),t)}async function Qh(e){const t=fh(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Yh(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=ve(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Ud(i,async function(e,t){return Sd(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function Jh(e,t,n,r){return ve(e).onAuthStateChanged(t,n,r)}new WeakMap;const Xh="__sak";class Zh{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ef extends Zh{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=ie();return eh(e)||oh(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=lh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ah()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ef.type="LOCAL";const tf=ef;class nf extends Zh{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nf.type="SESSION";const rf=nf;class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new sf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function of(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}sf.receivers=[];class af{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=of("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function lf(){return window}function uf(){return"undefined"!==typeof lf().WorkerGlobalScope&&"function"===typeof lf().importScripts}const cf="firebaseLocalStorageDb",df="firebaseLocalStorage",hf="fbase_key";class ff{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function pf(e,t){return e.transaction([df],t?"readwrite":"readonly").objectStore(df)}function mf(){const e=indexedDB.open(cf,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(df,{keyPath:hf})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(df)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(cf);return new ff(e).toPromise()}(),t(await mf()))}))}))}async function gf(e,t,n){const r=pf(e,!0).put({[hf]:t,value:n});return new ff(r).toPromise()}function yf(e,t){const n=pf(e,!0).delete(t);return new ff(n).toPromise()}class vf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await mf()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uf()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(uf()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new af(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mf();return await gf(e,Xh,"1"),await yf(e,Xh),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>gf(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=pf(e,!1).get(t),r=await new ff(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>yf(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=pf(e,!1).getAll();return new ff(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}vf.type="LOCAL";const wf=vf;yh("rcb"),new yd(3e4,6e4);const bf="recaptcha";async function _f(e,t,n){var r;const i=await n.verify();try{let s;if(cd("string"===typeof i,e,"argument-error"),cd(n.type===bf,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){cd("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Sd(e,"POST","/v2/accounts/mfaEnrollment:start",Ed(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{cd("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;cd(n,e,"missing-multi-factor-info");const o=await function(e,t){return Sd(e,"POST","/v2/accounts/mfaSignIn:start",Ed(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Sd(e,"POST","/v1/accounts:sendVerificationCode",Ed(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ef{constructor(e){this.providerId=Ef.PROVIDER_ID,this.auth=fh(e)}verifyPhoneNumber(e,t){return _f(this.auth,e,ve(t))}static credential(e,t){return Oh._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ef.credentialFromTaggedObject(t)}static credentialFromError(e){return Ef.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Oh._fromTokenResponse(n,r):null}}function Sf(e,t){return t?Kd(t):(cd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ef.PROVIDER_ID="phone",Ef.PHONE_SIGN_IN_METHOD="phone";class Cf extends Ch{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ih(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ih(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ih(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Tf(e){return Kh(e.auth,new Cf(e),e.bypassAuthState)}function kf(e){const{auth:t,user:n}=e;return cd(n,t,"internal-error"),Wh(n,new Cf(e),e.bypassAuthState)}async function xf(e){const{auth:t,user:n}=e;return cd(n,t,"internal-error"),Hh(n,new Cf(e),e.bypassAuthState)}class If{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tf;case"linkViaPopup":case"linkViaRedirect":return xf;case"reauthViaPopup":case"reauthViaRedirect":return kf;default:id(this.auth,"internal-error")}}resolve(e){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nf=new yd(2e3,1e4);async function Af(e,t,n){if(Pt(e.app))return Promise.reject(sd(e,"operation-not-supported-in-this-environment"));const r=fh(e);ld(e,t,Dh);const i=Sf(r,n);return new Of(r,"signInViaPopup",t,i).executeNotNull()}class Of extends If{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Of.currentPopupAction&&Of.currentPopupAction.cancel(),Of.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return cd(e,this.auth,"internal-error"),e}async onExecution(){hd(1===this.filter.length,"Popup operations only handle one event");const e=of();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(sd(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(sd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Of.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(sd(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Nf.get())};e()}}Of.currentPopupAction=null;const Pf="pendingRedirect",Rf=new Map;class Df extends If{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Rf.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Mf(t),r=Lf(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function jf(e,t){Rf.set(e._key(),t)}function Lf(e){return Kd(e._redirectPersistence)}function Mf(e){return Yd(Pf,e.config.apiKey,e.name)}async function Uf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Pt(e.app))return Promise.reject(ad(e));const r=fh(e),i=Sf(r,t),s=new Df(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Ff{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!zf(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sd(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vf(e))}saveEventToCache(e){this.cachedEventUids.add(Vf(e)),this.lastProcessedEventTime=Date.now()}}function Vf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function zf(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Bf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$f=/^https?/;async function qf(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Sd(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Hf(r))return}catch(n){}id(e,"unauthorized-domain")}function Hf(e){const t=fd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!$f.test(n))return!1;if(Bf.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Wf=new yd(3e4,6e4);function Kf(){const e=lf().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Gf(e){return new Promise(((t,n)=>{var r,i,s;function o(){Kf(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kf(),n(sd(e,"network-request-failed"))},timeout:Wf.get()})}if(null===(i=null===(r=lf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=lf().gapi)||void 0===s?void 0:s.load)){const t=yh("iframefcb");return lf()[t]=()=>{gapi.load?o():n(sd(e,"network-request-failed"))},gh(`${mh.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Qf=null,e}))}let Qf=null;const Yf=new yd(5e3,15e3),Jf="__/auth/iframe",Xf="emulator/auth/iframe",Zf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ep=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tp(e){const t=e.config;cd(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vd(t,Xf):`https://${e.config.authDomain}/${Jf}`,r={apiKey:t.apiKey,appName:e.name,v:jt},i=ep.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fe(r).slice(1)}`}async function np(e){const t=await function(e){return Qf=Qf||Gf(e),Qf}(e),n=lf().gapi;return cd(n,e,"internal-error"),t.open({where:document.body,url:tp(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zf,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=sd(e,"network-request-failed"),s=lf().setTimeout((()=>{r(i)}),Yf.get());function o(){lf().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const rp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ip{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function sp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rp),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ie().toLowerCase();n&&(a=th(u)?"_blank":n),Zd(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return oh(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ip(null);const d=window.open(t||"",a,c);cd(d,e,"popup-blocked");try{d.focus()}catch(h){}return new ip(d)}const op="__/auth/handler",ap="emulator/auth/handler",lp=encodeURIComponent("fac");async function up(e,t,n,r,i,s){cd(e.config.authDomain,e,"auth-domain-config-required"),cd(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:jt,eventId:i};if(t instanceof Dh){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof jh){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${lp}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${op}`;return vd(t,ap)}(e)}?${fe(a).slice(1)}${u}`}const cp="webStorageSupport";const dp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rf,this._completeRedirectFn=Uf,this._overrideRedirectResult=jf}async _openPopup(e,t,n,r){var i;hd(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return sp(e,await up(e,t,n,fd(),r),of())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){lf().location.href=e}(await up(e,t,n,fd(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(hd(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await np(e),n=new Ff(e);return t.register("authEvent",(t=>{cd(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cp,{type:cp},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[cp];void 0!==i&&t(!!i),id(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qf(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lh()||eh()||oh()}};var hp="@firebase/auth",fp="1.7.6";class pp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){cd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const mp=te("authIdTokenMaxAge")||300;let gp=null;function yp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();const t=Ot(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ot(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(de(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;id(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:dp,persistence:[wf,tf,rf]}),r=te("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>mp)return;const r=null===t||void 0===t?void 0:t.token;gp!==r&&(gp=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ve(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){ve(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=X("auth");return s&&_h(n,`http://${s}`),n}var vp;mh={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=sd("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},vp="Browser",At(new we("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;cd(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:vp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uh(vp)},u=new hh(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kd);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),At(new we("auth-internal",(e=>(e=>new pp(e))(fh(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ut(hp,fp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(vp)),Ut(hp,fp,"esm2017");const wp="firebasestorage.googleapis.com",bp="storageBucket";class _p extends le{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Cp(e),`Firebase Storage: ${t} (${Cp(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_p.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ep,Sp;function Cp(e){return"storage/"+e}function Tp(){return new _p(Ep.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function kp(){return new _p(Ep.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xp(){return new _p(Ep.CANCELED,"User canceled the upload/download.")}function Ip(){return new _p(Ep.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Np(e){return new _p(Ep.INVALID_ARGUMENT,e)}function Ap(){return new _p(Ep.APP_DELETED,"The Firebase app was deleted.")}function Op(e,t){return new _p(Ep.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Pp(e){throw new _p(Ep.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ep||(Ep={}));class Rp{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Rp.makeFromUrl(e,t)}catch(i){return new Rp(e,"")}if(""===n.path)return n;throw r=e,new _p(Ep.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===wp?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Rp(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new _p(Ep.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Dp{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function jp(e){return"string"===typeof e||e instanceof String}function Lp(e){return Mp()&&e instanceof Blob}function Mp(){return"undefined"!==typeof Blob}function Up(e,t,n,r){if(r<t)throw Np(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Np(`Invalid value for '${e}'. Expected ${n} or less.`)}function Fp(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Vp(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function zp(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Sp||(Sp={}));class Bp{constructor(e,t,n,r,i,s,o,a,l,u,c){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new $p(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Sp.NO_ERROR,i=n.getStatus();if(!t||zp(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Sp.ABORT;return void e(!1,new $p(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new $p(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=Tp();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ap():xp())}else{r(kp())}};this.canceled_?t(0,new $p(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(u)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call(null,e,...n);if(l()||o)return h(),void c.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),u||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class $p{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function qp(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Hp(){const e=qp();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Mp())return new Blob(n);throw new _p(Ep.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Wp(e){if("undefined"===typeof atob)throw t="base-64",new _p(Ep.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Kp={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gp{constructor(e,t){this.data=e,this.contentType=t||null}}function Qp(e,t){switch(e){case Kp.RAW:return new Gp(Yp(t));case Kp.BASE64:case Kp.BASE64URL:return new Gp(Jp(e,t));case Kp.DATA_URL:return new Gp(function(e){const t=new Xp(e);return t.base64?Jp(Kp.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Op(Kp.DATA_URL,"Malformed data URL.")}return Yp(t)}(t.rest)}(t),new Xp(t).contentType)}throw Tp()}function Yp(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Jp(e,t){switch(e){case Kp.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Op(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Kp.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Op(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Wp(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw Op(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Xp{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Op(Kp.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Zp{constructor(e,t){let n=0,r="";Lp(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Lp(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Zp(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Zp(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Mp()){const e=t.map((e=>e instanceof Zp?e.data_:e));return new Zp(Hp.apply(null,e))}{const e=t.map((e=>jp(e)?Qp(Kp.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Zp(r,!0)}}uploadData(){return this.data_}}function em(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function tm(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function nm(e,t){return t}class rm{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||nm}}let im=null;function sm(){if(im)return im;const e=[];e.push(new rm("bucket")),e.push(new rm("generation")),e.push(new rm("metageneration")),e.push(new rm("name","fullPath",!0));const t=new rm("name");t.xform=function(e,t){return function(e){return!jp(e)||e.length<2?e:tm(e)}(t)},e.push(t);const n=new rm("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new rm("timeCreated")),e.push(new rm("updated")),e.push(new rm("md5Hash",null,!0)),e.push(new rm("cacheControl",null,!0)),e.push(new rm("contentDisposition",null,!0)),e.push(new rm("contentEncoding",null,!0)),e.push(new rm("contentLanguage",null,!0)),e.push(new rm("contentType",null,!0)),e.push(new rm("metadata","customMetadata",!0)),im=e,im}function om(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Rp(n,r);return t._makeStorageReference(i)}})}(r,e),r}function am(e,t,n){const r=em(t);if(null===r)return null;return om(e,r,n)}function lm(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class um{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cm(e){if(!e)throw Tp()}function dm(e,t){return function(n,r){const i=am(e,r,t);return cm(null!==i),i}}function hm(e,t){return function(n,r){const i=am(e,r,t);return cm(null!==i),function(e,t,n,r){const i=em(t);if(null===i)return null;if(!jp(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return Fp("/b/"+o(i)+"/o/"+o(s),n,r)+Vp({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function fm(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new _p(Ep.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new _p(Ep.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new _p(Ep.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new _p(Ep.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function pm(e){const t=fm(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new _p(Ep.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function mm(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function gm(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=mm(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+lm(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",d=Zp.getBlob(u,r,c);if(null===d)throw Ip();const h={name:l.fullPath},f=Fp(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new um(f,"POST",dm(e,n),p);return m.urlParams=h,m.headers=o,m.body=d.uploadData(),m.errorHandler=fm(t),m}let ym=null;class vm{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sp.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Sp.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Sp.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Pp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Pp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class wm extends vm{initXhr(){this.xhr_.responseType="text"}}function bm(){return ym?ym():new wm}class _m{constructor(e,t){this._service=e,this._location=t instanceof Rp?t:Rp.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _m(e,t)}get root(){const e=new Rp(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tm(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Rp(this._location.bucket,e);return new _m(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new _p(Ep.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Em(e,t,n){e._throwIfRoot("uploadBytes");const r=gm(e.storage,e._location,sm(),new Zp(t,!0),n);return e.storage.makeRequestWithTokens(r,bm).then((t=>({metadata:t,ref:e})))}function Sm(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Fp(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new um(r,"GET",hm(e,n),i);return s.errorHandler=pm(t),s}(e.storage,e._location,sm());return e.storage.makeRequestWithTokens(t,bm).then((e=>{if(null===e)throw new _p(Ep.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Cm(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Fp(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new um(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=pm(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,bm)}function Tm(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Rp(e._location.bucket,n);return new _m(e.storage,r)}function km(e,t){if(e instanceof Nm){const n=e;if(null==n._bucket)throw new _p(Ep.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bp+"' property when initializing the app?");const r=new _m(n,n._bucket);return null!=t?km(r,t):r}return void 0!==t?Tm(e,t):e}function xm(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Nm)return new _m(e,t);throw Np("To use ref(service, url), the first argument must be a Storage instance.")}return km(e,t)}function Im(e,t){const n=null===t||void 0===t?void 0:t[bp];return null==n?null:Rp.makeFromBucketSpec(n,e)}class Nm{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=wp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Rp.makeFromBucketSpec(r,this._host):Im(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Rp.makeFromBucketSpec(this._url,e):this._bucket=Im(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Up("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Up("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _m(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Dp(Ap());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Vp(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Bp(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Am="@firebase/storage",Om="0.12.6",Pm="storage";function Rm(e,t,n){return Em(e=ve(e),t,n)}function Dm(e){return Sm(e=ve(e))}function jm(e,t){return xm(e=ve(e),t)}function Lm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt(),t=arguments.length>1?arguments[1]:void 0;e=ve(e);const n=Ot(e,Pm).getImmediate({identifier:t}),r=Z("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:re(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Mm(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Nm(r,i,s,n,jt)}At(new we(Pm,Mm,"PUBLIC").setMultipleInstances(!0)),Ut(Am,Om,""),Ut(Am,Om,"esm2017");const Um="@firebase/installations",Fm="0.6.8",Vm=1e4,zm=`w:${Fm}`,Bm="FIS_v2",$m="https://firebaseinstallations.googleapis.com/v1",qm=36e5,Hm=new ue("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Wm(e){return e instanceof le&&e.code.includes("request-failed")}function Km(e){let{projectId:t}=e;return`${$m}/projects/${t}/installations`}function Gm(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Qm(e,t){const n=(await t.json()).error;return Hm.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ym(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Jm(e,t){let{refreshToken:n}=t;const r=Ym(e);return r.append("Authorization",function(e){return`${Bm} ${e}`}(n)),r}async function Xm(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Zm(e){return new Promise((t=>{setTimeout(t,e)}))}const eg=/^[cdef][\w-]{21}$/,tg="";function ng(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return eg.test(t)?t:tg}catch(e){return tg}}function rg(e){return`${e.appName}!${e.appId}`}const ig=new Map;function sg(e,t){const n=rg(e);og(n,t),function(e,t){const n=lg();n&&n.postMessage({key:e,fid:t});ug()}(n,t)}function og(e,t){const n=ig.get(e);if(n)for(const r of n)r(t)}let ag=null;function lg(){return!ag&&"BroadcastChannel"in self&&(ag=new BroadcastChannel("[Firebase] FID Change"),ag.onmessage=e=>{og(e.data.key,e.data.fid)}),ag}function ug(){0===ig.size&&ag&&(ag.close(),ag=null)}const cg="firebase-installations-database",dg=1,hg="firebase-installations-store";let fg=null;function pg(){return fg||(fg=$e(cg,dg,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(hg)}})),fg}async function mg(e,t){const n=rg(e),r=(await pg()).transaction(hg,"readwrite"),i=r.objectStore(hg),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||sg(e,t.fid),t}async function gg(e){const t=rg(e),n=(await pg()).transaction(hg,"readwrite");await n.objectStore(hg).delete(t),await n.done}async function yg(e,t){const n=rg(e),r=(await pg()).transaction(hg,"readwrite"),i=r.objectStore(hg),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||sg(e,o.fid),o}async function vg(e){let t;const n=await yg(e.appConfig,(n=>{const r=function(e){const t=e||{fid:ng(),registrationStatus:0};return _g(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Hm.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Km(n),o=Ym(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:Bm,appId:n.appId,sdkVersion:zm},u={method:"POST",headers:o,body:JSON.stringify(l)},c=await Xm((()=>fetch(s,u)));if(c.ok){const e=await c.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Gm(e.authToken)}}throw await Qm("Create Installation",c)}(e,t);return mg(e.appConfig,n)}catch(n){throw Wm(n)&&409===n.customData.serverCode?await gg(e.appConfig):await mg(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:wg(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===tg?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function wg(e){let t=await bg(e.appConfig);for(;1===t.registrationStatus;)await Zm(100),t=await bg(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await vg(e);return n||t}return t}function bg(e){return yg(e,(e=>{if(!e)throw Hm.create("installation-not-found");return _g(e)}))}function _g(e){return 1===(t=e).registrationStatus&&t.registrationTime+Vm<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Eg(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Km(e)}/${n}/authTokens:generate`}(n,t),s=Jm(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:zm,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},u=await Xm((()=>fetch(i,l)));if(u.ok){return Gm(await u.json())}throw await Qm("Generate Auth Token",u)}async function Sg(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await yg(e.appConfig,(r=>{if(!Tg(r))throw Hm.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+qm}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Cg(e.appConfig);for(;1===n.authToken.requestStatus;)await Zm(100),n=await Cg(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Sg(e,t):r}(e,n),r;{if(!navigator.onLine)throw Hm.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Eg(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await mg(e.appConfig,r),n}catch(n){if(!Wm(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await mg(e.appConfig,n)}else await gg(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function Cg(e){return yg(e,(e=>{if(!Tg(e))throw Hm.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Vm<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Tg(e){return void 0!==e&&2===e.registrationStatus}async function kg(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await vg(e);t&&await t}(n);return(await Sg(n,t)).token}function xg(e){return Hm.create("missing-app-config-values",{valueName:e})}const Ig="installations",Ng=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw xg("App Configuration");if(!e.name)throw xg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw xg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Ot(t,"heartbeat"),_delete:()=>Promise.resolve()}},Ag=e=>{const t=Ot(e.getProvider("app").getImmediate(),Ig).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await vg(t);return r?r.catch(console.error):Sg(t).catch(console.error),n.fid}(t),getToken:e=>kg(t,e)}};At(new we(Ig,Ng,"PUBLIC")),At(new we("installations-internal",Ag,"PRIVATE")),Ut(Um,Fm),Ut(Um,Fm,"esm2017");const Og="/firebase-messaging-sw.js",Pg="/firebase-cloud-messaging-push-scope",Rg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dg="https://fcmregistrations.googleapis.com/v1",jg="google.c.a.c_id",Lg="google.c.a.c_l",Mg="google.c.a.ts";var Ug,Fg;function Vg(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zg(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Ug||(Ug={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Fg||(Fg={}));const Bg="fcm_token_details_db",$g=5,qg="fcm_token_object_Store";const Hg="firebase-messaging-database",Wg=1,Kg="firebase-messaging-store";let Gg=null;function Qg(){return Gg||(Gg=$e(Hg,Wg,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Kg)}})),Gg}async function Yg(e){const t=Xg(e),n=await Qg(),r=await n.transaction(Kg).objectStore(Kg).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(Bg))return null}let t=null;return(await $e(Bg,$g,{upgrade:async(n,r,i,s)=>{var o;if(r<2)return;if(!n.objectStoreNames.contains(qg))return;const a=s.objectStore(qg),l=await a.index("fcmSenderId").get(e);if(await a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(o=e.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:Vg(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Vg(e.auth),p256dh:Vg(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Vg(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Vg(e.auth),p256dh:Vg(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Vg(e.vapidKey)}}}}})).close(),await qe(Bg),await qe("fcm_vapid_details_db"),await qe("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Jg(e,t),t}}async function Jg(e,t){const n=Xg(e),r=(await Qg()).transaction(Kg,"readwrite");return await r.objectStore(Kg).put(t,n),await r.done,t}function Xg(e){let{appConfig:t}=e;return t.appId}const Zg=new ue("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function ey(e,t){const n={method:"DELETE",headers:await ny(e)};try{const r=await fetch(`${ty(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw Zg.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw Zg.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function ty(e){let{projectId:t}=e;return`${Dg}/projects/${t}/registrations`}async function ny(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function ry(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Rg&&(s.web.applicationPubKey=i),s}const iy=6048e5;async function sy(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zg(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Vg(t.getKey("auth")),p256dh:Vg(t.getKey("p256dh"))},r=await Yg(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}(r.subscriptionOptions,n))return Date.now()>=r.createTime+iy?async function(e,t){try{const n=await async function(e,t){const n=await ny(e),r=ry(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch(`${ty(e.appConfig)}/${t.token}`,i);s=await n.json()}catch(o){throw Zg.create("token-update-failed",{errorInfo:null===o||void 0===o?void 0:o.toString()})}if(s.error){const e=s.error.message;throw Zg.create("token-update-failed",{errorInfo:e})}if(!s.token)throw Zg.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Jg(e.firebaseDependencies,r),n}catch(n){throw n}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await ey(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return oy(e.firebaseDependencies,n)}return oy(e.firebaseDependencies,n)}async function oy(e,t){const n=await async function(e,t){const n=await ny(e),r=ry(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=await fetch(ty(e.appConfig),i);s=await t.json()}catch(o){throw Zg.create("token-subscribe-failed",{errorInfo:null===o||void 0===o?void 0:o.toString()})}if(s.error){const e=s.error.message;throw Zg.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw Zg.create("token-subscribe-no-token");return s.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await Jg(e,r),r.token}function ay(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=t.notification)||void 0===s?void 0:s.click_action;a&&(e.fcmOptions.link=a);const l=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function ly(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function uy(e){return Zg.create("missing-app-config-values",{valueName:e})}ly("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ly("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cy{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw uy("App Configuration Object");if(!e.name)throw uy("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw uy(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function dy(e){try{e.swRegistration=await navigator.serviceWorker.register(Og,{scope:Pg}),e.swRegistration.update().catch((()=>{}))}catch(t){throw Zg.create("failed-service-worker-registration",{browserErrorMessage:null===t||void 0===t?void 0:t.message})}}async function hy(e,t){if(!navigator)throw Zg.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw Zg.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Rg)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await dy(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Zg.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),sy(e)}async function fy(e,t,n){const r=function(e){switch(e){case Fg.NOTIFICATION_CLICKED:return"notification_open";case Fg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[jg],message_name:n[Lg],message_time:n[Mg],message_device_time:Math.floor(Date.now()/1e3)})}async function py(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Fg.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(ay(n)):e.onMessageHandler.next(ay(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&jg in e})(r)&&"1"===r["google.c.a.e"]&&await fy(e,n.messageType,r)}const my="@firebase/messaging",gy="0.12.10",yy=e=>{const t=new cy(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>py(t,e))),t},vy=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>hy(t,e)}};async function wy(){try{await ae()}catch(e){return!1}return"undefined"!==typeof window&&oe()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}At(new we("messaging",yy,"PUBLIC")),At(new we("messaging-internal",vy,"PRIVATE")),Ut(my,gy),Ut(my,gy,"esm2017");const by=Lt({apiKey:"AIzaSyCxdoKab4agDCag2syrjpeF2vYfNTIbYEE",authDomain:"esports-d882d.firebaseapp.com",projectId:"esports-d882d",storageBucket:"esports-d882d.appspot.com",messagingSenderId:"314534424935",appId:"1:314534424935:web:4f92b102bb5e61c65f7fc2",measurementId:"G-ENZV6LRGB6"}),_y=yp(by),Ey=Lu(by),Sy=Lm(by),Cy=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();wy().then((e=>{if(!e)throw Zg.create("unsupported-browser")}),(e=>{throw Zg.create("indexed-db-unsupported")})),Ot(ve(e),"messaging").getImmediate()}(by),"FETCH_WALLET_REQUEST"),Ty="FETCH_WALLET_SUCCESS",ky="FETCH_WALLET_FAILURE",xy="UPDATE_WALLET_REQUEST",Iy="UPDATE_WALLET_SUCCESS",Ny="UPDATE_WALLET_FAILURE",Ay=()=>async(e,t)=>{e({type:Cy});try{const n=t().auth.user;if(!n)throw new Error("User not logged in");const r=Pu(Ey,"wallets",n.uid),i=await Lc(r);if(!i.exists())throw new Error("Wallet not found");{const t=i.data(),n=parseFloat(t.balance)||0;e({type:Ty,payload:{balance:n}})}}catch(n){e({type:ky,payload:n.message})}},Oy=e=>async(t,n)=>{t({type:xy});try{const r=n().auth.user;if(!r)throw new Error("User not logged in");const i=Pu(Ey,"wallets",r.uid);await Vc(i,{balance:e}),t({type:Iy,payload:{balance:e}})}catch(r){t({type:Ny,payload:r.message})}},Py={balance:0,loading:!1,error:null},Ry=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Py,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cy:return{...e,loading:!0,error:null};case Ty:return{...e,loading:!1,balance:t.payload.balance};case ky:return{...e,loading:!1,error:t.payload};case xy:return{...e,loading:!0,error:null};case Iy:return{...e,loading:!1,balance:t.payload.balance};case Ny:return{...e,loading:!1,error:t.payload};default:return e}};var Dy=Symbol.for("immer-nothing"),jy=Symbol.for("immer-draftable"),Ly=Symbol.for("immer-state");function My(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Uy=Object.getPrototypeOf;function Fy(e){return!!e&&!!e[Ly]}function Vy(e){return!!e&&(By(e)||Array.isArray(e)||!!e[jy]||!!e.constructor?.[jy]||Ky(e)||Gy(e))}var zy=Object.prototype.constructor.toString();function By(e){if(!e||"object"!==typeof e)return!1;const t=Uy(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===zy}function $y(e,t){0===qy(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function qy(e){const t=e[Ly];return t?t.type_:Array.isArray(e)?1:Ky(e)?2:Gy(e)?3:0}function Hy(e,t){return 2===qy(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Wy(e,t,n){const r=qy(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Ky(e){return e instanceof Map}function Gy(e){return e instanceof Set}function Qy(e){return e.copy_||e.base_}function Yy(e,t){if(Ky(e))return new Map(e);if(Gy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=By(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Ly];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Uy(e),t)}{const t=Uy(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Jy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Zy(e)||Fy(e)||!Vy(e)||(qy(e)>1&&(e.set=e.add=e.clear=e.delete=Xy),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return Jy(n,!0)}))),e}function Xy(){My(2)}function Zy(e){return Object.isFrozen(e)}var ev,tv={};function nv(e){const t=tv[e];return t||My(0),t}function rv(){return ev}function iv(e,t){t&&(nv("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sv(e){ov(e),e.drafts_.forEach(lv),e.drafts_=null}function ov(e){e===ev&&(ev=e.parent_)}function av(e){return ev={drafts_:[],parent_:ev,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lv(e){const t=e[Ly];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function uv(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Ly].modified_&&(sv(t),My(4)),Vy(e)&&(e=cv(t,e),t.parent_||hv(t,e)),t.patches_&&nv("Patches").generateReplacementPatches_(n[Ly].base_,e,t.patches_,t.inversePatches_)):e=cv(t,n,[]),sv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Dy?e:void 0}function cv(e,t,n){if(Zy(t))return t;const r=t[Ly];if(!r)return $y(t,((i,s)=>dv(e,r,t,i,s,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return hv(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,s=!1;3===r.type_&&(i=new Set(t),t.clear(),s=!0),$y(i,((i,o)=>dv(e,r,t,i,o,n,s))),hv(e,t,!1),n&&e.patches_&&nv("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function dv(e,t,n,r,i,s,o){if(Fy(i)){const o=cv(e,i,s&&t&&3!==t.type_&&!Hy(t.assigned_,r)?s.concat(r):void 0);if(Wy(n,r,o),!Fy(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(Vy(i)&&!Zy(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;cv(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||hv(e,i)}}function hv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jy(t,n)}var fv={get(e,t){if(t===Ly)return e;const n=Qy(e);if(!Hy(n,t))return function(e,t,n){const r=gv(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Vy(r)?r:r===mv(e.base_,t)?(vv(e),e.copy_[t]=wv(r,e)):r},has:(e,t)=>t in Qy(e),ownKeys:e=>Reflect.ownKeys(Qy(e)),set(e,t,n){const r=gv(Qy(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=mv(Qy(e),t),i=r?.[Ly];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Hy(e.base_,t)))return!0;vv(e),yv(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==mv(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,vv(e),yv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Qy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){My(11)},getPrototypeOf:e=>Uy(e.base_),setPrototypeOf(){My(12)}},pv={};function mv(e,t){const n=e[Ly];return(n?Qy(n):e)[t]}function gv(e,t){if(!(t in e))return;let n=Uy(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Uy(n)}}function yv(e){e.modified_||(e.modified_=!0,e.parent_&&yv(e.parent_))}function vv(e){e.copy_||(e.copy_=Yy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}$y(fv,((e,t)=>{pv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),pv.deleteProperty=function(e,t){return pv.set.call(this,e,t,void 0)},pv.set=function(e,t,n){return fv.set.call(this,e[0],t,n,e[0])};function wv(e,t){const n=Ky(e)?nv("MapSet").proxyMap_(e,t):Gy(e)?nv("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:rv(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=fv;n&&(i=[r],s=pv);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}(e,t);return(t?t.scope_:rv()).drafts_.push(n),n}function bv(e){if(!Vy(e)||Zy(e))return e;const t=e[Ly];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Yy(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Yy(e,!0);return $y(n,((e,t)=>{Wy(n,e,bv(t))})),t&&(t.finalized_=!1),n}var _v=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return r.produce(e,(e=>t.call(this,e,...s)))}}let r;if("function"!==typeof t&&My(6),void 0!==n&&"function"!==typeof n&&My(7),Vy(e)){const i=av(this),s=wv(e,void 0);let o=!0;try{r=t(s),o=!1}finally{o?sv(i):ov(i)}return iv(i,n),uv(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Dy&&(r=void 0),this.autoFreeze_&&Jy(r,!0),n){const t=[],i=[];nv("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}My(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;const s=this.produce(e,n,((e,t)=>{r=e,i=t}));return[s,r,i]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Vy(e)||My(8),Fy(e)&&(e=function(e){Fy(e)||My(10);return bv(e)}(e));const t=av(this),n=wv(e,void 0);return n[Ly].isManual_=!0,ov(t),n}finishDraft(e,t){const n=e&&e[Ly];n&&n.isManual_||My(9);const{scope_:r}=n;return iv(r,t),uv(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=nv("Patches").applyPatches_;return Fy(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},Ev=_v.produce;_v.produceWithPatches.bind(_v),_v.setAutoFreeze.bind(_v),_v.setUseStrictShallowCopy.bind(_v),_v.applyPatches.bind(_v),_v.createDraft.bind(_v),_v.finishDraft.bind(_v);"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Sv=e=>e&&"function"===typeof e.match;function Cv(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Hv(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return R(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}Symbol.species;function Tv(e){return Vy(e)?Ev(e,(()=>{})):e}function kv(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(Hv(10));const r=n.insert(t,e);return e.set(t,r),r}var xv=e=>t=>{setTimeout(t,e)};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:xv(10);function Iv(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Hv(28));if(r in t)throw new Error(Hv(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Nv=(e,t)=>Sv(e)?e.match(t):e(t);function Av(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some((t=>Nv(t,e)))}var Ov=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},Pv=["name","message","stack","code"],Rv=class{constructor(e,t){this.payload=e,this.meta=t}_type},Dv=class{constructor(e,t){this.payload=e,this.meta=t}_type},jv=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of Pv)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},Lv=(()=>{function e(e,t,n){const r=Cv(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),i=Cv(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),s=Cv(e+"/rejected",((e,t,r,i,s)=>({payload:i,error:(n&&n.serializeError||jv)(e||"Rejected"),meta:{...s||{},arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}})));return Object.assign((function(e){return(o,a,l)=>{const u=n?.idGenerator?n.idGenerator(e):Ov(),c=new AbortController;let d,h;function f(e){h=e,c.abort()}const p=async function(){let p;try{let s=n?.condition?.(e,{getState:a,extra:l});if(null!==(m=s)&&"object"===typeof m&&"function"===typeof m.then&&(s=await s),!1===s||c.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const g=new Promise(((e,t)=>{d=()=>{t({name:"AbortError",message:h||"Aborted"})},c.signal.addEventListener("abort",d)}));o(i(u,e,n?.getPendingMeta?.({requestId:u,arg:e},{getState:a,extra:l}))),p=await Promise.race([g,Promise.resolve(t(e,{dispatch:o,getState:a,extra:l,requestId:u,signal:c.signal,abort:f,rejectWithValue:(e,t)=>new Rv(e,t),fulfillWithValue:(e,t)=>new Dv(e,t)})).then((t=>{if(t instanceof Rv)throw t;return t instanceof Dv?r(t.payload,u,e,t.meta):r(t,u,e)}))])}catch(g){p=g instanceof Rv?s(null,u,e,g.payload,g.meta):s(g,u,e)}finally{d&&c.signal.removeEventListener("abort",d)}var m;return n&&!n.dispatchConditionRejection&&s.match(p)&&p.meta.condition||o(p),p}();return Object.assign(p,{abort:f,requestId:u,arg:e,unwrap:()=>p.then(Mv)})}}),{pending:i,rejected:s,fulfilled:r,settled:Av(s,r),typePrefix:e})}return e.withTypes=()=>e,e})();function Mv(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Uv=Symbol.for("rtk-slice-createasyncthunk");function Fv(e,t){return`${e}/${t}`}function Vv(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[Uv];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Hv(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Hv(12));if(n in o.sliceCaseReducersByType)throw new Error(Hv(13));return o.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(o.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?Iv(e.extraReducers):[e.extraReducers],i={...t,...o.sliceCaseReducersByType};return function(e,t){let n,[r,i,s]=Iv(t);if(function(e){return"function"===typeof e}(e))n=()=>Tv(e());else{const t=Tv(e);n=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===o.filter((e=>!!e)).length&&(o=[s]),o.reduce(((e,n)=>{if(n){if(Fy(e)){const r=n(e,t);return void 0===r?e:r}if(Vy(e))return Ev(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(Hv(9))}return r}}return e}),e)}return o.getInitialState=n,o}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}s.forEach((r=>{const s=i[r],o={reducerName:r,type:Fv(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function(e,t,n){let r,i,{type:s,reducerName:o,createNotation:a}=e;if("reducer"in t){if(a&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Hv(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(s,r).exposeCaseReducer(o,r).exposeAction(o,i?Cv(s,i):Cv(s))}(o,s,a):function(e,t,n,r){let{type:i,reducerName:s}=e;if(!r)throw new Error(Hv(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:u,settled:c,options:d}=t,h=r(i,o,d);n.exposeAction(s,h),a&&n.addCase(h.fulfilled,a);l&&n.addCase(h.pending,l);u&&n.addCase(h.rejected,u);c&&n.addMatcher(h.settled,c);n.exposeCaseReducer(s,{fulfilled:a||$v,pending:l||$v,rejected:u||$v,settled:c||$v})}(o,s,a,t)}));const u=e=>e,c=new Map;let d;function h(e,t){return d||(d=l()),d(e,t)}function f(){return d||(d=l()),d.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=f()),r}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const r=kv(c,n,{insert:()=>new WeakMap});return kv(r,t,{insert:()=>{const r={};for(const[i,s]of Object.entries(e.selectors??{}))r[i]=zv(s,t,f,n);return r}})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const m={name:n,reducer:h,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:f,...p(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t??r;return e.inject({reducerPath:i,reducer:h},n),{...m,...p(i,!0)}}};return m}}function zv(e,t,n,r){function i(i){let s=t(i);"undefined"===typeof s&&r&&(s=n());for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return e(s,...a)}return i.unwrapped=e,i}var Bv=Vv();function $v(){}var{assign:qv}=Object;Symbol.for("rtk-state-proxy-original");function Hv(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Wv=Lv("transactions/fetchWallets",(async()=>{const e=Ou(Ey,"wallets");return(await Uc(e)).docs.map((e=>({id:e.id,...e.data()})))})),Kv=Lv("transactions/addMoney",(async e=>{let{userId:t,amount:n}=e;const r=Pu(Ey,"wallets",t),i=await Lc(r);if(!i.exists())throw new Error("Wallet not found");const s=(parseFloat(i.data().balance)||0)+n;return await Vc(r,{balance:s}),{userId:t,newBalance:s}})),Gv=function(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:P.INIT}))throw new Error(N(12));if("undefined"===typeof n(void 0,{type:P.PROBE_UNKNOWN_ACTION()}))throw new Error(N(13))}))}(n)}catch(s){i=s}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let s=!1;const o={};for(let i=0;i<r.length;i++){const a=r[i],l=n[a],u=e[a],c=l(u,t);if("undefined"===typeof c){t&&t.type;throw new Error(N(14))}o[a]=c,s=s||c!==u}return s=s||r.length!==Object.keys(e).length,s?o:e}}({auth:F,tournament:q,wallet:Ry,transactions:Bv({name:"transactions",initialState:{wallets:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(Wv.pending,(e=>{e.status="loading"})).addCase(Wv.fulfilled,((e,t)=>{e.status="succeeded",e.wallets=t.payload})).addCase(Wv.rejected,((e,t)=>{e.status="failed",e.error=t.error.message})).addCase(Kv.fulfilled,((e,t)=>{const n=e.wallets.findIndex((e=>e.id===t.payload.userId));-1!==n&&(e.wallets[n].balance=t.payload.newBalance)})).addCase(Kv.rejected,((e,t)=>{e.error=t.error.message}))}}).reducer});var Qv,Yv=n(950),Jv=n.t(Yv,2);function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Qv||(Qv={}));const Zv="popstate";function ew(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function tw(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function nw(e,t){return{usr:e.state,key:e.key,idx:t}}function rw(e,t,n,r){return void 0===n&&(n=null),Xv({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?sw(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function iw(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function sw(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ow(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qv.Pop,l=null,u=c();function c(){return(o.state||{idx:null}).idx}function d(){a=Qv.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:iw(e);return n=n.replace(/ $/,"%20"),ew(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,o.replaceState(Xv({},o.state,{idx:u}),""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Zv,d),l=e,()=>{i.removeEventListener(Zv,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=Qv.Push;let r=rw(f.location,e,t);n&&n(r,e),u=c()+1;let d=nw(r,u),h=f.createHref(r);try{o.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}s&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=Qv.Replace;let r=rw(f.location,e,t);n&&n(r,e),u=c();let i=nw(r,u),d=f.createHref(r);o.replaceState(i,"",d),s&&l&&l({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var aw;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(aw||(aw={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function lw(e,t,n){return void 0===n&&(n="/"),uw(e,t,n,!1)}function uw(e,t,n,r){let i=Sw(("string"===typeof t?sw(t):t).pathname||"/",n);if(null==i)return null;let s=cw(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=Ew(i);o=bw(s[a],e,r)}return o}function cw(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(ew(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=Iw([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(ew(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),cw(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:ww(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of dw(e.path))i(e,t,r);else i(e,t)})),t}function dw(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=dw(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const hw=/^:[\w-]+$/,fw=3,pw=2,mw=1,gw=10,yw=-2,vw=e=>"*"===e;function ww(e,t){let n=e.split("/"),r=n.length;return n.some(vw)&&(r+=yw),t&&(r+=pw),n.filter((e=>!vw(e))).reduce(((e,t)=>e+(hw.test(t)?fw:""===t?mw:gw)),r)}function bw(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=_w({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=_w({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:Iw([s,c.pathname]),pathnameBase:Nw(Iw([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=Iw([s,c.pathnameBase]))}return o}function _w(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);tw("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function Ew(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return tw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Sw(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Cw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Tw(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function kw(e,t){let n=Tw(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function xw(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=sw(e):(i=Xv({},e),ew(!i.pathname||!i.pathname.includes("?"),Cw("?","pathname","search",i)),ew(!i.pathname||!i.pathname.includes("#"),Cw("#","pathname","hash",i)),ew(!i.search||!i.search.includes("#"),Cw("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?sw(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Aw(r),hash:Ow(i)}}(i,s),u=a&&"/"!==a&&a.endsWith("/"),c=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const Iw=e=>e.join("/").replace(/\/\/+/g,"/"),Nw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Aw=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ow=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Pw(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Rw=["post","put","patch","delete"],Dw=(new Set(Rw),["get",...Rw]);new Set(Dw),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(this,arguments)}const Lw=e.createContext(null);const Mw=e.createContext(null);const Uw=e.createContext(null);const Fw=e.createContext(null);const Vw=e.createContext({outlet:null,matches:[],isDataRoute:!1});const zw=e.createContext(null);function Bw(){return null!=e.useContext(Fw)}function $w(){return Bw()||ew(!1),e.useContext(Fw).location}function qw(t){e.useContext(Uw).static||e.useLayoutEffect(t)}function Hw(){let{isDataRoute:t}=e.useContext(Vw);return t?function(){let{router:t}=nb(eb.UseNavigateStable),n=ib(tb.UseNavigateStable),r=e.useRef(!1);return qw((()=>{r.current=!0})),e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,jw({fromRouteId:n},i)))}),[t,n])}():function(){Bw()||ew(!1);let t=e.useContext(Lw),{basename:n,future:r,navigator:i}=e.useContext(Uw),{matches:s}=e.useContext(Vw),{pathname:o}=$w(),a=JSON.stringify(kw(s,r.v7_relativeSplatPath)),l=e.useRef(!1);return qw((()=>{l.current=!0})),e.useCallback((function(e,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof e)return void i.go(e);let s=xw(e,JSON.parse(a),o,"path"===r.relative);null==t&&"/"!==n&&(s.pathname="/"===s.pathname?n:Iw([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,a,o,t])}()}function Ww(){let{matches:t}=e.useContext(Vw),n=t[t.length-1];return n?n.params:{}}function Kw(t,n){let{relative:r}=void 0===n?{}:n,{future:i}=e.useContext(Uw),{matches:s}=e.useContext(Vw),{pathname:o}=$w(),a=JSON.stringify(kw(s,i.v7_relativeSplatPath));return e.useMemo((()=>xw(t,JSON.parse(a),o,"path"===r)),[t,a,o,r])}function Gw(t,n,r,i){Bw()||ew(!1);let{navigator:s}=e.useContext(Uw),{matches:o}=e.useContext(Vw),a=o[o.length-1],l=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let c,d=$w();if(n){var h;let e="string"===typeof n?sw(n):n;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||ew(!1),c=e}else c=d;let f=c.pathname||"/",p=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=lw(t,{pathname:p});let g=Zw(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Iw([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Iw([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,i);return n&&g?e.createElement(Fw.Provider,{value:{location:jw({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Qv.Pop}},g):g}function Qw(){let t=function(){var t;let n=e.useContext(zw),r=rb(tb.UseRouteError),i=ib(tb.UseRouteError);if(void 0!==n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=Pw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,null)}const Yw=e.createElement(Qw,null);class Jw extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(Vw.Provider,{value:this.props.routeContext},e.createElement(zw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xw(t){let{routeContext:n,match:r,children:i}=t,s=e.useContext(Lw);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Vw.Provider,{value:n},i)}function Zw(t,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==t){var o;if(!r)return null;if(r.errors)t=r.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;t=r.matches}}let a=t,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||ew(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(r&&i&&i.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((t,i,s)=>{let o,d=!1,h=null,f=null;var p;r&&(o=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||Yw,u&&(c<0&&0===s?(p="route-fallback",!1||sb[p]||(sb[p]=!0),d=!0,f=null):c===s&&(d=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,s+1)),g=()=>{let n;return n=o?h:d?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(Xw,{match:i,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?e.createElement(Jw,{location:r.location,revalidation:r.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var eb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eb||{}),tb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tb||{});function nb(t){let n=e.useContext(Lw);return n||ew(!1),n}function rb(t){let n=e.useContext(Mw);return n||ew(!1),n}function ib(t){let n=function(){let t=e.useContext(Vw);return t||ew(!1),t}(),r=n.matches[n.matches.length-1];return r.route.id||ew(!1),r.route.id}const sb={};t.startTransition;function ob(t){let{to:n,replace:r,state:i,relative:s}=t;Bw()||ew(!1);let{future:o,static:a}=e.useContext(Uw),{matches:l}=e.useContext(Vw),{pathname:u}=$w(),c=Hw(),d=xw(n,kw(l,o.v7_relativeSplatPath),u,"path"===s),h=JSON.stringify(d);return e.useEffect((()=>c(JSON.parse(h),{replace:r,state:i,relative:s})),[c,h,s,r,i]),null}function ab(e){ew(!1)}function lb(t){let{basename:n="/",children:r=null,location:i,navigationType:s=Qv.Pop,navigator:o,static:a=!1,future:l}=t;Bw()&&ew(!1);let u=n.replace(/^\/*/,"/"),c=e.useMemo((()=>({basename:u,navigator:o,static:a,future:jw({v7_relativeSplatPath:!1},l)})),[u,l,o,a]);"string"===typeof i&&(i=sw(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=e.useMemo((()=>{let e=Sw(d,u);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:s}}),[u,d,h,f,p,m,s]);return null==g?null:e.createElement(Uw.Provider,{value:c},e.createElement(Fw.Provider,{children:r,value:g}))}function ub(e){let{children:t,location:n}=e;return Gw(cb(t),n)}new Promise((()=>{}));e.Component;function cb(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let s=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,cb(t.props.children,s));t.type!==ab&&ew(!1),t.props.index&&t.props.children&&ew(!1);let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=cb(t.props.children,s)),r.push(o)})),r}function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(this,arguments)}function hb(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const fb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(W_){}new Map;const pb=t.startTransition;Jv.flushSync,t.useId;function mb(t){let{basename:n,children:r,future:i,window:s}=t,o=e.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),ow((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return rw("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:iw(t)}),null,a)));let l=o.current,[u,c]=e.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=e.useCallback((e=>{d&&pb?pb((()=>c(e))):c(e)}),[c,d]);return e.useLayoutEffect((()=>l.listen(h)),[l,h]),e.createElement(lb,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:l,future:i})}const gb="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vb=e.forwardRef((function(t,n){let r,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:u,to:c,preventScrollReset:d,unstable_viewTransition:h}=t,f=hb(t,fb),{basename:p}=e.useContext(Uw),m=!1;if("string"===typeof c&&yb.test(c)&&(r=c,gb))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=Sw(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:m=!0}catch(W_){}let g=function(t,n){let{relative:r}=void 0===n?{}:n;Bw()||ew(!1);let{basename:i,navigator:s}=e.useContext(Uw),{hash:o,pathname:a,search:l}=Kw(t,{relative:r}),u=a;return"/"!==i&&(u="/"===a?i:Iw([i,a])),s.createHref({pathname:u,search:l,hash:o})}(c,{relative:s}),y=function(t,n){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,u=Hw(),c=$w(),d=Kw(t,{relative:a});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,r)){e.preventDefault();let n=void 0!==i?i:iw(c)===iw(d);u(t,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[c,u,d,i,s,r,t,o,a,l])}(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,unstable_viewTransition:h});return e.createElement("a",db({},f,{href:r||g,onClick:m||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:n,target:u}))}));var wb,bb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wb||(wb={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(bb||(bb={}));const _b="r7yLC41g4tMQqUCd5y4Rjls6Pch2",Eb=(e,t)=>async n=>{n({type:"LOGIN_REQUEST"});try{const r=await function(e,t,n){return Pt(e.app)?Promise.reject(ad(e)):Gh(ve(e),Rh.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Qh(e),t}))}(_y,e,t),i=r.user,s=i.uid===_b,o=Pu(Ey,"userPurchases",i.uid),a=await Lc(o);let l=[];a.exists()?l=a.data().purchases||[]:await Fc(o,{purchases:[]});const u={...i,isAdmin:s};n({type:"LOGIN_SUCCESS",payload:{user:u,purchasedGames:l}}),localStorage.setItem("user",JSON.stringify(u)),localStorage.setItem("lastActivity",(new Date).toString())}catch(r){n({type:"LOGIN_FAILURE",payload:r.message}),console.error("Login failed:",r.message)}},Sb=e=>async t=>{t({type:"SIGNUP_REQUEST"});try{const{email:n,password:r,name:i,age:s,bio:o="",username:a=""}=e,l=await async function(e,t,n){if(Pt(e.app))return Promise.reject(ad(e));const r=fh(e),i=bh(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vh),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Qh(e),t})),o=await zh._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(_y,n,r),u=l.user,c=u.uid===_b;await Fc(Pu(Ey,"users",u.uid),{uid:u.uid,email:u.email,name:i,age:s,bio:o,username:a,isAdmin:c}),await Fc(Pu(Ey,"userPurchases",u.uid),{purchases:[]});const d={...u,name:i,age:s,bio:o,username:a,isAdmin:c};t({type:"SIGNUP_SUCCESS",payload:d}),localStorage.setItem("user",JSON.stringify(d)),localStorage.setItem("lastActivity",(new Date).toString())}catch(n){t({type:"SIGNUP_FAILURE",payload:n.message}),console.error("Signup failed:",n.message)}},Cb=()=>async e=>{e({type:"LOGOUT_REQUEST"});try{await function(e){return ve(e).signOut()}(_y),e({type:"LOGOUT_SUCCESS"}),localStorage.removeItem("user"),localStorage.removeItem("lastActivity")}catch(t){e({type:"LOGOUT_FAILURE",payload:t.message}),console.error("Logout failed:",t.message)}},Tb=e=>async()=>{try{const t=bc(Ou(Ey,"users"),function(e,t,n){const r=t,i=gc("where",e);return _c._create(i,r,n)}("username","==",e));return!!(await Uc(t)).empty}catch(t){return console.error("Error checking username availability:",t.message),!1}};var kb=n(579);const xb=()=>{const t=I(),{user:n}=g((e=>e.auth)),r=(0,e.useRef)(null),[i,s]=(0,e.useState)(!1),[o,a]=(0,e.useState)(!1),[l,u]=(0,e.useState)(!1),c=()=>{a((e=>!e)),u(!1)},d=()=>{u((e=>!e)),a(!1)},h=e=>{r.current&&!r.current.contains(e.target)&&(s(!1),a(!1),u(!1))},f=()=>{s(!1),a(!1),u(!1)};(0,e.useEffect)((()=>(document.addEventListener("mousedown",h),document.addEventListener("scroll",f),()=>{document.removeEventListener("mousedown",h),document.removeEventListener("scroll",f)})),[]);const p=[{to:"/home",icon:"home",label:"Home"},{to:"/aboutus",icon:"info-circle",label:"About"},{to:"/contactus",icon:"envelope",label:"Contact"},{to:"/events",icon:"calendar",label:"Events"}],m=[...p,{to:"/profile",icon:"user",label:"Profile"},{to:"/wallet",icon:"wallet",label:"Wallet"},{to:"/tournaments",icon:"gamepad",label:"Tournaments"},{to:"/leaderboard",icon:"trophy",label:"Leaderboard"},{to:"#",icon:"userpostss",label:"Community",dropdown:!0,dropdownItems:[{to:"/community",label:"View Posts"},{to:"/events",label:"Upcoming Events"},{to:"/chat",label:"Chat"},{to:"/groupmanagement",label:"Groups"}]},{to:"/settings",icon:"cog",label:"Settings"}],y=[...m,{to:"/admin/transactions",icon:"list",label:"Transaction Requests"},{to:"/approve-reject-transaction",icon:"check-circle",label:"Approve/Reject Transactions"},{to:"/admin-dashboard",icon:"tachometer-alt",label:"Admin Dashboard"},{to:"/create-event",icon:"plus",label:"Create Event"},{to:"/edit-event/:id",icon:"edit",label:"Edit Event"},{to:"/events/:id",icon:"info",label:"Event Detail"}];return(0,kb.jsxs)("nav",{className:"navbar",ref:r,children:[(0,kb.jsx)("button",{className:"navbar-toggle",onClick:()=>{s((e=>!e))},children:(0,kb.jsxs)("div",{className:"hamburger "+(i?"open":""),children:[(0,kb.jsx)("span",{className:"line"}),(0,kb.jsx)("span",{className:"line"}),(0,kb.jsx)("span",{className:"line"})]})}),(0,kb.jsxs)("div",{className:"sidebar "+(i?"active":""),children:[(0,kb.jsx)("button",{className:"sidebar-close",onClick:()=>s(!1),children:(0,kb.jsx)("span",{className:"sr-only"})}),(0,kb.jsx)("div",{className:"sidebar-menu",children:(0,kb.jsxs)("ul",{className:"sidebar-links",children:[(n?n.isAdmin?y:m:p).map(((e,t)=>(0,kb.jsx)("li",{className:"sidebar-item",children:e.dropdown?(0,kb.jsxs)("div",{className:"dropdown",children:[(0,kb.jsxs)("button",{className:"dropdown-toggle",onClick:"Community"===e.label?c:d,children:[(0,kb.jsx)("i",{className:`fa fa-${e.icon}`}),(0,kb.jsx)("span",{className:"sidebar-label",children:e.label}),(0,kb.jsx)("i",{className:"fa fa-caret-down "+("Community"===e.label?o?"open":"":l?"open":"")})]}),(0,kb.jsx)("ul",{className:"dropdown-menu "+("Community"===e.label?o?"show":"":l?"show":""),children:e.dropdownItems.map(((e,t)=>(0,kb.jsx)("li",{className:"dropdown-item",children:(0,kb.jsx)(vb,{to:e.to,onClick:()=>s(!1),children:e.label})},`${e.to}-${t}`)))})]}):(0,kb.jsxs)(vb,{to:e.to,className:"sidebar-link",onClick:()=>s(!1),children:[(0,kb.jsx)("i",{className:`fa fa-${e.icon}`}),(0,kb.jsx)("span",{className:"sidebar-label",children:e.label})]})},`${e.to}-${t}`))),n?(0,kb.jsx)("li",{children:(0,kb.jsxs)("button",{className:"logout-btn",onClick:()=>{t(Cb())},children:[(0,kb.jsx)("i",{className:"fa fa-sign-out-alt"}),(0,kb.jsx)("span",{className:"sidebar-label",children:"Logout"})]})},"logout"):(0,kb.jsxs)(kb.Fragment,{children:[(0,kb.jsx)("li",{children:(0,kb.jsxs)(vb,{to:"/signup",className:"sidebar-link",onClick:()=>s(!1),children:[(0,kb.jsx)("i",{className:"fa fa-user-plus"}),(0,kb.jsx)("span",{className:"sidebar-label",children:"Sign Up"})]})},"signup"),(0,kb.jsx)("li",{children:(0,kb.jsxs)(vb,{to:"/login",className:"sidebar-link",onClick:()=>s(!1),children:[(0,kb.jsx)("i",{className:"fa fa-sign-in-alt"}),(0,kb.jsx)("span",{className:"sidebar-label",children:"Login"})]})},"login")]})]})})]})]})},Ib=()=>(0,kb.jsxs)("div",{className:"landing-page",children:[(0,kb.jsxs)("section",{className:"hero-section",children:[(0,kb.jsx)("h1",{children:"Welcome to the Esports Platform"}),(0,kb.jsx)("p",{children:"Your gateway to exciting esports tournaments and gaming experiences."}),(0,kb.jsx)("div",{className:"cta-buttons"})]}),(0,kb.jsxs)("section",{className:"info-section",children:[(0,kb.jsxs)("div",{className:"info-card",children:[(0,kb.jsx)("h2",{children:"Compete and Win"}),(0,kb.jsx)("p",{children:"Join our tournaments and test your skills against players from around the world. Exciting prizes await!"})]}),(0,kb.jsxs)("div",{className:"info-card",children:[(0,kb.jsx)("h2",{children:"Game Categories"}),(0,kb.jsx)("p",{children:"Explore a wide range of game categories including FPS, MOBA, and more. Find your favorite game and start competing!"})]}),(0,kb.jsxs)("div",{className:"info-card",children:[(0,kb.jsx)("h2",{children:"Community"}),(0,kb.jsx)("p",{children:"Connect with fellow gamers, form teams, and share your gaming experiences. Join our vibrant community today!"})]})]}),(0,kb.jsxs)("footer",{className:"footer",children:[(0,kb.jsx)("p",{children:"\xa9 2024 Esports Platform. All rights reserved."}),(0,kb.jsxs)("div",{className:"footer-links",children:[(0,kb.jsx)("a",{href:"/about",className:"footer-link",children:"About Us"}),(0,kb.jsx)("a",{href:"/contact",className:"footer-link",children:"Contact"}),(0,kb.jsx)("a",{href:"/privacy",className:"footer-link",children:"Privacy Policy"})]})]})]}),Nb=yp(),Ab=()=>async e=>{e({type:V});try{const t=Ou(Ey,"tournaments"),n=(await Uc(t)).docs.map((e=>({id:e.id,...e.data()})));e({type:z,payload:n})}catch(t){e({type:B,payload:t.message})}},Ob=(e,t,n)=>async r=>{const i=Nb.currentUser;try{await function(e,t,n){e=Tu(e,ju);const r=Object.assign(Object.assign({},Wc),n);return function(e){if(e.maxAttempts<1)throw new kn(Tn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new xn;return e.asyncQueue.enqueueAndForget((async()=>{const i=await mu(e);new au(e.asyncQueue,i,n,t,r).nu()})),r.promise}(Mu(e),(n=>t(new Gc(e,n))),r)}(Ey,(async s=>{const o=Pu(Ey,"tournaments",e),a=Pu(Ey,"users",i.uid),l=await s.get(o),u=await s.get(a);if(!l.exists()||!u.exists())throw new Error("Document does not exist!");const c=l.data(),d=u.data();if(d.joinedTournaments&&d.joinedTournaments.includes(e))throw new Error("User has already joined this tournament");if(c.participants<=0)throw new Error("Tournament is full");if(t>0){if(d.balance<t)throw new Error("Insufficient balance");s.update(a,{balance:Jc(-t),joinedTournaments:Qc(e),joinHistory:Qc({tournamentId:e,tournamentName:n,entryFee:t,joinDate:new Date})})}else s.update(a,{joinedTournaments:Qc(e),joinHistory:Qc({tournamentId:e,tournamentName:n,entryFee:t,joinDate:new Date})});s.update(o,{participants:Jc(-1)}),r({type:"JOIN_TOURNAMENT_SUCCESS",payload:e})}))}catch(s){r({type:"JOIN_TOURNAMENT_FAILURE",payload:s.message})}},Pb=t=>{let{id:n,title:r,description:i,entryFee:s,prizePool:o,mapName:a,participants:l,imageUrl:u,roomId:c,roomPassword:d,tournamentType:h,isJoined:f=!1,username:p,userId:m}=t;const[y,v]=(0,e.useState)({showDetails:!1,showCredentials:!1,full:0===l,showPaymentPrompt:!1,showJoinForm:!1,gameUid:"",gameUsername:"",mapDownloaded:!1,confirmationMessage:""}),w=I(),{user:b}=g((e=>e.auth)),{balance:_}=g((e=>e.wallet)),E=(0,e.useCallback)((()=>$c(Pu(Ey,"tournaments",n),(e=>{const t=e.data();t?v((e=>({...e,participants:t.participants,full:0===t.participants||-1!==t.participants&&t.participants<=0,showCredentials:f&&t.roomId&&t.roomPassword}))):console.error("No such tournament!")}))),[n,f]);(0,e.useEffect)((()=>{const e=E();return()=>e()}),[E]),(0,e.useEffect)((()=>{b&&w(Ay())}),[w,b]);const S=(0,e.useCallback)((async()=>b&&void 0!==_?!(_<s)||(console.warn("Insufficient funds. Please add funds to your wallet."),v((e=>({...e,showPaymentPrompt:!0}))),!1):(console.error("Error fetching wallet or user data."),v((e=>({...e,showPaymentPrompt:!0}))),!1)),[b,_,s]),C=(0,e.useCallback)((async e=>{if(b){const t=Pu(Ey,"users",b.uid);await Vc(t,{balance:Jc(-e)}),w(Oy(_-e))}}),[b,_,w]),T=(0,e.useCallback)((async()=>{if(!b)return void console.error("User is not logged in");if(y.full)return void console.warn("Tournament is full");await S()&&v((e=>({...e,showJoinForm:!0})))}),[b,y.full,S]),k=(0,e.useMemo)((()=>y.full?"Full":f?y.showCredentials?"Hide Credentials":"Show Credentials":`Join \u20b9${s}`),[y.full,f,y.showCredentials,s]),x=(0,e.useMemo)((()=>y.full?"join-button full":f?"join-button joined":"join-button"),[y.full,f]);return(0,kb.jsxs)("div",{className:"tournament-card",children:[(0,kb.jsxs)("div",{className:"tournament-card-header",children:[(0,kb.jsx)("img",{src:u||"default-image-url.png",alt:r,className:"tournament-card-image"}),(0,kb.jsx)("h3",{className:"tournament-card-title",children:r})]}),(0,kb.jsxs)("div",{className:"tournament-card-content",children:[(0,kb.jsx)("p",{className:"tournament-card-description",children:i}),(0,kb.jsxs)("div",{className:"tournament-info",children:[(0,kb.jsxs)("p",{children:["Prize Pool: \u20b9",o]}),(0,kb.jsxs)("p",{children:["Entry Fee: \u20b9",s]}),(0,kb.jsxs)("p",{children:["Map Name: ",a]}),(0,kb.jsxs)("p",{children:["Tournament Type: ",h]}),(0,kb.jsxs)("p",{children:["Participants: ",-1===l?"Unlimited":l]})]}),(0,kb.jsx)("div",{className:"tournament-actions",children:(0,kb.jsx)("button",{className:x,onClick:()=>{f?v((e=>({...e,showCredentials:!e.showCredentials}))):T()},disabled:y.full||f&&y.showCredentials,children:k})}),y.showJoinForm&&(0,kb.jsxs)("form",{className:"join-form",onSubmit:async e=>{e.preventDefault();try{await C(s);const e=Pu(Ey,"tournaments",n),t={participantsData:Qc({userId:b.uid,username:y.gameUsername,tournamentUid:y.gameUid,mapDownloaded:y.mapDownloaded})};"unlimited"!==h&&(t.participants=Jc(-1)),await Vc(e,t);const i=Pu(Ey,"users",b.uid);await Vc(i,{joinedTournaments:Qc(n),joinHistory:Qc({tournamentId:n,tournamentName:r,entryFee:s,joinDate:new Date})}),w(Ob(r)),v((e=>({...e,showDetails:!0,showCredentials:!0,confirmationMessage:`Successfully joined the tournament. \u20b9${s} has been deducted from your wallet.`,showJoinForm:!1}))),E()}catch(t){console.error("Error joining tournament: ",t)}},children:[(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"gameUid",children:"Game UID:"}),(0,kb.jsx)("input",{type:"text",id:"gameUid",value:y.gameUid,onChange:e=>v((t=>({...t,gameUid:e.target.value}))),required:!0})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"gameUsername",children:"Game Username:"}),(0,kb.jsx)("input",{type:"text",id:"gameUsername",value:y.gameUsername,onChange:e=>v((t=>({...t,gameUsername:e.target.value}))),required:!0})]}),(0,kb.jsx)("div",{className:"form-group",children:(0,kb.jsxs)("label",{children:[(0,kb.jsx)("input",{type:"checkbox",checked:y.mapDownloaded,onChange:e=>v((t=>({...t,mapDownloaded:e.target.checked})))}),"I have downloaded the map."]})}),!y.mapDownloaded&&(0,kb.jsx)("p",{children:"Please download the map to participate in the tournament."}),(0,kb.jsx)("button",{type:"submit",className:"submit-button",children:"Submit"})]}),y.showDetails&&(0,kb.jsxs)("div",{className:"tournament-details",children:[(0,kb.jsx)("h4",{children:"Details:"}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Room ID:"})," ",c]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Room Password:"})," ",d]})]}),y.showPaymentPrompt&&(0,kb.jsx)("div",{className:"payment-prompt",children:(0,kb.jsx)("p",{children:"Your balance is insufficient to join this tournament. Please add funds to your wallet."})}),y.confirmationMessage&&(0,kb.jsx)("div",{className:"confirmation-message",children:(0,kb.jsx)("p",{children:y.confirmationMessage})})]})]})},Rb=()=>(0,kb.jsxs)("div",{className:"loader-container",children:[(0,kb.jsx)("div",{className:"loader",children:(0,kb.jsx)("div",{className:"spinner"})}),(0,kb.jsx)("p",{className:"loading-text",children:"Loading..."})]});var Db={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jb=e.createContext&&e.createContext(Db),Lb=["attr","size","title"];function Mb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ub.apply(this,arguments)}function Fb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fb(Object(n),!0).forEach((function(t){zb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bb(t){return t&&t.map(((t,n)=>e.createElement(t.tag,Vb({key:n},t.attr),Bb(t.child))))}function $b(t){return n=>e.createElement(qb,Ub({attr:Vb({},t.attr)},n),Bb(t.child))}function qb(t){var n=n=>{var r,{attr:i,size:s,title:o}=t,a=Mb(t,Lb),l=s||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Ub({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:r,style:Vb(Vb({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==jb?e.createElement(jb.Consumer,null,(e=>n(e))):n(Db)}function Hb(e){return $b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(e)}function Wb(e){return $b({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Kb(e){return $b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function Gb(e){return $b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function Qb(e){return $b({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Yb(e){return $b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Jb(e){return $b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(e)}function Xb(e){return $b({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(e)}function Zb(e){return $b({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function e_(e){return $b({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function t_(e){return $b({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}const n_=()=>{const t=I(),{isLoading:n}=g((e=>e.tournament)),{purchasedTournaments:r=[]}=g((e=>e.auth))||{},[i,s]=(0,e.useState)("title"),[o,a]=(0,e.useState)(""),[l,u]=(0,e.useState)(1),[c,d]=(0,e.useState)([]),[h,f]=(0,e.useState)([]);(0,e.useEffect)((()=>{const e=$c(Ou(Ey,"tournaments"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));f(t)}));return()=>e()}),[]),(0,e.useEffect)((()=>{t(Ab())}),[t]);const p=e=>{var n;t((n=e,async(e,t)=>{e({type:"PURCHASE_TOURNAMENT_REQUEST"});try{if(!t().auth.user)throw new Error("User not logged in");e({type:"PURCHASE_TOURNAMENT_SUCCESS",payload:n})}catch(r){e({type:"PURCHASE_TOURNAMENT_FAILURE",payload:r.message}),console.error("Tournament purchase failed:",r.message)}}))},m=e=>{d((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},y=(v=i,(h||[]).slice().sort(((e,t)=>{switch(v){case"title":return(e.title||"").localeCompare(t.title||"");case"participants":return(t.participants||0)-(e.participants||0);case"entryFee":return(e.entryFee||0)-(t.entryFee||0);case"prizeMoney":return(t.prizeMoney||0)-(e.prizeMoney||0);default:return 0}})));var v;const w=((e,t)=>{const n=t.toLowerCase();return e.filter((e=>e.title&&e.title.toLowerCase().includes(n)||e.description&&e.description.toLowerCase().includes(n)))})(y||[],o),b=10*l,_=b-10,E=w.slice(_,b),S=Math.ceil(w.length/10);return(0,kb.jsx)("div",{className:"home-container",children:n?(0,kb.jsx)(Rb,{}):(0,kb.jsxs)(kb.Fragment,{children:[(0,kb.jsxs)("header",{className:"home-header",children:[(0,kb.jsx)("h1",{children:"Welcome to the Esports Platform"}),(0,kb.jsx)("p",{children:"Compete with other gamers and win money!"})]}),(0,kb.jsxs)("section",{className:"filters-section",children:[(0,kb.jsxs)("div",{className:"filter-group",children:[(0,kb.jsx)(Yb,{className:"icon"}),(0,kb.jsx)("input",{type:"text",placeholder:"Search tournaments...",value:o,onChange:e=>a(e.target.value),className:"filter-input"})]}),(0,kb.jsxs)("div",{className:"filter-group",children:[(0,kb.jsx)(Xb,{className:"icon"}),(0,kb.jsxs)("select",{value:i,onChange:e=>s(e.target.value),className:"sort-select",children:[(0,kb.jsx)("option",{value:"title",children:"Title"}),(0,kb.jsx)("option",{value:"participants",children:"Participants"}),(0,kb.jsx)("option",{value:"entryFee",children:"Entry Fee"}),(0,kb.jsx)("option",{value:"prizeMoney",children:"Prize Money"})]})]}),(0,kb.jsxs)("button",{onClick:()=>{a(""),s("title")},className:"clear-filters-btn",children:[(0,kb.jsx)(e_,{className:"icon"}),"Clear Filters"]})]}),(0,kb.jsxs)("section",{className:"featured-tournaments",children:[(0,kb.jsx)("h2",{children:"Featured Tournaments:"}),(0,kb.jsx)("div",{className:"tournament-list",children:y.slice(0,3).map((e=>(0,kb.jsx)(Pb,{...e,onPurchase:p,onFavorite:m,isFavorite:c.includes(e.tournamentName),isPurchased:r.includes(e.tournamentName)},e.id)))})]}),(0,kb.jsx)("section",{className:"tournament-list",children:E.map((e=>(0,kb.jsx)(Pb,{...e,onPurchase:p,onFavorite:m,isFavorite:c.includes(e.tournamentName),isPurchased:r.includes(e.tournamentName)},e.id)))}),(0,kb.jsx)("div",{className:"pagination",children:[...Array(S).keys()].map((e=>(0,kb.jsx)("button",{onClick:()=>{u(e+1)},className:"page-btn "+(l===e+1?"active":""),children:e+1},e)))})]})})};function r_(e){return $b({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"},child:[]},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"},child:[]}]})(e)}const i_=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[u,c]=(0,e.useState)(!1),[d,h]=(0,e.useState)(""),f=I(),{user:p,error:m}=g((e=>e.auth));return(0,e.useEffect)((()=>{p?h("Signup successful!"):m&&h(m),c(!1)}),[p,m]),p?(0,kb.jsx)(ob,{to:"/"}):(0,kb.jsxs)("div",{className:"auth-container",children:[(0,kb.jsx)("h2",{children:"Sign Up"}),(0,kb.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c(!0),f(Sb({email:t,password:r,name:s,age:a}))},children:[(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,kb.jsx)("input",{id:"name",type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"Enter your name",required:!0,disabled:u})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"age",children:"Age:"}),(0,kb.jsx)("input",{id:"age",type:"number",value:a,onChange:e=>l(e.target.value),placeholder:"Enter your age",required:!0,disabled:u})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,kb.jsx)("input",{id:"email",type:"email",value:t,onChange:e=>n(e.target.value),placeholder:"Enter your email",required:!0,disabled:u})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,kb.jsx)("input",{id:"password",type:"password",value:r,onChange:e=>i(e.target.value),placeholder:"Enter your password",required:!0,disabled:u})]}),d&&(0,kb.jsx)("p",{className:"message",children:d}),(0,kb.jsx)("button",{type:"submit",disabled:u,children:u?"Signing up...":"Sign Up"})]}),(0,kb.jsxs)("button",{className:"google-signin-button",onClick:async()=>{const e=new Mh;try{c(!0);const t=(await Af(_y,e)).user,n={name:t.displayName,age:a};f(Sb({email:t.email,password:"",name:t.displayName,...n})),h("Signup successful!")}catch(m){console.error("Google sign-in error: ",m),h("Signup failed, please try again.")}finally{c(!1)}},disabled:u,children:[(0,kb.jsx)(r_,{size:20})," Sign Up with Google"]})]})},s_=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(""),u=I(),c=Hw(),{user:d,error:h}=g((e=>e.auth));(0,e.useEffect)((()=>{d?(l("Login successful!"),c(d.isAdmin?"/admin":"/")):h&&l(h),o(!1)}),[d,h,c]);return(0,kb.jsxs)("div",{className:"auth-container",children:[(0,kb.jsx)("h2",{children:"Login"}),(0,kb.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(!0),u(Eb(t,r))},children:[(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{children:"Email:"}),(0,kb.jsx)("input",{type:"email",value:t,onChange:e=>n(e.target.value),required:!0,disabled:s})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{children:"Password:"}),(0,kb.jsx)("input",{type:"password",value:r,onChange:e=>i(e.target.value),required:!0,disabled:s})]}),a&&(0,kb.jsx)("p",{className:"message",children:a}),(0,kb.jsx)("button",{type:"submit",disabled:s,children:s?"Logging in...":"Login"})]}),(0,kb.jsxs)("button",{className:"google-signin-button",onClick:async()=>{const e=new Mh;try{o(!0);const t=(await Af(_y,e)).user;u(Eb(t.email,"")),l("Login successful!")}catch(h){console.error("Google sign-in error: ",h),l("Login failed, please try again.")}finally{o(!1)}},disabled:s,children:[(0,kb.jsx)(r_,{size:20})," Login with Google"]})]})},o_=()=>{const{user:t}=g((e=>e.auth)),{balance:n}=g((e=>e.wallet)),r=I(),[i,s]=(0,e.useState)(!1),[o,a]=(0,e.useState)({name:(null===t||void 0===t?void 0:t.name)||"",email:(null===t||void 0===t?void 0:t.email)||"",age:(null===t||void 0===t?void 0:t.age)||"",bio:(null===t||void 0===t?void 0:t.bio)||"",profileImage:(null===t||void 0===t?void 0:t.profileImage)||"",gameUids:(null===t||void 0===t?void 0:t.gameUids)||{},username:(null===t||void 0===t?void 0:t.username)||""}),[l,u]=(0,e.useState)(null),[c,d]=(0,e.useState)(""),h=(0,e.useCallback)((()=>{if(null!==t&&void 0!==t&&t.uid){const e=$c(Pu(Ey,"users",t.uid),(e=>{a((t=>({...t,...e.data()})))}));return r(Ay()),e}}),[null===t||void 0===t?void 0:t.uid,r]);(0,e.useEffect)((()=>{const e=h();return()=>e&&e()}),[h]);const f=e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n})))},p=(e,t)=>{const{value:n}=e.target;a((e=>({...e,gameUids:{...e.gameUids,[t]:n}})))};return t?(0,kb.jsxs)("div",{className:"profile-container",children:[(0,kb.jsxs)("h2",{children:[o.name,"'s Profile"]}),(0,kb.jsx)("img",{src:o.profileImage||"default-profile.png",alt:"Profile",className:"profile-image"}),i?(0,kb.jsxs)("div",{className:"profile-edit-form",children:[["name","email","age","bio"].map((e=>(0,kb.jsxs)("div",{children:[(0,kb.jsxs)("label",{children:[e.charAt(0).toUpperCase()+e.slice(1),":"]}),(0,kb.jsx)("input",{type:"age"===e?"number":"text",name:e,value:o[e],onChange:f,disabled:"email"===e})]},e))),(0,kb.jsxs)("div",{children:[(0,kb.jsx)("label",{children:"Username:"}),(0,kb.jsx)("input",{type:"text",name:"username",value:o.username,onChange:f,disabled:!(null===t||void 0===t||!t.username)}),c&&(0,kb.jsx)("p",{className:"error-text",children:c})]}),Object.keys(o.gameUids).map((e=>(0,kb.jsxs)("div",{children:[(0,kb.jsxs)("label",{children:[e," UID:"]}),(0,kb.jsx)("input",{type:"text",value:o.gameUids[e],onChange:t=>p(t,e)})]},e))),(0,kb.jsx)("label",{children:"Add Game UID:"}),(0,kb.jsx)("input",{type:"text",placeholder:"Game Name",onBlur:e=>p({target:{value:""}},e.target.value)}),(0,kb.jsx)("label",{children:"Profile Image:"}),(0,kb.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{u(e.target.files[0])}}),(0,kb.jsxs)("div",{className:"profile-edit-actions",children:[(0,kb.jsx)("button",{onClick:async()=>{var e,n;if(o.username)try{if(o.username!==t.username){if(!await r(Tb(o.username)))return void d("Username is already taken")}let a=o.profileImage;if(l)try{if(a){const e=jm(Sy,a);await function(e){return Cm(e=ve(e))}(e)}const e=jm(Sy,`profile-images/${t.uid}/${l.name}`);await Rm(e,l),a=await Dm(e)}catch(i){console.error("Error handling profile image: ",i)}null!==t&&void 0!==t&&t.uid?(r((e=t.uid,n={...o,profileImage:a},async t=>{t({type:"UPDATE_USER_REQUEST"});try{const{name:r,age:i,bio:s="",profileImage:o,gameUids:a=[],username:l=""}=n,u=_y.currentUser;u&&await Yh(u,{displayName:r,photoURL:o});const c=Pu(Ey,"users",e);await Vc(c,{name:r,age:i,bio:s,profileImage:o,gameUids:a,username:l}),t({type:"UPDATE_USER_SUCCESS",payload:{uid:e,name:r,age:i,bio:s,profileImage:o,gameUids:a,username:l}})}catch(i){t({type:"UPDATE_USER_FAILURE",payload:i.message}),console.error("Profile update failed:",i.message)}})),s(!1)):console.error("User ID is missing, cannot update profile")}catch(i){d(i.message)}else d("Username is required")},children:"Save Changes"}),(0,kb.jsx)("button",{onClick:()=>s(!1),children:"Cancel"})]})]}):(0,kb.jsxs)(kb.Fragment,{children:[(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Email:"})," ",o.email]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Age:"})," ",o.age]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Bio:"})," ",o.bio]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Username:"})," ",o.username]}),Object.keys(o.gameUids).map((e=>(0,kb.jsxs)("p",{children:[(0,kb.jsxs)("strong",{children:[e," UID:"]})," ",o.gameUids[e]]},e))),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Wallet Balance:"})," \u20b9",n||0]}),(0,kb.jsx)("button",{className:"edit-button",onClick:()=>s(!0),children:"Edit Profile"})]})]}):(0,kb.jsx)("p",{children:"Please log in to view your profile."})};var a_=n(963),l_=n.n(a_);l_().setAppElement("#root");const u_=e=>{let{formData:t,handleChange:n,handleSubmit:r,formError:i,closeModal:s}=e;return(0,kb.jsxs)("div",{className:"admin-form",children:[Object.values(i).map(((e,t)=>(0,kb.jsx)("p",{className:"form-error",children:e},t))),["title","tournamentName","description","participants","prizePool","roomId","roomPassword"].map(((e,r)=>(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{children:e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase()))}),(0,kb.jsx)("input",{type:e.includes("Fee")||e.includes("Pool")||e.includes("Participants")?"number":"text",name:e,placeholder:e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),value:t[e],onChange:n,disabled:"entryFee"===e&&!t.isPaid})]},r))),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{children:"Map Name"}),(0,kb.jsxs)("select",{name:"mapName",value:t.mapName,onChange:n,children:[(0,kb.jsx)("option",{value:"",children:"Select Map"}),(0,kb.jsx)("option",{value:"Map1",children:"Map 1"}),(0,kb.jsx)("option",{value:"Map2",children:"Map 2"}),(0,kb.jsx)("option",{value:"Map3",children:"Map 3"})]})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{children:"Tournament Type"}),(0,kb.jsxs)("select",{name:"tournamentType",value:t.tournamentType,onChange:n,children:[(0,kb.jsx)("option",{value:"",children:"Select Type"}),(0,kb.jsx)("option",{value:"solo",children:"Solo"}),(0,kb.jsx)("option",{value:"duo",children:"Duo"}),(0,kb.jsx)("option",{value:"squad",children:"Squad"})]})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{children:"Entry Fee"}),(0,kb.jsxs)("select",{name:"isPaid",value:t.isPaid,onChange:n,children:[(0,kb.jsx)("option",{value:!0,children:"Paid"}),(0,kb.jsx)("option",{value:!1,children:"Free"})]})]}),t.isPaid&&(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{children:"Entry Fee"}),(0,kb.jsx)("input",{type:"number",name:"entryFee",value:t.entryFee,onChange:n,placeholder:"Enter entry fee"})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{children:"Image"}),(0,kb.jsx)("input",{type:"file",name:"image",onChange:n})]}),(0,kb.jsxs)("div",{className:"form-actions",children:[(0,kb.jsx)("button",{className:"btn btn-primary",onClick:r,children:t.currentTournamentId?"Update Tournament":"Add Tournament"}),(0,kb.jsx)("button",{className:"btn btn-close",onClick:s,children:"Close"})]})]})},c_=e=>{let{tournaments:t,handleEdit:n,handleDelete:r,openParticipantsModal:i}=e;return(0,kb.jsx)("div",{className:"tournament-list",children:t&&t.length>0?t.map((e=>(0,kb.jsxs)("div",{className:"tournament-item",children:[(0,kb.jsxs)("div",{className:"tournament-header",children:[(0,kb.jsx)("h3",{children:e.title}),e.imageUrl&&(0,kb.jsx)("img",{src:e.imageUrl,alt:e.title,className:"tournament-image"})]}),(0,kb.jsx)("p",{children:e.description}),(0,kb.jsxs)("p",{children:["Entry Fee: ",e.isPaid?e.entryFee:"Free"]}),(0,kb.jsxs)("p",{children:["Participants: ",e.participants]}),(0,kb.jsxs)("p",{children:["Prize Pool: ",e.prizePool]}),(0,kb.jsxs)("p",{children:["Map: ",e.mapName]}),(0,kb.jsxs)("p",{children:["Type: ",e.tournamentType]}),(0,kb.jsxs)("div",{className:"tournament-actions",children:[(0,kb.jsx)("button",{className:"btn btn-edit",onClick:()=>n(e),children:"Edit"}),(0,kb.jsx)("button",{className:"btn btn-delete",onClick:()=>r(e.id),children:"Delete"}),(0,kb.jsx)("button",{className:"btn btn-primary",onClick:()=>i(e.id),children:"View Participants"})]})]},e.id))):(0,kb.jsx)("p",{children:"No tournaments available"})})},d_=e=>{let{participants:t,closeModal:n}=e;return(0,kb.jsxs)("div",{className:"participants-modal",children:[(0,kb.jsx)("h3",{children:"Participants"}),t&&t.length>0?(0,kb.jsxs)("table",{className:"participants-table",children:[(0,kb.jsx)("thead",{children:(0,kb.jsxs)("tr",{children:[(0,kb.jsx)("th",{children:"Name"}),(0,kb.jsx)("th",{children:"Email"}),(0,kb.jsx)("th",{children:"Score"})]})}),(0,kb.jsx)("tbody",{children:t.map(((e,t)=>(0,kb.jsxs)("tr",{children:[(0,kb.jsx)("td",{children:e.name}),(0,kb.jsx)("td",{children:e.email}),(0,kb.jsx)("td",{children:e.score})]},t)))})]}):(0,kb.jsx)("p",{children:"No participants available"}),(0,kb.jsx)("button",{className:"btn btn-close",onClick:n,children:"Close"})]})},h_=()=>{const t=I(),{tournaments:n}=g((e=>e.tournament)),[r,i]=(0,e.useState)({title:"",tournamentName:"",description:"",entryFee:0,participants:0,prizePool:0,image:null,isPaid:!0,roomId:"",roomPassword:"",mapName:"",tournamentType:"",currentTournamentId:null}),[s,o]=(0,e.useState)({}),[a,l]=(0,e.useState)(!1),[u,c]=(0,e.useState)(!1),[d,h]=(0,e.useState)({});(0,e.useEffect)((()=>{const e=$c(Ou(Ey,"tournaments"),(e=>{e.docs.map((e=>({id:e.id,...e.data()})));t(Ab())}));return()=>e()}),[t]),(0,e.useEffect)((()=>{n.length>0&&(async()=>{const e={};for(const r of n)try{const t=Ou(Ey,"tournaments",r.id,"participants"),n=await Uc(t);e[r.id]=n.docs.map((e=>e.data()))}catch(t){console.error("Error fetching participants:",t)}o(e)})()}),[n]);const f=()=>{l(!1),i({title:"",tournamentName:"",description:"",entryFee:0,participants:0,prizePool:0,image:null,isPaid:!0,roomId:"",roomPassword:"",mapName:"",tournamentType:"",currentTournamentId:null})};return(0,kb.jsxs)("div",{className:"admin-panel",children:[(0,kb.jsx)("h2",{children:"Admin Panel"}),(0,kb.jsx)("button",{className:"btn btn-primary",onClick:()=>l(!0),children:"Add Tournament"}),(0,kb.jsx)(c_,{tournaments:n,handleEdit:e=>{i({...e,currentTournamentId:e.id,image:null}),l(!0)},handleDelete:async e=>{try{await zc(Pu(Ey,"tournaments",e))}catch(t){console.error("Error deleting tournament:",t)}},openParticipantsModal:e=>{o(s[e]||[]),c(!0)}}),(0,kb.jsx)(l_(),{isOpen:a,onRequestClose:f,contentLabel:"Tournament Modal",children:(0,kb.jsx)(u_,{formData:r,handleChange:e=>{const{name:t,value:n,files:r}=e.target;i((e=>({...e,[t]:"isPaid"===t?"true"===n:r?r[0]:n,entryFee:"isPaid"===t&&"false"===n?0:e.entryFee})))},handleSubmit:async()=>{if(h({}),r.title&&r.tournamentName&&r.description)if(r.isPaid&&r.entryFee<=0)h((e=>({...e,entryFeeError:"Entry fee must be greater than 0."})));else try{let e="";if(r.image){const t=jm(Sy,`tournament_images/${r.image.name}`);await Rm(t,r.image),e=await Dm(t)}const t={title:r.title,tournamentName:r.tournamentName,description:r.description,entryFee:r.entryFee,participants:r.participants,prizePool:r.prizePool,roomId:r.roomId,roomPassword:r.roomPassword,mapName:r.mapName,tournamentType:r.tournamentType,isPaid:r.isPaid,imageUrl:e};if(r.currentTournamentId)await Vc(Pu(Ey,"tournaments",r.currentTournamentId),t);else{const e=Date.now().toString();await Fc(Pu(Ey,"tournaments",e),t)}f()}catch(e){console.error("Error saving tournament:",e)}else h((e=>({...e,validationError:"Please fill in all required fields."})))},formError:d,closeModal:f})}),(0,kb.jsx)(l_(),{isOpen:u,onRequestClose:()=>c(!1),contentLabel:"Participants Modal",children:(0,kb.jsx)(d_,{participants:s,closeModal:()=>c(!1)})})]})},f_=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)("all"),[u,c]=(0,e.useState)(!1),[d,h]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{try{const e=Ou(Ey,"pendingTransactions"),t=await Uc(e);let r=[];t.forEach((e=>{const t=e.data();r.push({id:e.id,...t})})),n(r),i(r)}catch(e){console.error("Error fetching transactions:",e)}finally{o(!1)}})()}),[]);const f=async(e,t)=>{try{const r=Pu(Ey,"pendingTransactions",e),s=(await Lc(r)).data(),o=Pu(Ey,"users",s.userId);"completed"===t&&"Deposit"===s.type?await Vc(o,{balance:Ey.FieldValue.increment(s.amount)}):"completed"===t&&"Withdrawal"===s.type&&await Vc(o,{balance:Ey.FieldValue.increment(-s.amount)}),await Vc(r,{status:t}),n((t=>t.filter((t=>t.id!==e)))),i((t=>t.filter((t=>t.id!==e))))}catch(r){console.error("Error updating transaction status:",r)}};return(0,kb.jsxs)("div",{className:"admin-panel",children:[(0,kb.jsx)("h1",{children:"Admin Transaction Panel"}),s?(0,kb.jsx)("p",{children:"Loading..."}):(0,kb.jsxs)("div",{children:[(0,kb.jsxs)("div",{className:"filter-container",children:[(0,kb.jsx)("label",{htmlFor:"status-filter",children:"Filter by Status:"}),(0,kb.jsxs)("select",{id:"status-filter",value:a,onChange:e=>{l(e.target.value),"all"===e.target.value?i(t):i(t.filter((t=>t.status===e.target.value)))},children:[(0,kb.jsx)("option",{value:"all",children:"All"}),(0,kb.jsx)("option",{value:"pending",children:"Pending"}),(0,kb.jsx)("option",{value:"completed",children:"Completed"}),(0,kb.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,kb.jsxs)("div",{className:"transaction-list",children:[(0,kb.jsx)("h2",{children:"All Transactions"}),(0,kb.jsx)("ul",{children:r.map((e=>(0,kb.jsxs)("li",{className:"transaction-item",onClick:()=>(h(e),void c(!0)),children:[(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Username:"})," ",e.username]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Amount:"})," \u20b9",e.amount]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Status:"})," ",e.status]})]},e.id)))})]})]}),u&&d&&(0,kb.jsxs)("div",{className:"transaction-details",children:[(0,kb.jsx)("h2",{children:"Transaction Details"}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"ID:"})," ",d.id]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Type:"})," ",d.type]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Amount:"})," \u20b9",d.amount]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Status:"})," ",d.status]}),(0,kb.jsxs)("p",{children:[(0,kb.jsx)("strong",{children:"Transaction ID:"})," ",d.transactionId]}),(0,kb.jsx)("button",{onClick:()=>f(d.id,"completed"),children:"Approve"}),(0,kb.jsx)("button",{onClick:()=>f(d.id,"rejected"),children:"Reject"}),(0,kb.jsx)("button",{onClick:()=>{c(!1),h(null)},children:"Close"})]})]})},p_=()=>(0,kb.jsxs)("div",{className:"aboutus-container",children:[(0,kb.jsx)("h1",{children:"About Us"}),(0,kb.jsx)("p",{children:"Welcome to ArenaWager! We are dedicated to providing a seamless and exciting eSports experience. Our platform offers competitive tournaments, real-time leaderboards, and much more. Join us to take your gaming experience to the next level!"})]}),m_=()=>{const[t,n]=(0,e.useState)("");return(0,kb.jsxs)("div",{className:"contactus-container",children:[(0,kb.jsx)("h1",{children:"Contact Us"}),(0,kb.jsx)("p",{children:"We'd love to hear from you! Whether you have questions, feedback, or need support, feel free to reach out to us."}),(0,kb.jsxs)("form",{className:"contact-form",onSubmit:async e=>{e.preventDefault(),n("Sending....");const t=new FormData(e.target);t.append("access_key","4192796f-04c0-4a01-bdb7-04a93d80989e");try{const r=await fetch("https://api.web3forms.com/submit",{method:"POST",body:t}),i=await r.json();i.success?(n("Form Submitted Successfully"),e.target.reset()):n("Submission Failed: "+i.message)}catch(r){n("Submission Failed: "+r.message)}},children:[(0,kb.jsx)("label",{htmlFor:"name",children:"Name"}),(0,kb.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Your Name",required:!0}),(0,kb.jsx)("label",{htmlFor:"email",children:"Email"}),(0,kb.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Your Email",required:!0}),(0,kb.jsx)("label",{htmlFor:"message",children:"Message"}),(0,kb.jsx)("textarea",{id:"message",name:"message",placeholder:"Your Message",required:!0}),(0,kb.jsx)("button",{type:"submit",children:"Submit"})]}),(0,kb.jsx)("span",{className:"result-message",children:t})]})},g_=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)({gameType:"",dateRange:""}),[s,o]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const e=bc(Ou(Ey,"tournaments")),t=(await Uc(e)).docs.map((e=>({id:e.id,...e.data()})));o(t)}catch(e){console.error("Error fetching tournaments:",e)}})()}),[]);const a=(0,e.useMemo)((()=>{let e=s;if(t&&(e=e.filter((e=>e.tournamentName.toLowerCase().includes(t.toLowerCase())))),r.gameType&&(e=e.filter((e=>e.gameType===r.gameType))),r.dateRange){const[t,n]=r.dateRange.split("_to_").map((e=>new Date(e)));e=e.filter((e=>{const r=new Date(e.date);return r>=t&&r<=n}))}return e}),[t,r,s]),l=e=>{const{name:t,value:n}=e.target;i((e=>({...e,[t]:n})))};return(0,kb.jsxs)("div",{className:"tournaments-container",children:[(0,kb.jsx)("h1",{children:"Tournaments"}),(0,kb.jsx)("p",{children:"Explore upcoming tournaments and join the competition!"}),(0,kb.jsxs)("div",{className:"search-filter-container",children:[(0,kb.jsx)("input",{type:"text",placeholder:"Search tournaments",value:t,onChange:e=>{n(e.target.value)}}),(0,kb.jsxs)("select",{name:"gameType",onChange:l,value:r.gameType,children:[(0,kb.jsx)("option",{value:"",children:"All Game Types"}),(0,kb.jsx)("option",{value:"FreeFire",children:"FreeFire"}),(0,kb.jsx)("option",{value:"Call of Duty",children:"Call of Duty"}),(0,kb.jsx)("option",{value:"BGMI",children:"BGMI"})]}),(0,kb.jsx)("input",{type:"text",name:"dateRange",placeholder:"Date Range (YYYY-MM-DD_to_YYYY-MM-DD)",value:r.dateRange,onChange:l})]}),(0,kb.jsx)("div",{className:"tournament-list",children:a.length>0?a.map((e=>(0,kb.jsxs)("div",{className:"tournament-card",children:[(0,kb.jsx)("h2",{children:e.title}),(0,kb.jsxs)("p",{children:["Game: ",e.tournamentName]}),(0,kb.jsxs)("p",{children:["Date: ",e.date]}),(0,kb.jsx)("p",{children:e.description}),(0,kb.jsx)("button",{children:"Join Tournament"})]},e.id))):(0,kb.jsx)("p",{children:"No tournaments found."})})]})},y_=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)("All"),[u,c]=(0,e.useState)(["All"]);return(0,e.useEffect)((()=>{(async()=>{try{const e=bc(Ou(Ey,"games")),t=(await Uc(e)).docs.map((e=>e.data().name));c(["All",...t]);const r=bc(Ou(Ey,"players"),Cc("score","desc")),i=(await Uc(r)).docs.map((e=>({id:e.id,...e.data()})));n(i)}catch(e){console.error("Error fetching leaderboard data:",e)}})()}),[]),(0,e.useEffect)((()=>{const e=t.filter((e=>("All"===a||e.game===a)&&(e.username.toLowerCase().includes(s.toLowerCase())||""===s)));i(e)}),[s,a,t]),(0,kb.jsxs)("div",{className:"leaderboard-container",children:[(0,kb.jsx)("h1",{children:"Leaderboard"}),(0,kb.jsx)("p",{children:"See the top players and their scores!"}),(0,kb.jsxs)("div",{className:"filters",children:[(0,kb.jsx)("input",{type:"text",placeholder:"Search by username",value:s,onChange:e=>o(e.target.value)}),(0,kb.jsx)("select",{value:a,onChange:e=>l(e.target.value),children:u.map(((e,t)=>(0,kb.jsx)("option",{value:e,children:e},t)))})]}),(0,kb.jsxs)("table",{className:"leaderboard-table",children:[(0,kb.jsx)("thead",{children:(0,kb.jsxs)("tr",{children:[(0,kb.jsx)("th",{children:"Rank"}),(0,kb.jsx)("th",{children:"Username"}),(0,kb.jsx)("th",{children:"Score"}),(0,kb.jsx)("th",{children:"Game"})]})}),(0,kb.jsx)("tbody",{children:r.length>0?r.map(((e,t)=>(0,kb.jsxs)("tr",{children:[(0,kb.jsx)("td",{children:t+1}),(0,kb.jsx)("td",{children:e.username}),(0,kb.jsx)("td",{children:e.score}),(0,kb.jsx)("td",{children:e.game})]},e.id))):(0,kb.jsx)("tr",{children:(0,kb.jsx)("td",{colSpan:"4",children:"No players found."})})})]})]})},v_=()=>{const[t,n]=(0,e.useState)({email:"",password:"",confirmPassword:""}),[r,i]=(0,e.useState)({notifications:!0,privacy:"public"}),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(null),[u,c]=(0,e.useState)(""),d=e=>{const{name:r,value:i}=e.target;n({...t,[r]:i})},h=e=>{const{name:t,value:n,type:s,checked:o}=e.target;i({...r,[t]:"checkbox"===s?o:n})};return(0,kb.jsxs)("div",{className:"settings-container",children:[(0,kb.jsx)("h1",{children:"Settings"}),(0,kb.jsx)("p",{children:"Manage your account settings and preferences here."}),(0,kb.jsxs)("form",{className:"settings-form",onSubmit:async e=>{e.preventDefault(),(t.password!==t.confirmPassword?(c("Passwords do not match."),0):/\S+@\S+\.\S+/.test(t.email)?(c(""),1):(c("Invalid email address."),0))&&(console.log("Basic Settings:",t),console.log("Advanced Settings:",r),console.log("Username:",s),console.log("Profile Picture:",a),c("Settings saved successfully!"))},children:[(0,kb.jsxs)("section",{className:"basic-settings",children:[(0,kb.jsx)("h2",{children:"Basic Settings"}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,kb.jsx)("input",{type:"email",id:"email",name:"email",value:t.email,onChange:d,placeholder:"Enter your new email"})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"password",children:"New Password"}),(0,kb.jsx)("input",{type:"password",id:"password",name:"password",value:t.password,onChange:d,placeholder:"Enter your new password"})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,kb.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:d,placeholder:"Confirm your new password"})]})]}),(0,kb.jsxs)("section",{className:"advanced-settings",children:[(0,kb.jsx)("h2",{children:"Advanced Settings"}),(0,kb.jsx)("div",{className:"form-group",children:(0,kb.jsxs)("label",{htmlFor:"notifications",children:[(0,kb.jsx)("input",{type:"checkbox",id:"notifications",name:"notifications",checked:r.notifications,onChange:h}),"Enable Notifications"]})}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"privacy",children:"Privacy Settings"}),(0,kb.jsxs)("select",{id:"privacy",name:"privacy",value:r.privacy,onChange:h,children:[(0,kb.jsx)("option",{value:"public",children:"Public"}),(0,kb.jsx)("option",{value:"private",children:"Private"}),(0,kb.jsx)("option",{value:"friends",children:"Friends Only"})]})]})]}),(0,kb.jsxs)("section",{className:"profile-settings",children:[(0,kb.jsx)("h2",{children:"Profile Settings"}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"username",children:"Username"}),(0,kb.jsx)("input",{type:"text",id:"username",name:"username",value:s,onChange:e=>{o(e.target.value)},placeholder:"Enter your username"})]}),(0,kb.jsxs)("div",{className:"form-group",children:[(0,kb.jsx)("label",{htmlFor:"profilePicture",children:"Profile Picture"}),(0,kb.jsx)("input",{type:"file",id:"profilePicture",name:"profilePicture",accept:"image/*",onChange:e=>{l(e.target.files[0])}}),a&&(0,kb.jsx)("img",{src:URL.createObjectURL(a),alt:"Profile Preview",className:"profile-picture-preview"})]})]}),u&&(0,kb.jsx)("p",{className:"feedback-message",children:u}),(0,kb.jsx)("button",{type:"submit",className:"save-button",children:"Save Settings"})]})]})};function w_(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(W_){s(W_)}}function a(e){try{l(r.throw(e))}catch(W_){s(W_)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function b_(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(W_){s=[6,W_],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var __,E_=function(){return E_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E_.apply(this,arguments)},S_=function(e){return{loading:void 0===e||null===e,value:e}},C_=function(t){var n=t?t():void 0,r=(0,e.useReducer)((function(e,t){switch(t.type){case"error":return E_(E_({},e),{error:t.error,loading:!1,value:void 0});case"reset":return S_(t.defaultValue);case"value":return E_(E_({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),S_(n)),i=r[0],s=r[1],o=(0,e.useCallback)((function(){var e=t?t():void 0;s({type:"reset",defaultValue:e})}),[t]),a=(0,e.useCallback)((function(e){s({type:"error",error:e})}),[]),l=(0,e.useCallback)((function(e){s({type:"value",value:e})}),[]);return(0,e.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:a,setValue:l,value:i.value}}),[i.error,i.loading,o,a,l,i.value])},T_=new Uint8Array(16);function k_(){if(!__&&!(__="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return __(T_)}const x_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const I_=function(e){return"string"===typeof e&&x_.test(e)};for(var N_=[],A_=0;A_<256;++A_)N_.push((A_+256).toString(16).substr(1));const O_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(N_[e[t+0]]+N_[e[t+1]]+N_[e[t+2]]+N_[e[t+3]]+"-"+N_[e[t+4]]+N_[e[t+5]]+"-"+N_[e[t+6]]+N_[e[t+7]]+"-"+N_[e[t+8]]+N_[e[t+9]]+"-"+N_[e[t+10]]+N_[e[t+11]]+N_[e[t+12]]+N_[e[t+13]]+N_[e[t+14]]+N_[e[t+15]]).toLowerCase();if(!I_(n))throw TypeError("Stringified UUID is invalid");return n};const P_=function(e,t,n){var r=(e=e||{}).random||(e.rng||k_)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return O_(r)},R_=()=>{const[t]=function(t,n){var r=C_((function(){return t.currentUser})),i=r.error,s=r.loading,o=r.setError,a=r.setValue,l=r.value;return(0,e.useEffect)((function(){var e=Jh(t,(function(e){return w_(void 0,void 0,void 0,(function(){var t;return b_(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return a(e),[2]}}))}))}),o);return function(){e()}}),[t]),[l,s,i]}(_y),[n,r]=(0,e.useState)([]),[i,s]=(0,e.useState)(""),[o,a]=(0,e.useState)(null),[l,u]=(0,e.useState)(""),[c,d]=(0,e.useState)(""),[h,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(!1),[g,y]=(0,e.useState)(null),[v,w]=(0,e.useState)(""),[b,_]=(0,e.useState)(null),[E,S]=(0,e.useState)(""),[C,T]=(0,e.useState)(""),[k,x]=(0,e.useState)("");(0,e.useEffect)((()=>{const e=$c(bc(Ou(Ey,"communityPosts"),Cc("timestamp","desc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));r(t)})),t=localStorage.getItem("selectedPostId");if(t){const e=n.find((e=>e.id===t));y(e)}const i=localStorage.getItem("commentText");return i&&w(i),()=>e()}),[]);const I=async e=>{if(e.preventDefault(),i.trim()||o){f(!0);let e="";if(o){const t=jm(Sy,`communityImages/${P_()}`);await Rm(t,o),e=await Dm(t)}await Bc(Ou(Ey,"communityPosts"),{text:i,userId:t.uid,userName:t.displayName,timestamp:Vn.now(),imageUrl:e,category:l,tags:c.split(",").map((e=>e.trim())),likes:[],comments:{},kudos:0}),P()}},N=async e=>{if(e.preventDefault(),b&&(E.trim()||o)){f(!0);let e="";if(o){const t=jm(Sy,`communityImages/${P_()}`);await Rm(t,o),e=await Dm(t)}const t=Pu(Ey,"communityPosts",b.id);await Vc(t,{text:E,category:C,tags:k.split(",").map((e=>e.trim())),imageUrl:e||b.imageUrl}),P()}},A=e=>{a(e.target.files[0])},O=()=>m(!1),P=()=>{s(""),a(null),u(""),d(""),f(!1),m(!1)};return(0,kb.jsxs)("div",{className:"community",children:[(0,kb.jsx)("h2",{children:"Community"}),(0,kb.jsx)("button",{onClick:()=>m(!0),children:"New Post"}),n.map((e=>(0,kb.jsxs)("div",{className:"community-post",children:[(0,kb.jsx)("h3",{children:e.userName}),e.imageUrl&&(0,kb.jsx)("img",{src:e.imageUrl,alt:"Post"}),(0,kb.jsx)("p",{children:e.text}),(0,kb.jsx)("small",{children:new Date(1e3*e.timestamp.seconds).toLocaleString()}),(0,kb.jsxs)("div",{className:"community-post-meta",children:[e.category&&(0,kb.jsxs)("span",{className:"post-category",children:["Category: ",e.category]}),e.tags&&(0,kb.jsxs)("div",{className:"post-tags",children:["Tags: ",e.tags.join(", ")]})]}),(0,kb.jsxs)("div",{className:"community-post-actions",children:[(0,kb.jsxs)("button",{onClick:()=>(async e=>{const n=Pu(Ey,"communityPosts",e),r=((await Lc(n)).data().likes||[]).includes(t.uid);await Vc(n,{likes:r?Yc(t.uid):Qc(t.uid)})})(e.id),children:[(0,kb.jsx)(Kb,{})," ",e.likes?e.likes.length:0]}),(0,kb.jsxs)("button",{onClick:()=>{y(e),localStorage.setItem("selectedPostId",e.id)},children:[(0,kb.jsx)(Hb,{})," ",e.comments?Object.keys(e.comments).length:0]}),(0,kb.jsx)("button",{onClick:()=>(e=>{navigator.clipboard.writeText(`${window.location.origin}/posts/${e.id}`),alert("Post link copied to clipboard!")})(e),children:(0,kb.jsx)(Jb,{})}),t.uid===e.userId&&(0,kb.jsxs)(kb.Fragment,{children:[(0,kb.jsx)("button",{onClick:()=>(e=>{_(e),S(e.text),T(e.category||""),x(e.tags?e.tags.join(", "):""),m(!0)})(e),children:(0,kb.jsx)(Wb,{})}),(0,kb.jsx)("button",{onClick:()=>(async e=>{const t=Pu(Ey,"communityPosts",e);await zc(t)})(e.id),children:(0,kb.jsx)(Zb,{})})]})]}),g&&g.id===e.id&&(0,kb.jsxs)("div",{className:"community-comments",children:[(0,kb.jsx)("h4",{children:"Comments"}),Object.values(e.comments||{}).map(((e,t)=>(0,kb.jsxs)("div",{className:"community-comment",children:[(0,kb.jsxs)("p",{children:[(0,kb.jsxs)("strong",{children:[e.userName,":"]})," ",e.text]}),(0,kb.jsx)("small",{children:new Date(1e3*e.timestamp.seconds).toLocaleString()})]},t))),(0,kb.jsx)("textarea",{value:v,onChange:e=>{w(e.target.value),localStorage.setItem("commentText",e.target.value)},placeholder:"Add a comment..."}),(0,kb.jsx)("button",{onClick:()=>(async e=>{if(v.trim()){const n=Pu(Ey,"communityPosts",e);await Vc(n,{comments:{...g.comments,[P_()]:{userName:t.displayName,text:v,timestamp:Vn.now()}}}),w(""),y(null),localStorage.removeItem("selectedPostId"),localStorage.removeItem("commentText")}})(e.id),disabled:h,children:h?"Submitting...":"Submit"})]})]},e.id))),(0,kb.jsx)(l_(),{isOpen:p,onRequestClose:O,className:"post-modal",overlayClassName:"modal-overlay",children:(0,kb.jsxs)("div",{className:"post-form",children:[(0,kb.jsx)("h3",{children:b?"Edit Post":"New Post"}),(0,kb.jsx)("textarea",{value:b?E:i,onChange:e=>b?S(e.target.value):s(e.target.value),placeholder:"Share your thoughts..."}),(0,kb.jsx)("input",{type:"file",onChange:A}),(0,kb.jsx)("input",{type:"text",value:b?C:l,onChange:e=>b?T(e.target.value):u(e.target.value),placeholder:"Category"}),(0,kb.jsx)("input",{type:"text",value:b?k:c,onChange:e=>b?x(e.target.value):d(e.target.value),placeholder:"Tags (comma separated)"}),(0,kb.jsx)("button",{onClick:b?N:I,disabled:h,children:h?"Saving...":b?"Update Post":"Post"}),(0,kb.jsxs)("button",{onClick:O,className:"close-modal-button",children:[(0,kb.jsx)(Zb,{})," Close"]})]})})]})},D_=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)("deposit"),[s,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(null),u=I(),{user:c}=g((e=>e.auth)),d=g((e=>e.wallet));(0,e.useEffect)((()=>{c&&u(Ay())}),[c,u]);return(0,kb.jsxs)("div",{className:"wallet-container",children:[(0,kb.jsx)("h1",{children:"My Wallet"}),(0,kb.jsxs)("p",{children:["Balance: \u20b9",(e=>isNaN(e)?"0.00":parseFloat(e).toFixed(2))(d.balance)]}),(0,kb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!c||t<=0)l("Please enter a valid amount.");else{o(!0),l(null);try{const e=parseFloat(t);if(isNaN(e))throw new Error("Invalid amount");const i=parseFloat(d.balance)||0,s="deposit"===r?i+e:i-e;if("withdrawal"===r&&s<0)throw new Error("Insufficient funds");const o=Pu(Ey,"wallets",c.uid);(await Lc(o)).exists()?await Vc(o,{balance:s,transactions:Qc({amount:e,type:r,date:new Date,details:"deposit"===r?"User Deposit":"User Withdrawal"})}):await Fc(o,{balance:s,transactions:[{amount:e,type:r,date:new Date,details:"deposit"===r?"User Deposit":"User Withdrawal"}]}),u(Oy(s)),n("")}catch(a){console.error("Error handling transaction:",a),l(a.message)}finally{o(!1)}}},children:[(0,kb.jsx)("input",{type:"number",value:t,onChange:e=>n(e.target.value),placeholder:"Enter amount"}),(0,kb.jsxs)("select",{value:r,onChange:e=>i(e.target.value),children:[(0,kb.jsx)("option",{value:"deposit",children:"Deposit"}),(0,kb.jsx)("option",{value:"withdrawal",children:"Withdraw"})]}),(0,kb.jsx)("button",{type:"submit",disabled:s,children:s?"Processing...":"Submit"}),a&&(0,kb.jsx)("p",{className:"error",children:a})]})]})},j_=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(!1);return(0,kb.jsxs)("div",{className:"post-achievement",children:[(0,kb.jsx)("h2",{children:"Post Achievement"}),(0,kb.jsx)("input",{type:"text",placeholder:"Title",value:t,onChange:e=>n(e.target.value)}),(0,kb.jsx)("textarea",{placeholder:"Content",value:r,onChange:e=>i(e.target.value)}),(0,kb.jsx)("input",{type:"file",onChange:e=>o(e.target.files[0])}),(0,kb.jsx)("button",{onClick:async()=>{l(!0);let e="";if(s){const t=jm(Sy,`achievements/${s.name}`);await Rm(t,s),e=await Dm(t)}const a=Ou(Ey,"posts");await Bc(a,{title:t,content:r,author:"User ID or Name",createdAt:new Date,mediaUrl:e}),l(!1),n(""),i(""),o(null)},disabled:a,children:a?"Posting...":"Post Achievement"})]})},L_=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(null),[u,c]=(0,e.useState)(""),[d,h]=(0,e.useState)(null),[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(""),[y,v]=(0,e.useState)(!1),{user:w}=(()=>{const[t,n]=(0,e.useState)(null),r=yp(by);return(0,e.useEffect)((()=>{const e=Jh(r,(e=>{n(e||null)}));return()=>e()}),[r]),{user:t}})(),b=Lu(by),_=Lm(by),E=(0,e.useRef)(null);(0,e.useEffect)((()=>{const e=$c(Ou(b,"groups"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));n(t)}));return()=>e()}),[b]),(0,e.useEffect)((()=>{var e;null===(e=E.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[d,u]);const S=()=>v(!1),C=async()=>{if(d)try{const e=Pu(b,"groups",d);await zc(e),h(null)}catch(e){console.error("Error deleting group:",e)}};return(0,kb.jsxs)("div",{className:"group-management",children:[(0,kb.jsx)("h2",{children:"Manage Gaming Groups"}),(0,kb.jsxs)("button",{className:"create-group-toggle",onClick:()=>p(!f),children:[f?"Cancel":(0,kb.jsx)(Qb,{})," ",f?"Cancel":"Create Group"]}),f&&(0,kb.jsxs)("div",{className:"create-group",children:[(0,kb.jsx)("input",{type:"text",placeholder:"Group Name",value:r,onChange:e=>i(e.target.value)}),(0,kb.jsx)("textarea",{placeholder:"Group Description",value:s,onChange:e=>o(e.target.value)}),(0,kb.jsx)("input",{type:"file",accept:"image/*",onChange:e=>l(e.target.files[0])}),a&&(0,kb.jsx)("img",{src:URL.createObjectURL(a),alt:"Group Preview",className:"group-image-preview"}),(0,kb.jsx)("button",{onClick:async()=>{if(r.trim()&&s.trim()&&a)try{const e=await(async e=>{const t=jm(_,`groupImages/${e.name}`);return await Rm(t,e),Dm(t)})(a),t=Ou(b,"groups"),n=await Bc(t,{name:r,description:s,image:e,members:[w.uid],chat:[],leaderboard:[],achievements:[]});i(""),o(""),l(null),p(!1),h(n.id)}catch(e){console.error("Error creating group:",e)}},className:"create-group-button",children:"Create Group"})]}),(0,kb.jsx)("input",{type:"text",placeholder:"Search Groups...",value:m,onChange:e=>g(e.target.value),className:"group-search"}),(0,kb.jsxs)("div",{className:"group-list",children:[(0,kb.jsx)("h3",{children:"Available Gaming Groups"}),t.filter((e=>e.name.toLowerCase().includes(m.toLowerCase()))).map((e=>(0,kb.jsxs)("div",{className:"group-item",children:[(0,kb.jsx)("img",{src:e.image,alt:e.name,className:"group-image"}),(0,kb.jsxs)("div",{className:"group-info",children:[(0,kb.jsx)("strong",{children:e.name}),(0,kb.jsx)("p",{children:e.description}),e.members.includes(w.uid)?(0,kb.jsxs)(kb.Fragment,{children:[(0,kb.jsx)("button",{onClick:()=>{return t=e.id,h(t),void v(!0);var t},className:"group-button",children:"Enter Group"}),e.members[0]===w.uid&&(0,kb.jsxs)("button",{onClick:C,className:"delete-group-button",children:[(0,kb.jsx)(t_,{})," Delete Group"]})]}):(0,kb.jsx)("button",{onClick:()=>(async e=>{try{const t=Pu(b,"groups",e);await Vc(t,{members:Qc(w.uid)}),h(e),v(!0)}catch(t){console.error("Error joining group:",t)}})(e.id),className:"group-button",children:"Join Group"})]})]},e.id)))]}),(0,kb.jsx)(l_(),{isOpen:y,onRequestClose:S,className:"group-chat-modal",overlayClassName:"modal-overlay",children:(0,kb.jsxs)("div",{className:"group-chat",children:[(0,kb.jsxs)("header",{className:"chat-header",children:[(0,kb.jsx)("h3",{children:"Group Chat"}),(0,kb.jsx)("button",{onClick:S,className:"chat-close-button",children:(0,kb.jsx)(Zb,{})})]}),(0,kb.jsxs)("div",{className:"chat-messages",children:[(()=>{if(!d)return null;const e=t.find((e=>e.id===d));return e?e.chat.slice().reverse().map(((e,t)=>(0,kb.jsx)("div",{className:"chat-message "+(e.sender===w.displayName?"self":""),children:(0,kb.jsxs)("div",{className:"chat-message-content "+(e.sender===w.displayName?"self":""),children:[(0,kb.jsx)("div",{className:"chat-message-sender",children:e.sender===w.displayName?"You":e.sender}),(0,kb.jsx)("div",{className:"chat-message-text",children:e.message}),(0,kb.jsx)("div",{className:"chat-message-timestamp",children:new Date(e.timestamp.toDate()).toLocaleTimeString()})]})},t))):null})(),(0,kb.jsx)("div",{ref:E})]}),(0,kb.jsxs)("div",{className:"chat-input",children:[(0,kb.jsx)("textarea",{placeholder:"Type a message...",value:u,onChange:e=>c(e.target.value)}),(0,kb.jsx)("button",{onClick:async()=>{if(d&&u.trim())try{const e=Pu(b,"groups",d);await Vc(e,{chat:Qc({sender:w.displayName,message:u,timestamp:new Date})}),c("")}catch(e){console.error("Error sending message:",e)}},className:"send-message-button",children:(0,kb.jsx)(Gb,{})})]})]})})]})},M_=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=$c(bc(Ou(Ey,"events"),Cc("date","asc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));n(t)}),(e=>{console.error("Error fetching events:",e),i("Failed to load events")}));return()=>e()}),[]),r?(0,kb.jsx)("div",{children:r}):(0,kb.jsxs)("div",{className:"events-container",children:[(0,kb.jsx)("h1",{children:"Upcoming Events"}),(0,kb.jsx)("ul",{className:"events-list",children:t.map((e=>(0,kb.jsxs)("li",{className:"event-item",children:[(0,kb.jsx)("h2",{children:e.title}),(0,kb.jsx)("p",{children:e.description}),(0,kb.jsxs)("p",{children:["Date: ",new Date(1e3*e.date.seconds).toLocaleDateString()]}),(0,kb.jsx)(vb,{to:`/events/${e.id}`,children:"View Details"})]},e.id)))})]})},U_=()=>{const{id:t}=Ww(),[n,r]=(0,e.useState)(null),[i,s]=(0,e.useState)(null),[o,a]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{(async()=>{try{const e=Pu(Ey,"events",t),n=await Lc(e);n.exists()?r(n.data()):s("Event not found")}catch(e){console.error("Error fetching event:",e),s("Failed to load event")}finally{a(!1)}})()}),[t]),o?(0,kb.jsx)("div",{children:"Loading..."}):i?(0,kb.jsx)("div",{children:i}):(0,kb.jsxs)("div",{className:"event-detail-container",children:[(0,kb.jsx)("h1",{children:n.title}),(0,kb.jsx)("p",{children:n.description}),(0,kb.jsxs)("p",{children:["Date: ",new Date(1e3*n.date.seconds).toLocaleDateString()]}),(0,kb.jsxs)("p",{children:["Location: ",n.location]}),(0,kb.jsxs)("p",{children:["Time: ",new Date(1e3*n.date.seconds).toLocaleTimeString()]})]})},F_=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[u,c]=(0,e.useState)(null);return(0,kb.jsxs)("div",{className:"create-event-container",children:[(0,kb.jsx)("h1",{children:"Create New Event"}),u&&(0,kb.jsx)("p",{className:"error-message",children:u}),(0,kb.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await Bc(Ou(Ey,"events"),{title:t,description:r,date:Vn.fromDate(new Date(s)),location:a}),n(""),i(""),o(""),l("")}catch(u){console.error("Error adding document: ",u),c("Failed to create event. Please try again.")}},children:[(0,kb.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"Event Title",required:!0}),(0,kb.jsx)("textarea",{value:r,onChange:e=>i(e.target.value),placeholder:"Event Description",required:!0}),(0,kb.jsx)("input",{type:"datetime-local",value:s,onChange:e=>o(e.target.value),required:!0}),(0,kb.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Event Location",required:!0}),(0,kb.jsx)("button",{type:"submit",children:"Create Event"})]})]})},V_=()=>{const{id:t}=Ww(),n=Hw(),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[u,c]=(0,e.useState)(""),[d,h]=(0,e.useState)(null),[f,p]=(0,e.useState)(!0);(0,e.useEffect)((()=>{(async()=>{try{const e=Pu(Ey,"events",t),n=await Lc(e);if(n.exists()){const e=n.data();i(e.title||""),o(e.description||""),l(e.date?e.date.toDate().toISOString().slice(0,16):""),c(e.location||"")}else h("Event not found")}catch(e){console.error("Error fetching event:",e),h("Failed to load event")}finally{p(!1)}})()}),[t]);return f?(0,kb.jsx)("div",{children:"Loading..."}):(0,kb.jsxs)("div",{className:"edit-event-container",children:[(0,kb.jsx)("h1",{children:"Edit Event"}),d&&(0,kb.jsx)("p",{className:"error-message",children:d}),!d&&(0,kb.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Pu(Ey,"events",t);await Vc(e,{title:r,description:s,date:Vn.fromDate(new Date(a)),location:u}),n(`/events/${t}`)}catch(i){console.error("Error updating event:",i),h("Failed to update event")}},children:[(0,kb.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Event Title",required:!0}),(0,kb.jsx)("textarea",{value:s,onChange:e=>o(e.target.value),placeholder:"Event Description",required:!0}),(0,kb.jsx)("input",{type:"datetime-local",value:a,onChange:e=>l(e.target.value),required:!0}),(0,kb.jsx)("input",{type:"text",value:u,onChange:e=>c(e.target.value),placeholder:"Event Location",required:!0}),(0,kb.jsx)("button",{type:"submit",children:"Update Event"})]})]})},z_=t=>{let{currentUserId:n,onSelect:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)("");(0,e.useEffect)((()=>{const e=$c(Ou(Ey,"users"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));s(t)}));return()=>e()}),[]);const l=i.filter((e=>e.username&&e.username.toLowerCase().includes(o.toLowerCase())&&e.id!==n));return(0,kb.jsxs)("div",{className:"user-search-container",children:[(0,kb.jsx)("input",{type:"text",value:o,onChange:e=>a(e.target.value),placeholder:"Search users..."}),(0,kb.jsx)("ul",{className:"user-list",children:l.map((e=>(0,kb.jsx)("li",{onClick:()=>r(e.id),children:e.username},e.id)))})]})},B_=t=>{let{currentUserId:n,recipientId:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)("");(0,e.useEffect)((()=>{const e=[n,r].sort().join("_"),t=Ey.collection("users").doc(n).collection("chat").doc(e).collection("messages").orderBy("timestamp").onSnapshot((e=>{const t=e.docs.map((e=>e.data()));s(t)}));return()=>t()}),[n,r]);return(0,kb.jsxs)("div",{className:"chat-container",children:[(0,kb.jsx)("div",{className:"messages",children:i.map(((e,t)=>(0,kb.jsx)("div",{className:"message "+(e.sender===n?"sent":"received"),children:(0,kb.jsx)("p",{children:e.text})},t)))}),(0,kb.jsxs)("div",{className:"message-input",children:[(0,kb.jsx)("input",{type:"text",value:o,onChange:e=>a(e.target.value),placeholder:"Type a message..."}),(0,kb.jsx)("button",{onClick:async()=>{const e=[n,r].sort().join("_"),t=(new Date).toISOString();await Ey.collection("users").doc(n).collection("chat").doc(e).collection("messages").add({sender:n,receiver:r,text:o,timestamp:t,chatId:e}),await Ey.collection("users").doc(r).collection("chat").doc(e).collection("messages").add({sender:n,receiver:r,text:o,timestamp:t,chatId:e}),a("")},children:"Send"})]})]})},$_=t=>{let{currentUserId:n}=t;const[r,i]=(0,e.useState)(null);return(0,kb.jsx)("div",{className:"chat-interface",children:r?(0,kb.jsx)(B_,{currentUserId:n,recipientId:r}):(0,kb.jsx)(z_,{currentUserId:n,onSelect:i})})},q_=()=>{const t=I(),{user:n}=g((e=>e.auth));(0,e.useEffect)((()=>{const e=localStorage.getItem("user");if(e){const n=JSON.parse(e);t((e=>({type:"SET_USER",payload:e}))(n))}}),[t]);const r=()=>n?n.isAdmin?"/admin":"/home":"/";return(0,kb.jsxs)(mb,{children:[(0,kb.jsx)(xb,{}),(0,kb.jsx)("div",{className:"container",children:(0,kb.jsxs)(ub,{children:[(0,kb.jsx)(ab,{path:"/",element:(0,kb.jsx)(Ib,{})}),(0,kb.jsx)(ab,{path:"/home",element:n?n.isAdmin?(0,kb.jsx)(ob,{to:"/admin"}):(0,kb.jsx)(n_,{}):(0,kb.jsx)(ob,{to:"/"})}),(0,kb.jsx)(ab,{path:"/signup",element:n?(0,kb.jsx)(ob,{to:r()}):(0,kb.jsx)(i_,{})}),(0,kb.jsx)(ab,{path:"/login",element:n?(0,kb.jsx)(ob,{to:r()}):(0,kb.jsx)(s_,{})}),(0,kb.jsx)(ab,{path:"/profile",element:n?(0,kb.jsx)(o_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/admin",element:n&&n.isAdmin?(0,kb.jsx)(h_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/admin/transactions",element:n&&n.isAdmin?(0,kb.jsx)(f_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/aboutus",element:(0,kb.jsx)(p_,{})}),(0,kb.jsx)(ab,{path:"/contactus",element:(0,kb.jsx)(m_,{})}),(0,kb.jsx)(ab,{path:"/tournaments",element:n?(0,kb.jsx)(g_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/leaderboard",element:n?(0,kb.jsx)(y_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/settings",element:n?(0,kb.jsx)(v_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/wallet",element:n?(0,kb.jsx)(D_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/community",element:n?(0,kb.jsx)(R_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/postachievement",element:n?(0,kb.jsx)(j_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/groupmanagement",element:n?(0,kb.jsx)(L_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/events",element:n?(0,kb.jsx)(M_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"/events/:id",element:n&&n.isAdmin?(0,kb.jsx)(U_,{}):(0,kb.jsx)(ob,{to:"/events"})}),(0,kb.jsx)(ab,{path:"/create-event",element:n&&n.isAdmin?(0,kb.jsx)(F_,{}):(0,kb.jsx)(ob,{to:"/events"})}),(0,kb.jsx)(ab,{path:"/edit-event/:id",element:n&&n.isAdmin?(0,kb.jsx)(V_,{}):(0,kb.jsx)(ob,{to:"/events"})}),(0,kb.jsx)(ab,{path:"/chat",element:n?(0,kb.jsx)($_,{}):(0,kb.jsx)(ob,{to:"/login"})}),(0,kb.jsx)(ab,{path:"*",element:(0,kb.jsx)(ob,{to:"/"})})]})})]})},H_=D(Gv,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(N(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},a=t.map((e=>e(o)));return s=j(...a)(i.dispatch),{...i,dispatch:s}}}(M));r.createRoot(document.getElementById("root")).render((0,kb.jsx)(S,{store:H_,children:(0,kb.jsx)(q_,{})}))})()})();
//# sourceMappingURL=main.14896f74.js.map